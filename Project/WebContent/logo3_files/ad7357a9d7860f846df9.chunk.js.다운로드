(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{316:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return _});var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),l=n(6),c=n.n(l),h=n(3),u=n.n(h),d=n(7),m=n.n(d),p=n(504);!function(e){e.ITEM="ITEM",e.ITEM_AREA="ITEM_AREA",e.TEXT_EDIT="TEXT_EDIT",e.LOADING="LOADING",e.GUIDELINE="GUIDELINE",e.PRINTOUT="PRINTOUT",e.HANDLER="HANDLER",e.HOVER="HOVER",e.HYPERLINK="HYPERLINK"}(i||(i={}));var _=function(e){function t(e){var n;return r()(this,t),(n=c()(this,u()(t).call(this,"layer ".concat(e.toLowerCase(),"_layer")))).type=e,n}return m()(t,e),s()(t,[{key:"changeSizeStyle",value:function(e,t){this.type===i.TEXT_EDIT?this.changeSize(e,t):this.changeSizeScaled(e,t)}}]),t}(p.a)},33:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(10),l=n(8),c=n(40),h=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a()(this,e),this.HEIGHT_MARGIN=0,this.contentsWrapClassName=l.a.POPUP_CONTENTS_WRAP,this._isOpen=!1,this._makeBtnClose=!0,this.btnCloseAppend=!1,this._focusOnPopup=!0,this.isAutoCloseWhenRotating=!0,this.target=n,this.isAppend=i,this.isAutoDirection=r,e.globalPopupListeners.forEach(function(e){if(e.afterConstruct)try{e.afterConstruct(t)}catch(e){0}}),this.close=this.close.bind(this),this.classList=document.createElement("div").classList,this.classList.add(l.a.POPUP),this.classList.add("responsive")}return o()(e,null,[{key:"addGlobalListener",value:function(t){e.globalPopupListeners.add(t)}},{key:"removeGlobalListener",value:function(t){e.globalPopupListeners.delete(t)}}]),o()(e,[{key:"setOnCloseListener",value:function(e){this.onCloseListener=e}},{key:"open",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.isAutoCloseWhenRotating&&window.addEventListener("orientationchange",this.close),e.globalPopupListeners.forEach(function(e){if(e.beforeOpen)try{e.beforeOpen()}catch(e){0}}),null==this.element&&this.render(),t?(this.contentsWrap.setAttribute("style","left:".concat(t.left?"".concat(t.left,"px"):"auto",";")+"right:".concat(t.right?"".concat(t.right,"px"):"auto","; top:").concat(t.top,"px;")),this.element.classList.add(l.a.OFFSET_POPUP)):this.element.classList.remove(l.a.OFFSET_POPUP),n&&this.element.classList.add("active"),this.isAppend?this.target.appendChild(this.element):this.target.insertBefore(this.element,this.target.children.item(0)),c.a.setScrollOff(!0),this.isAutoDirection&&(t&&$(window).height()<$(this.contentsWrap).height()+this.HEIGHT_MARGIN+t.top?this.element.classList.add(l.a.UP_SIDE):this.element.classList.remove(l.a.UP_SIDE),t&&$(window).width()<$(this.contentsWrap).width()+t.left?this.element.classList.add(l.a.LEFT_SIDE):this.element.classList.remove(l.a.LEFT_SIDE)),this._focusOnPopup&&this.element.focus(),this.doProcess(!0),this.updateUI(),e.globalPopupListeners.forEach(function(e){if(e.afterOpen)try{e.afterOpen()}catch(e){0}}),this}},{key:"close",value:function(){return this.isAutoCloseWhenRotating&&window.removeEventListener("orientationchange",this.close),e.globalPopupListeners.forEach(function(e){if(e.beforeClose)try{e.beforeClose()}catch(e){0}}),c.a.setScrollOff(!1),this.doProcess(!1),e.globalPopupListeners.forEach(function(e){if(e.afterClose)try{e.afterClose()}catch(e){0}}),this.onCloseListener&&this.onCloseListener.onClosePopup(),this}},{key:"render",value:function(){var e=this;if(this.element=document.createElement("div"),this.element.id=this.getId(),this.element.className=this.getClassName(),this.element.tabIndex=0,this.element.addEventListener("click",function(t){t.preventDefault(),e.isPreventBackgroundCloseEvent()||e.isMouseDownOnPopup||e.close()}),this.element.addEventListener("keydown",function(e){return e.stopPropagation()}),this.contentsWrap=document.createElement("div"),this.contentsWrap.className="".concat(this.contentsWrapClassName," ").concat(l.a.HIDDEN),this.isCenterPositionWhenMobileMode()&&this.contentsWrap.classList.add("center"),this.contentsWrap.addEventListener("click",function(e){return e.stopPropagation()}),this.element.appendChild(this.contentsWrap),this._makeBtnClose){var t=Object(s.setToolsIcon)(this.element,s.ToolsIcon.CLOSE,this.btnCloseAppend);t.addEventListener("click",function(){return e.close()}),this.contentsWrap.appendChild(t)}this.contentsWrap.appendChild(this.getContents()),this.contentsWrap.addEventListener("mousedown",function(t){t.stopPropagation(),e.isMouseDownOnPopup=!0}),this.element.addEventListener("mousedown",function(){e.isMouseDownOnPopup=!1})}},{key:"doProcess",value:function(e){e?(this.element.classList.add("active"),this.contentsWrap.classList.remove(l.a.HIDDEN)):(this.element&&this.element.parentElement&&(this.element.parentElement.removeChild(this.element),this.element.classList.remove("active")),this.contentsWrap&&this.contentsWrap.classList.add(l.a.HIDDEN)),this._isOpen=e}},{key:"isPreventBackgroundCloseEvent",value:function(){return!1}},{key:"isCenterPositionWhenMobileMode",value:function(){return!1}},{key:"getId",value:function(){return this.id}},{key:"updateUI",value:function(){}},{key:"getClassName",value:function(){return this.classList.toString()}},{key:"createDivElement",value:function(e,t){var n=document.createElement("div");return n.className=e,t&&n.classList.add(t),n}},{key:"makeBtnClose",set:function(e){this._makeBtnClose=e}},{key:"focusOnPopup",set:function(e){this._focusOnPopup=e}},{key:"isOpen",get:function(){return this._isOpen}}]),e}();h.globalPopupListeners=new Set},361:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(8),l=n(226),c=n(67),h=function(){function e(){a()(this,e)}return o()(e,null,[{key:"getPageScrollContents",value:function(){return l.a.instance.editorMainVC?l.a.instance.editorMainVC.canvasAreaVC.scrollElement.contents:document.body}},{key:"scrollOff",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n&&!c.a.isMobileDevice()||(t=t||e.getPageScrollContents())&&t.classList.add(s.a.SCROLL_OFF)}},{key:"scrollOn",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n&&!c.a.isMobileDevice()||(t=t||e.getPageScrollContents())&&t.classList.remove(s.a.SCROLL_OFF)}}]),e}()},40:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(8),l=function(){function e(){a()(this,e)}return o()(e,null,[{key:"init",value:function(e){this.enable=e}},{key:"isEnabled",value:function(){return this.enable}},{key:"addTarget",value:function(e){e&&!this.scrollOffStatusList.some(function(t){return t.element===e})&&this.scrollOffStatusList.push({element:e,stack:0})}},{key:"setScrollOff",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.enable&&this.scrollOffStatusList.forEach(function(n){t.some(function(e){return e===n.element})||(e?(n.stack++,n.element.classList.add(s.a.SCROLL_OFF)):(n.stack--,n.stack=n.stack<0?0:n.stack,0===n.stack&&n.element.classList.remove(s.a.SCROLL_OFF)))})}}]),e}();l.scrollOffStatusList=[],l.enable=!1},439:function(e,t,n){"use strict";var i,a=n(2),r=n.n(a),o=n(62),s=n.n(o),l=n(4),c=n.n(l),h=n(0),u=n.n(h),d=n(1),m=n.n(d),p=n(324),_=n(226),E=n(228),v=n(8),g=n(258),f=n(233),T=n(9),y=n.n(T),I=n(6),C=n.n(I),R=n(3),O=n.n(R),S=n(7),L=n.n(S),A=n(225),N=n(279),P=n(31),w=n(278),b=n(10),x=n(46),k=n(170),D=n(224);!function(e){e.PAGE_HEADER="page_header",e.PAGE_HEADER_WRAP="page_header_wrap",e.CURRENT_PAGE_NUM_TOP_DIV="current_page_num_top_div",e.PAGE_LABEL_DIV="page_label_div",e.SHEET_SIZE_SMALL="sheet_size_small",e.NO_TITLE="no_title",e.OVER_FLOWN="overflown",e.LEFT_SIDE_WRAP="left_side_wrap",e.PAGE_BTN_WRAP="page_btn_wrap",e.PAGE_MEMO="page_memo",e.COLOR_BTN_WRAP="color_button_wrap",e.BTN_ADD_NEW_PAGE="add_new_page",e.BTN_COPY_PAGE="copy_page",e.BTN_MOVE_UP_PAGE="move_up_page",e.BTN_MOVE_DOWN_PAGE="move_down_page",e.BTN_DELETE_PAGE="delete_page"}(i||(i={}));var B=n(73),M=n(505),G=n(67),V=n(12),U=function(e){function t(e,n){var i;return u()(this,t),(i=C()(this,O()(t).call(this,!0))).page=e,i.listener=n,i}return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.container.className=i.PAGE_BTN_WRAP,this.container.appendChild(this.makeMemoButtonWrapElement()),this.container.appendChild(this.makeColorButtonWrapElement()),this.container.appendChild(this.makeFoldableWrapperElement())}},{key:"makeMemoButtonWrapElement",value:function(){var e=this,t=this.btnMemo=document.createElement("button");t.className=i.PAGE_MEMO;var n=new k.a(t,B.a.B,{description:"페이지 메모"});return Object(b.setToolsIcon)(t,b.ToolsIcon.MEMO),this.addEventListenerToButton(t,function(){var i={left:t.getBoundingClientRect().right,top:t.getBoundingClientRect().bottom};e.listener.onClickBtnMemo(i),n.hide()}),t}},{key:"makeColorButtonWrapElement",value:function(){var e=this,t=document.createElement("div");t.className=i.COLOR_BTN_WRAP;var n=this.btnFillBackground=new w.a(function(t){e.btnFillBackground.updateUI({value:t}),e.listener.backgroundChanged(e.page.pageIdx,t)},b.ToolsIcon.FORMAT_COLOR_FILL,void 0,!1,!0);x.a.setGTMValue(n.container,"page_background_solid");new k.a(n.container,B.a.B,{description:"배경 색상"});return n.updateUI({value:"#ffffff"}),t.appendChild(n.container),t}},{key:"makeFoldableWrapperElement",value:function(){var e=this.makeFoldableElement();return e.appendChild(this.makeAddNewPageButton()),e.appendChild(this.makeCopyPageButton()),e.appendChild(this.makeMovePageUpButton()),e.appendChild(this.makeMovePageDownButton()),e.appendChild(this.makeDeletePageButton()),e}},{key:"makeFoldableElement",value:function(){var e=this,t=this.foldableWrap=document.createElement("div");t.className=v.a.FOLDABLE;var n=Object(b.setToolsIcon)(t,b.ToolsIcon.DDDOT);return this.addEventListenerToButton(n,function(t){t.stopPropagation(),_.a.instance.renderPageIdx=e.page.pageIdx,e.setBtnFold(!1)}),t}},{key:"makeAddNewPageButton",value:function(){var e=this,t=this.addPage=document.createElement("button");t.className=i.BTN_ADD_NEW_PAGE;var n=new k.a(t,B.a.B,{description:"새 페이지 추가"});return Object(b.setToolsIcon)(t,b.ToolsIcon.ADD),this.addEventListenerToButton(t,function(){M.a.addBlankPage(e.page.pageIdx+1),n.hide()}),t}},{key:"makeCopyPageButton",value:function(){var e=this,t=this.copyPage=document.createElement("button");t.className=i.BTN_COPY_PAGE;var n=new k.a(t,B.a.B,{description:"페이지 복제"});return Object(b.setToolsIcon)(t,b.ToolsIcon.COPY),this.addEventListenerToButton(t,function(){M.a.addCopiedPage(e.page.pageIdx+1),n.hide()}),t}},{key:"makeMovePageUpButton",value:function(){var e=this,t=this.moveUpPage=document.createElement("button");t.className=i.BTN_MOVE_UP_PAGE;var n=new k.a(t,B.a.B,{description:"페이지 위로 이동"});return Object(b.setToolsIcon)(t,b.ToolsIcon.MOVE_DOWN),t.classList.add("rotate180"),this.addEventListenerToButton(t,function(){A.a.instance.dispatch(new N.d(e.page.pageIdx)),n.hide()}),t}},{key:"makeMovePageDownButton",value:function(){var e=this,t=this.moveDownPage=document.createElement("button");t.className=i.BTN_MOVE_DOWN_PAGE;var n=new k.a(t,B.a.B,{description:"페이지 아래로 이동"});return Object(b.setToolsIcon)(t,b.ToolsIcon.MOVE_DOWN),this.addEventListenerToButton(t,function(){A.a.instance.dispatch(new N.c(e.page.pageIdx)),n.hide()}),t}},{key:"makeDeletePageButton",value:function(){var e=this,t=this.deletePage=document.createElement("button");t.className=i.BTN_DELETE_PAGE;var n=new k.a(t,B.a.B,{description:"페이지 삭제"});return Object(b.setToolsIcon)(t,b.ToolsIcon.DELETE),this.addEventListenerToButton(t,function(){M.a.removePage(e.page.pageIdx),n.dispose()}),t}},{key:"setBtnMemoVisibility",value:function(e){this.btnMemo&&this.btnMemo.classList.toggle(v.a.VISIBLE,e)}},{key:"renderView",value:function(){var e=this;y()(O()(t.prototype),"renderView",this).call(this),A.a.instance.dispatch(new D.c(function(t,n){e.enableButton(e.btnFillBackground.container,!0),e.btnFillBackground.updateUI({value:t.pages[e.page.pageIdx].background.color});var i=t.pages.every(function(e){return!e.isStatusLoading()});e.enableButton(e.addPage,i),e.enableButton(e.copyPage,i),e.enableButton(e.moveUpPage,i&&0!==e.page.pageIdx),e.enableButton(e.moveDownPage,i&&e.page.pageIdx!==n.lastPageIdx),e.enableButton(e.deletePage,i&&1!==t.pages.length),e.setBtnMemoVisibility(V.a.getUser().isLogin())}))}},{key:"enableButton",value:function(e,t){e&&(this.enableStyle(!t,e,"disabled"),t||e.classList.remove("hover"))}},{key:"addEventListenerToButton",value:function(e,t){$(e).on("mousedown touchstart",function(e){e.stopPropagation()}).on("click",function(e){return t(e)}),G.a.isMobileDevice()||(e.addEventListener("mouseenter",function(){e.classList.add("hover")}),e.addEventListener("mouseleave",function(){e.classList.remove("hover")}))}},{key:"setBtnFold",value:function(e){var t=this,n=function(){return t.setBtnFold(!0)};A.a.instance.dispatch(new D.c(function(t,i,a){a.canvasAreaVC.container&&(a.canvasAreaVC.toggleBtnShowVisibility(!e),e&&document.removeEventListener("click",n))}))}},{key:"onChangeViewState",value:function(e,t,n){this.enableButton(this.moveUpPage,e),this.enableButton(this.moveDownPage,e);var i=e||t||n;i?this.foldableWrap.classList.add("line"):this.foldableWrap.classList.remove("line"),this.foldableWrap.style.display=i?"":"none"}}]),t}(P.a),F=n(229),W=n(11),H=n(33),Y=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;u()(this,e),this.pageNumber=t,this.pageTitle=n,this.memo=i,this.memoMaxLength=a}return m()(e,[{key:"getMemoLength",value:function(){return this.memo?this.memo.length:0}}]),e}(),z=function(e){function t(e,n){var i,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return u()(this,t),(i=C()(this,O()(t).call(this))).memoParams=e,i.onCompleteMemo=n,i.offMemoWhenResize=a,i.makeBtnClose=!1,i}return L()(t,e),m()(t,[{key:"getContents",value:function(){var e=this;this.contentsWrap.classList.add("memo_popup"),this.pageMemoTitle=document.createElement("h1"),this.pageMemoTitle.classList.add("page_memo_title"),this.pageMemoTitle.textContent="".concat(this.memoParams.pageNumber+1," 페이지")+" - ".concat(this.memoParams.pageTitle||"제목 입력");var t=this.createDivElement("page_memo_wrapper");return this.memoTextArea=document.createElement("textarea"),this.memoTextArea.classList.add("page_memo_textarea"),this.memoTextArea.placeholder="메모 입력",this.memoTextArea.maxLength=this.memoParams.memoMaxLength,this.memoTextArea.value=this.memoParams.memo,t.appendChild(this.memoTextArea),this.textCount=this.createDivElement("page_memo_counter"),this.setTextCount(this.memoParams.getMemoLength()),t.appendChild(this.textCount),this.completeButton=document.createElement("button"),this.completeButton.textContent="완료",this.completeButton.classList.add("page_memo_complete_button"),this.pageMemo=this.createDivElement("page_memo"),this.pageMemo.appendChild(this.pageMemoTitle),this.pageMemo.appendChild(t),this.pageMemo.appendChild(this.completeButton),this.pageMemoSection=document.createElement("section"),this.pageMemoSection.classList.add("page_memo_section"),this.pageMemoSection.appendChild(this.pageMemo),this.setTextCount(this.memoParams.getMemoLength()),this.memoTextArea.addEventListener("keyup",function(t){var n=e.memoTextArea.value;0<=n.length&&n.length<=2e3&&(e.memoParams=new Y(e.memoParams.pageNumber,e.memoParams.pageTitle,n),e.setTextCount(n.length))}),this.completeButton.addEventListener("click",function(t){t.preventDefault(),e.onCompleteMemo(e.memoParams),e.close()}),this.pageMemoSection}},{key:"setTextCount",value:function(e){this.textCount.innerText="".concat(this.memoParams.memoMaxLength-e)}},{key:"setTitle",value:function(e){this.memoParams.pageTitle=e,this.pageMemoTitle.innerText="".concat(this.memoParams.pageNumber+1," 페이지")+" - ".concat(this.memoParams.pageTitle||"제목 입력")}},{key:"open",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.offMemoWhenResize&&window.addEventListener("resize",this.close),y()(O()(t.prototype),"open",this).call(this,e,n)}},{key:"close",value:function(){return y()(O()(t.prototype),"close",this).call(this),this.onCompleteMemo(this.memoParams),this}}]),t}(H.a),K=n(322),X=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=C()(this,(e=O()(t)).call.apply(e,[this].concat(a)))).actionType=D.a.PAGE_MEMO_SAVE,n.changeDesign=function(){return!0},n.commitAction=function(e,t,n){},n.recycle=function(){},n.rollbackAction=function(e,t,n){},n}return L()(t,e),t}(D.b),j=function(e){function t(e,n){var i;return u()(this,t),(i=C()(this,O()(t).call(this))).pageIdx=e,i.pageTitle=n,i}return L()(t,e),m()(t,[{key:"isChangedFrom",value:function(e){return e.pageIdx!==this.pageIdx||e.pageTitle!==this.pageTitle}}]),t}(P.b),Z=function(e){function t(e){var n;return u()(this,t),(n=C()(this,O()(t).call(this,!0))).globalCloseEventName="click.".concat(W.b.random()),n.titleEditMode=!1,n.page=e,n.pageTitle=e.title,n}return L()(t,e),m()(t,[{key:"onClickBtnMemo",value:function(e){this.pageMemoPopupView||(this.pageMemoPopupView=new z(new Y(this.page.pageIdx,this.pageTitle,this.page.memo),this.onCompleteMemo.bind(this))),this.pageMemoPopupView.open(e,!1)}},{key:"onCompleteMemo",value:function(e){this.pageMemoPopupView=null,this.page.memo!==e.memo&&(this.page.setMemo(e.memo),A.a.instance.dispatch(new X))}},{key:"backgroundChanged",value:function(e,t){A.a.instance.dispatch(new K.c(e,t))}},{key:"getPagePopup",value:function(){return this.onCreateViewIfNotCreated(),this.pageSettingButtonsView.onStartView(),this.pageSettingButtonsView}},{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.container.className=i.PAGE_HEADER,this.pageHeaderContainer=document.createElement("div"),this.pageHeaderContainer.className=i.PAGE_HEADER_WRAP,this.container.appendChild(this.pageHeaderContainer),this.labelCurrentPageNumTop=document.createElement("div"),this.labelCurrentPageNumTop.className=i.CURRENT_PAGE_NUM_TOP_DIV,this.labelCurrentPageNumTop.innerText=this.getPageLabel(),this.pageLabelElement=document.createElement("div"),this.pageLabelElement.className=i.PAGE_LABEL_DIV,this.pageLabelElement.innerText=t.PAGE_LABEL_STRING,this.pageTitleElement=document.createElement("div"),this.pageTitleElement.innerText=this.pageTitle?this.pageTitle:t.INPUT_TEXT_STRING,this.pageTitleElement.className=v.a.PAGE_TITLE,this.pageTitleContainer=document.createElement("div"),this.pageTitleContainer.className=v.a.PAGE_TITLE_WRAP,this.pageTitleContainer.appendChild(this.pageTitleElement),this.leftSideWrap=document.createElement("div"),this.leftSideWrap.classList.add(i.LEFT_SIDE_WRAP),this.leftSideWrap.appendChild(this.labelCurrentPageNumTop),F.a.getPageSettingOption().pageTitleEditable&&(this.leftSideWrap.appendChild(this.pageLabelElement),this.leftSideWrap.appendChild(this.pageTitleContainer)),this.pageHeaderContainer.appendChild(this.leftSideWrap),this.addEventListeners(),this.pageSettingButtonsView=new U(this.page,this),this.pageHeaderContainer.appendChild(this.pageSettingButtonsView.getContainer())}},{key:"addEventListeners",value:function(){var e=this;$(this.pageTitleElement).on("mousedown touchstart",function(e){e.stopPropagation()}).on("click",function(t){_.a.isCropMode()||(t.stopPropagation(),"true"!==e.pageTitleElement.contentEditable&&(_.a.instance.renderPageIdx=e.page.pageIdx,e.pageTitleElement.contentEditable="true",e.pageTitleElement.classList.add(v.a.CONTENTEDITABLE),e.pageTitleElement.focus(),document.execCommand("selectAll"),$(document.body).on(e.globalCloseEventName,function(){return e.pageTitleElement.blur()})))}).on("keydown keyup",function(t){t.stopPropagation(),"Enter"!==t.key&&"Escape"!==t.key||e.pageTitleElement.blur(),e.pageTitleElement.innerText.length>=255&&(e.pageTitleElement.innerText=e.pageTitleElement.innerText.substr(0,255))}).on("focus",function(t){t.stopPropagation(),e.titleEditMode=!0,e.pageTitleElement.parentElement.classList.add(v.a.ACTIVE),document.execCommand("selectAll")}).on("blur",function(){e.pageTitleElement.contentEditable="false",e.pageTitleElement.classList.remove(v.a.CONTENTEDITABLE),e.pageTitleElement.scrollLeft=0,$(document.body).off(e.globalCloseEventName),e.blurHandler()})}},{key:"blurHandler",value:function(){this.pageTitle=this.pageTitleElement.textContent.trim(),this.pageTitle.length||(this.pageTitleElement.innerText=t.INPUT_TEXT_STRING),this.pageTitleElement.parentElement.classList.remove(v.a.ACTIVE),A.a.instance.dispatch(new N.f(this.page.pageIdx,this.pageTitle)),this.titleEditMode=!1}},{key:"setVisible",value:function(e){this.enableStyle(!e,this.pageHeaderContainer,v.a.HIDDEN)}},{key:"renderView",value:function(){if(y()(O()(t.prototype),"renderView",this).call(this),this.setVisible(!_.a.isCropMode()&&!_.a.isSpoidMode()),this.pageSettingButtonsView.renderView(),this.updateSizeBreakPoints(),this.checkUpContentsChange(this.getRenderStates()),this.contentsStatesChanged){if(this.titleEditMode)return void this.blurHandler();this.pageTitle=this.page.title,this.pageTitleElement.innerText=this.page.title?this.page.title:t.INPUT_TEXT_STRING,this.labelCurrentPageNumTop.innerText=this.getPageLabel()}this.mouseDownTarget=null}},{key:"getPageLabel",value:function(){return F.a.getPageSettingOption().pageTitleEmptyAllowable&&!this.pageTitle?"":F.a.getPageSettingOption().pageTitleEditable||!this.pageTitle?"".concat(this.page.pageIdx+1):this.pageTitle}},{key:"updateSizeBreakPoints",value:function(){this.isHidden(this.container)||(this.enableStyle(this.container.offsetWidth<t.SHEET_SIZE_BREAKPOINT,this.leftSideWrap,i.SHEET_SIZE_SMALL),this.enableStyle(this.isOverflownHorizontally(this.pageHeaderContainer),this.pageHeaderContainer,i.OVER_FLOWN))}},{key:"isOverflownHorizontally",value:function(e){var t=0,n=!0,i=!1,a=void 0;try{for(var r,o=e.children[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;s instanceof HTMLElement&&(t+=s.offsetWidth)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return t>this.pageHeaderContainer.offsetWidth}},{key:"isHidden",value:function(e){return null===e.offsetParent}},{key:"getRenderStates",value:function(){return new j(this.page.pageIdx,this.page.title)}},{key:"pageTitle",set:function(e){this._pageTitle=e,this.pageTitleElement&&(this.enableStyle(!e,this.pageTitleContainer,i.NO_TITLE),this.enableStyle(!e,this.leftSideWrap,i.NO_TITLE))},get:function(){return this._pageTitle}}]),t}(P.a);Z.SHEET_SIZE_BREAKPOINT=360,Z.PAGE_LABEL_STRING="페이지",Z.INPUT_TEXT_STRING="제목 입력";var q=n(316),J=n(504),Q=function(e){function t(){var e;return u()(this,t),(e=C()(this,O()(t).call(this,q.a.ITEM_AREA))).itemLayerView=new ee,e}return L()(t,e),m()(t,[{key:"addMask",value:function(e){this.maskElement&&this.container.removeChild(this.maskElement),this.maskElement=e,this.container.appendChild(e)}},{key:"updateMask",value:function(e){this.maskElement&&(this.maskElement.style.zIndex=String(e))}},{key:"hasMask",value:function(){return Boolean(this.maskElement)}},{key:"changeSizeStyle",value:function(e,t){}}]),t}(q.b),ee=function(e){function t(){return u()(this,t),C()(this,O()(t).call(this,q.a.ITEM))}return L()(t,e),m()(t,[{key:"changeSizeStyle",value:function(e,t){this.changeSize(e,t)}}]),t}(q.b),te=function(e){function t(e){var n;u()(this,t),(n=C()(this,O()(t).call(this,"layers"))).layerMap=new Map;var i=new Q;return n.layerMap.set(q.a.ITEM_AREA,i),n.layerMap.set(q.a.ITEM,i.itemLayerView),e.forEach(function(e){n.layerMap.set(e.type,e)}),n}return L()(t,e),m()(t,[{key:"clear",value:function(){this.container.remove()}},{key:"makeElement",value:function(){var e=this;return this.layerMap.forEach(function(t){var n=e.getParentLayerView(t.type);n.container!==t.container.parentElement&&n.container.appendChild(t.container)}),this.container}},{key:"getLayerView",value:function(e){return this.layerMap.get(e)}},{key:"changeSizeStyle",value:function(e,t){this.changeSizeScaled(e,t),this.layerMap.forEach(function(n){n.changeSizeStyle(e,t)})}},{key:"getParentLayerView",value:function(e){return e===q.a.ITEM?this.layerMap.get(q.a.ITEM_AREA):this}}]),t}(J.a),ne=n(506),ie=function(e){function t(e,n){var i;return u()(this,t),(i=C()(this,O()(t).call(this,q.a.HYPERLINK))).scale=n,i.items=e.items,i.width=e.sheetSize.width*n,i.height=e.sheetSize.height*n,i}return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.makeHyperlinkElements(this.items,this.width,this.height,this.scale)}},{key:"changeSizeStyle",value:function(e,t){this.changeSize(e,t)}},{key:"makeHyperlinkElement",value:function(e,t){var n=document.createElement("a");n.target="_blank";var i=e.getLTRBCoordinate(e instanceof f.a);n.style.left="".concat(1*i.left,"px"),n.style.top="".concat(1*i.top,"px"),n.style.width="".concat(1*i.getWidth(),"px"),n.style.height="".concat(1*i.getHeight(),"px"),e instanceof E.d&&(n.style.transform="rotate(".concat(e.props.getRotate(),"deg)")),this.container.appendChild(n),n.addEventListener("click",function(t){t.stopPropagation(),ne.a.exitFullScreen(),window.open(e.props.getHyperlinkValue(),"_blank")})}},{key:"makeHyperlinkElements",value:function(e,t,n,i){var a=this;e.forEach(function(e){e.canDisplayHyperlink()&&(0!==e.props.getHyperlinkValue().length?a.makeHyperlinkElement(e,i):e instanceof f.a&&a.makeHyperlinkElements(e.getMembers(),t,n,i))})}}]),t}(q.b),ae=n(235),re=function(){function e(t,n,i,a,r){u()(this,e),this.viewCreated=!1,this.item=t,this.id=i,n&&(this.container=r||document.createElement(a||"div"),void 0!==this.id&&(this.container.id=this.id),setTimeout(this.onCreateViewIfNotCreated.bind(this),0))}return m()(e,[{key:"onCreateViewIfNotCreated",value:function(){this.viewCreated||(this.viewCreated=!0,this.onCreateView())}},{key:"onCreateView",value:function(){}},{key:"enableStyle",value:function(e,t,n){e?t.classList.add(n):t.classList.remove(n)}},{key:"renderAutoAsync",value:function(e,t){}},{key:"renderLiveEdit",value:function(e,t,n){}},{key:"getMatchedRenderer",value:function(e){}},{key:"updateHoverView",value:function(){}}]),e}(),oe=n(240),se=n(110),le=function(e){function t(e,n,i,a,r,o){var s;return u()(this,t),(s=C()(this,O()(t).call(this,e,i,a,r,o))).loadingViewTimeoutId=0,s.handlerLayer=n,s}var n,i,a,o,s,l;return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.createElements()}},{key:"renderAutoAsync",value:(l=c()(r.a.mark(function e(t){var n,i=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],e.abrupt("return",this.renderAutoAsyncItem(t,n,!1));case 2:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"renderLiveEdit",value:(s=c()(r.a.mark(function e(t,n){var i,a=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>2&&void 0!==a[2]&&a[2],e.abrupt("return",this.renderAutoAsyncItem(t,i,n));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"shouldRerender",value:function(){return!1}},{key:"renderAutoAsyncItem",value:(o=c()(r.a.mark(function e(t,n,i){var a,o,s,l,c,h,u=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.getImageAndDivElement(),o=a.element,s=a.wrapper,l=1,c=this.lastRenderEditScale!==l,this.lastRenderEditScale=l,this.item.checkUpStatesChange(this.item.getRenderStates()),h=0,!(c||this.item.contentsStatesChanged||n||this.shouldRerender())){e.next=17;break}if(h++,this.item.getStatus()!==E.g.LOADING){e.next=12;break}0===this.loadingViewTimeoutId&&(this.loadingViewTimeoutId=window.setTimeout(function(){return u.renderResourceLoadingView(o,u.getLoadingViewScale())},0)),e.next=16;break;case 12:return this.item.getStatus()===E.g.CHANGE&&this.item.setStatus(E.g.STABLE),window.clearTimeout(this.loadingViewTimeoutId),e.next=16,this.renderView(o,l,i);case 16:this.item.lastRenderEditScale=l;case 17:if((h>0||this.item.positionStatesChanged)&&this.updatePosition(s,l),this.item.status!==E.g.NEW&&this.item.status!==E.g.LOADING){e.next=22;break}return e.abrupt("return",s);case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}},e,this)})),function(e,t,n){return o.apply(this,arguments)})},{key:"getLoadingViewScale",value:function(){return 400/Math.max(this.item.getWidth(),this.item.getHeight())}},{key:"renderResourceLoadingView",value:(a=c()(r.a.mark(function e(){var t,n,i=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:this.elements.imageElement,n=i.length>1&&void 0!==i[1]?i[1]:this.lastRenderEditScale,e.next=4,this.renderContents(t,n,function(){var e=c()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"renderView",value:(i=c()(r.a.mark(function e(){var t,n,i=this,a=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:this.elements.imageElement,n=a.length>1&&void 0!==a[1]?a[1]:this.lastRenderEditScale,a.length>2&&void 0!==a[2]&&a[2],e.next=5,this.renderContents(t,n,function(){var e=c()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.item.render(t,n);case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"renderContents",value:(n=c()(r.a.mark(function e(t,n,i){var a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=c()(r.a.mark(function e(o,s){var l,c,h,u,d,m,p,_,E;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=a.item.getCanvasPosData(n),c=l.width,h=l.height,u=l.contentLeft,d=l.contentTop,m=l.offsetX,p=l.offsetY,_=oe.a.createCanvas(new se.a(c,h)),(E=_.getContext("2d")).translate(-u+m,-d+p),e.next=7,i(E,n);case 7:a.renderViewAfter(E,n),t.onload=function(){return o()},t.onerror=function(){return s()},t.src=_.toDataURL(),t.style.width=c+"px",t.style.height=h+"px",t.style.left=u-m+"px",t.style.top=d-p+"px",o(t),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),s(e.t0);case 21:case"end":return e.stop()}},e,null,[[0,18]])}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)})),function(e,t,i){return n.apply(this,arguments)})},{key:"renderViewAfter",value:function(e,t){}},{key:"updatePosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale;this.onCreateViewIfNotCreated(),void 0===e&&(e=this.elements.container),null==e&&(e=this.elements.getImageAndDivElement().wrapper);var n=this.item.props.getLeft()*t,i=this.item.props.getTop()*t,a=this.item.props.getWidth()*t,r=this.item.props.getHeight()*t;return e.style.width=a+"px",e.style.height=r+"px",e.style.transform="translate(".concat(n,"px, ").concat(i,"px) rotateZ(").concat(this.item.props.getRotate(),"deg)"),e.style.zIndex=""+(this.item.props.zIndex+1),this}},{key:"updateBorderStyle",value:function(e){if(null!=this.elements.container){var t=f.b.getRootGroup(this.item.groupId),n=Boolean(e>1||t);this.enableStyle(n,this.elements.container,"multi_select"),n=t?t.getSelectedItem()===this.item&&this.item.select:this.item.select,this.enableStyle(n,this.elements.container,"select"),this.enableStyle(this.item.hover,this.elements.container,"hover")}}},{key:"getMatchedRenderer",value:function(e){return e===this.item?this:null}},{key:"getImageAndDivElement",value:function(){return this.onCreateViewIfNotCreated(),this.elements.getImageAndDivElement()}},{key:"removeElement",value:function(){this.onCreateViewIfNotCreated(),this.elements.removeElement(),this.elements=null}}]),t}(re),ce=n(522),he=function(){function e(t,n,i){u()(this,e),this.photoCrop=t,this.makeElement(n,i)}return m()(e,[{key:"makeElement",value:function(e,t){var n=document.createElement("div");n.className="crop_area",n.style.width="".concat(e,"px"),n.style.height="".concat(t,"px"),this.areaElem=n;var i=document.createElement("div");i.className="crop_box",i.style.width="".concat(e,"px"),i.style.height="".concat(t,"px"),this.boxElem=i;var a=document.createElement("div");a.className="crop_box_overflow",this.boxImgElem=document.createElement("img");var r=document.createElement("div");r.className="crop_box_img_translate",this.boxImgTranslateElem=r;var o=document.createElement("div");o.className="crop_box_img_scale",this.boxImgScaleElem=o,this.boxImgScaleElem.appendChild(this.boxImgElem),this.boxImgTranslateElem.appendChild(this.boxImgScaleElem),a.appendChild(this.boxImgTranslateElem),this.boxElem.appendChild(a),this.areaElem.appendChild(this.boxElem),this.cropContentsElement=document.createElement("div"),this.cropContentsElement.className="crop_contents"}},{key:"setCropContentsElementPosition",value:function(e){var t=e.zoomScale;this.cropContentsElement.style.transform="scale(".concat(t*_.a.instance.pageEditScale,")"),this.cropContentsElement.style.transformOrigin="0% 0%",this.cropContentsElement.style.left="".concat(Math.ceil(e.cropContentsLeft),"px"),this.cropContentsElement.style.top="".concat(Math.ceil(e.cropContentsTop),"px"),this.cropContentsElement.style.width="".concat(e.cropBoxWidth,"px"),this.cropContentsElement.style.height="".concat(e.cropBoxHeight,"px")}}]),e}(),ue=n(246),de=n(234),me=function(e){function t(e){var n;return u()(this,t),(n=C()(this,O()(t).call(this,!0))).item=e,n}return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.photoCrop=this.item.photoCrop,this.cropElements=new he(this.item.photoCrop,this.item.itemPosition.getWidth(),this.item.itemPosition.getHeight()),this.updateBox(),this.updateBoxImgTranslate()}},{key:"updateBox",value:function(){this.cropElements.boxElem.style.transform="translate(".concat(this.photoCrop.boxDivRect.left,"px, ").concat(this.photoCrop.boxDivRect.top,"px)"),this.cropElements.boxElem.style.width="".concat(this.photoCrop.boxDivRect.width,"px"),this.cropElements.boxElem.style.height="".concat(this.photoCrop.boxDivRect.height,"px"),this.photoCrop.cropAreaRect=this.cropElements.boxElem.getBoundingClientRect()}},{key:"updateImgSize",value:function(e,t){this.cropElements.boxImgElem.style.width="".concat(e,"px"),this.cropElements.boxImgElem.style.height="".concat(t,"px")}},{key:"updateBoxImgTranslate",value:function(){var e=this.photoCrop.cloneDivRect.left-this.photoCrop.boxDivRect.left,t=this.photoCrop.cloneDivRect.top-this.photoCrop.boxDivRect.top;this.cropElements.boxImgTranslateElem.style.transform="translate(".concat(e,"px, ").concat(t,"px)"),this.photoCrop.imgPositionV.x=e,this.photoCrop.imgPositionV.y=t}},{key:"addCropElements",value:function(e,t){this.cropElements.mainPageElement&&(this.cropElements.setCropContentsElementPosition(e),this.cropElements.cropPhotoCloneElement||this.cropElements.cropPhotoImgCloneElement||(this.cropElements.cropPhotoCloneElement=t.container.cloneNode(),this.cropElements.cropPhotoImgCloneElement=t.getImageElement().cloneNode(),e.removePhotoCropImgTransform&&(this.cropElements.cropPhotoImgCloneElement.style.transform=""),this.cropElements.cropPhotoCloneElement.className="crop_photo_clone",this.cropElements.cropPhotoImgCloneElement.className="crop_photo_img_clone"),this.cropElements.mainPageElement.parentElement&&this.cropElements.mainPageElement.parentElement.appendChild(this.cropElements.cropContentsElement),this.cropElements.cropContentsElement.appendChild(this.cropElements.cropPhotoCloneElement),this.cropElements.cropPhotoCloneElement.appendChild(this.cropElements.cropPhotoImgCloneElement),this.cropElements.cropContentsElement.appendChild(this.cropElements.areaElem))}},{key:"positionAdjustmentAboutFlip",value:function(e){var t=this.item;if(t.props.isFlipH()){var n=t.itemPosition.left-e.left+(t.itemPosition.right-e.right);t.itemPosition.move(-n,0)}if(t.props.isFlipV()){var i=t.itemPosition.top-e.top+(t.itemPosition.bottom-e.bottom);t.itemPosition.move(0,-i)}}},{key:"getCenterOffset",value:function(e,t){var n=this.item.props.getRotate(),i=this.item.itemPosition.getCenterPos(),a=e.getCenterPos();return t?ue.a.calcLocationByRotate(a,i,n).subtract(a):ue.a.calcLocationByRotate(i,a,n).subtract(i)}},{key:"enterCropMode",value:function(e,n,i){var a=this.item;a.backupRect=a.getLTRBCoordinate(),a.backupImgRect=a.itemPosition.clone(),this.addCropElements(e,n),t.displayPhotoElements(n,!1),this.positionAdjustmentAboutFlip(a.getLTRBCoordinate());var r=a.itemPosition.clone().changeScale(i),o=this.getCenterOffset(this.item.getLTRBCoordinate(),!1),s=r.left+o.x,l=r.top+o.y,c=r.getWidth(),h=r.getHeight();this.setPhotoCropArea(s,l,c,h,this.item.props.getRotate()),this.setPhotoCropBox(c,h),a.itemPosition=new de.a(s,l,s+c,l+h),a.props.setPosition(a.itemPosition.toRect()),this.updateCropCloneElement()}},{key:"setPhotoCropArea",value:function(e,n,i,a,r){this.setAreaDivRect(e,n,i,a),this.cropElements.areaElem.style.transform="translate(".concat(e,"px, ").concat(n,"px) rotate(").concat(r,"deg)"),t.setElementSize(this.cropElements.areaElem,i,a)}},{key:"setPhotoCropBox",value:function(e,t){var n=this.item;if(n.photoCrop.initPhotoCloneBox(0,0,e,t),this.updateImgSize(e,t),n.photoCrop.updateBoxVisible(e,t),n.photoCrop.isCropped){var i=n.getLTRBCoordinate(),a=n.itemPosition.clone(),r=i.left-a.left,o=i.top-a.top;n.photoCrop.initBox(r,o,i.getWidth(),i.getHeight())}this.updateBox()}},{key:"setAreaDivRect",value:function(e,t,n,i){var a=this.item;a.photoCrop.areaDivRect.left=e,a.photoCrop.areaDivRect.top=t,a.photoCrop.areaDivRect.width=n,a.photoCrop.areaDivRect.height=i}},{key:"exitCropMode",value:function(e,n,i){e.applyChangePosition?this.applayCrop(i):this.cancelCrop(),t.displayPhotoElements(n,!0),this.updateCropCloneElement(),this.cropElements.mainPageElement=null,this.cropElements.cropContentsElement.parentElement&&this.cropElements.cropContentsElement.parentElement.removeChild(this.cropElements.cropContentsElement)}},{key:"applayCrop",value:function(e){var t=this.item,n=t.getLTRBCoordinate(),i=n.left-t.photoCrop.imgPositionV.x,a=n.top-t.photoCrop.imgPositionV.y,r=t.photoCrop.getBoxDivRect(),o=i+r.width,s=a+r.height;t.itemPosition=t.getLTRBCoordinate().clone();var l=new de.a(i,a,o,s),c=this.getCenterOffset(l,!0);t.itemPosition.move(c.x,c.y),l.move(c.x,c.y),t.props.setPosition(l.toRect()),this.positionAdjustmentAboutFlip(l),t.photoCrop.applyBoxPosition()}},{key:"cancelCrop",value:function(){var e=this.item;e.props.setPosition(e.backupRect.toRect()),e.itemPosition=e.backupImgRect.clone()}},{key:"updateCropCloneElement",value:function(){var e=this.item.itemPosition.clone();this.cropElements.cropPhotoCloneElement.style.transform="translate(".concat(e.left,"px, ").concat(e.top,"px) \n            rotate(").concat(this.item.props.getRotate(),"deg)"),t.setElementSize(this.cropElements.cropPhotoCloneElement,e.getWidth(),e.getHeight()),t.setElementSize(this.cropElements.cropPhotoImgCloneElement,e.getWidth(),e.getHeight())}},{key:"changeCropMode",value:function(e,t,n,i){n?this.enterCropMode(e,t,i):this.exitCropMode(e,t,i)}},{key:"update",value:function(){this.updateBox(),this.updateBoxImgTranslate(),this.updateImgSize(this.item.getWidth(),this.item.getHeight()),this.updateCropCloneElement()}},{key:"setImageSrc",value:function(e){this.cropElements.boxImgElem&&(this.cropElements.boxImgElem.src=e),this.cropElements.cropPhotoImgCloneElement&&(this.cropElements.cropPhotoImgCloneElement.src=e)}},{key:"setMainPageElement",value:function(e){this.onCreateViewIfNotCreated(),this.cropElements.mainPageElement=e}}],[{key:"displayPhotoElements",value:function(e,t){var n=t?"":"none";e.getImageElement().style.display=n,e.liveCanvasElement&&(e.liveCanvasElement.style.display=n)}},{key:"setElementSize",value:function(e,t,n){e.style.width="".concat(Math.ceil(t),"px"),e.style.height="".concat(Math.ceil(n),"px")}}]),t}(P.a),pe=n(166),_e=function(e){function t(e){var n;return u()(this,t),(n=C()(this,O()(t).call(this,!0))).item=e,n.container.className="".concat(E.d.ITEM_CLASS," ").concat(n.item.getItemType().toLowerCase()),n.container.setAttribute("data-id",n.item.tbpeId),n}return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.imageElement=document.createElement("img"),this.container.appendChild(this.imageElement)}},{key:"getImageElement",value:function(){return this.onCreateViewIfNotCreated(),this.imageElement}},{key:"getImageAndDivElement",value:function(){return this.onCreateViewIfNotCreated(),{element:this.imageElement,wrapper:this.container}}},{key:"removeElement",value:function(){this.container&&(this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.imageElement=null)}},{key:"createShadowCanvas",value:function(){this.shadowCanvas=oe.a.createCanvas(),this.shadowCanvas.style.display="none",this.shadowCanvas.style.position="absolute",this.shadowCanvas.style.zIndex="-1",this.imageElement.style.zIndex="10",this.container.insertBefore(this.shadowCanvas,this.imageElement)}},{key:"removeShadowCanvas",value:function(){this.shadowCanvas&&this.shadowCanvas.parentElement&&(this.shadowCanvas.parentElement.removeChild(this.shadowCanvas),this.shadowCanvas=null)}}]),t}(P.a),Ee=function(e){function t(e){return u()(this,t),C()(this,O()(t).call(this,e))}return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.createShadowCanvas()}},{key:"removeElement",value:function(){this.removeShadowCanvas(),y()(O()(t.prototype),"removeElement",this).call(this)}},{key:"downloadCheck",set:function(e){this._downloadCheck=e,this._downloadCheck&&(this.onCreateViewIfNotCreated(),this._downloadCheck(this.container))}}]),t}(_e),ve=function(e){function t(e){return u()(this,t),C()(this,O()(t).call(this,e,void 0,!0))}var n;return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.photoCropRenderer=new me(this.item)}},{key:"createElements",value:function(){this.elements=new Ee(this.item)}},{key:"getElements",value:function(){return this.onCreateViewIfNotCreated(),this.elements}},{key:"renderView",value:(n=c()(r.a.mark(function e(){var t,n,i,a,o=this,s=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:this.elements.getImageElement(),n=s.length>1&&void 0!==s[1]?s[1]:this.lastRenderEditScale,i=s.length>2&&void 0!==s[2]&&s[2],a=i&&this.item.isActiveLiveEdit,e.abrupt("return",new Promise(function(){var e=c()(r.a.mark(function e(i,s){var l,c,h,u,d,m,p,_,E,v,g,f,T,y,I,C,R,O,S,L,A,N,P;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l=o.item.getCanvasPosData(n),c=l.width,h=l.height,u=l.contentLeft,d=l.contentTop,m=l.offsetX,p=l.offsetY,(_=o.item.getImageElement())?(E=_.width,v=_.height,T=o.item.props.getWidth()/o.item.itemPosition.getWidth(),y=o.item.props.getHeight()/o.item.itemPosition.getHeight(),g=E*T,f=v*y):(E=Math.ceil(o.item.props.getWidth()*n),v=Math.ceil(o.item.props.getHeight()*n),g=E,f=v),!a||o.item.isResourceLoadFail()){e.next=30;break}if(t.parentNode&&t.parentNode.removeChild(t),null!=o.elements.liveCanvasElement&&null==(o.item.isActiveWebGLFilter?o.elements.liveCanvasElement.getContext("webgl")||o.elements.liveCanvasElement.getContext("experimental-webgl"):o.elements.liveCanvasElement.getContext("2d"))&&(o.elements.liveCanvasElement.parentNode&&o.elements.liveCanvasElement.parentNode.removeChild(o.elements.liveCanvasElement),o.elements.liveCanvasElement=null),null==o.elements.liveCanvasElement&&(o.elements.liveCanvasElement=ce.a.getCanvas(),o.elements.liveCanvasElement.style.position="absolute",o.elements.liveCanvasElement.style.display="",o.elements.container.appendChild(o.elements.liveCanvasElement)),o.elements.liveCanvasElement.width=g,o.elements.liveCanvasElement.height=f,!o.item.isActiveWebGLFilter||!ce.a.isEnableWebGL()){e.next=21;break}I=o.item.getPhotoImageRect(n),C=E/o.item.itemPosition.getWidth(),R=v/o.item.itemPosition.getHeight(),O=new de.a(I.left*C,I.top*R,I.right*C,I.bottom*R),ce.a.renderWebGL(o.item,O,n,g,f),o.elements.liveCanvasElement.parentElement||(o.elements.liveCanvasElement.style.position="absolute",o.elements.container.appendChild(o.elements.liveCanvasElement)),o.item.renderShadow(o.elements.shadowCanvas,n,o.elements.liveCanvasElement,c,h),o.updateShadowPosition(n),e.next=28;break;case 21:return(S=o.elements.liveCanvasElement.getContext("2d")).translate(-u+m,-d+p),e.next=25,o.item.render(S,1);case 25:o.item.renderShadow(o.elements.shadowCanvas,n,S.canvas,c,h),o.updateShadowPosition(n),o.renderViewAfter(S,n);case 28:e.next=45;break;case 30:return L=oe.a.createCanvas(new se.a(g,f)),t.parentNode!==o.elements.container&&o.elements.container.appendChild(t),o.elements.liveCanvasElement&&(o.elements.liveCanvasElement.parentElement&&o.elements.liveCanvasElement.parentElement.removeChild(o.elements.liveCanvasElement),o.elements.liveCanvasElement=null),o.elements.shadowIncludedCanvas&&(o.elements.shadowIncludedCanvas.parentElement&&o.elements.shadowIncludedCanvas.parentElement.removeChild(o.elements.shadowIncludedCanvas),o.elements.shadowIncludedCanvas=null),(A=L.getContext("2d")).translate(-u+m,-d+p),e.next=38,o.item.render(A,1);case 38:o.item.renderShadow(o.elements.shadowCanvas,n,A.canvas,c,h),o.updateShadowPosition(n),o.renderViewAfter(A,n),t.onload=function(){return i()},t.onerror=function(){return s()},N=o.item.canDrawShadow()?3:1,t.src=o.item.getLimitedCanvasSizeImgSrc(L,g,f,N);case 45:(P=a&&o.elements.liveCanvasElement?o.elements.liveCanvasElement:t).style.width="".concat(c,"px"),P.style.height="".concat(h,"px"),P.style.left="".concat(u-m,"px"),P.style.top="".concat(d-p,"px"),o.updateShadowPosition(n),i(t),e.next=57;break;case 54:e.prev=54,e.t0=e.catch(0),s(e.t0);case 57:case"end":return e.stop()}},e,null,[[0,54]])}));return function(t,n){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getElements().container,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale,i=this.elements.getImageElement();if(_.a.isCropMode()&&this.item.isEditMode){var a=this.item.getWidth(),r=this.item.getHeight();this.elements.container.style.width="".concat(a,"px"),this.elements.container.style.height="".concat(r,"px"),i.style.width="".concat(a,"px"),i.style.height="".concat(r,"px"),this.photoCropRenderer.update()}else{var o=this.item.getCanvasPosData(n),s=o.width,l=o.height,c=o.contentLeft,h=o.contentTop,u=o.offsetX,d=o.offsetY;this.elements.liveCanvasElement&&(this.elements.liveCanvasElement.style.width="".concat(s,"px"),this.elements.liveCanvasElement.style.height="".concat(l,"px"),this.elements.liveCanvasElement.style.left="".concat(c-u,"px"),this.elements.liveCanvasElement.style.top="".concat(h-d,"px")),i.style.width="".concat(s,"px"),i.style.height="".concat(l,"px"),i.style.left="".concat(c-u,"px"),i.style.top="".concat(h-d,"px"),this.updateShadowPosition(n),y()(O()(t.prototype),"updatePosition",this).call(this,e,n)}return this}},{key:"updateShadowPosition",value:function(e){if(this.item.canDrawShadow()){var t=Math.ceil(this.item.props.getWidth()*e),n=Math.ceil(this.item.props.getHeight()*e),i=t<n?t:n,a=this.item.props.getShadowDistance()*i/130,r=ue.a.getPointByDistanceAngle(a,this.item.props.getShadowAngle()+90-this.item.props.getRotate()),o=this.item.getShadowCanvasPosData(e);this.elements.shadowCanvas.style.display="block",this.elements.shadowCanvas.style.width="".concat(o.width,"px"),this.elements.shadowCanvas.style.height="".concat(o.height,"px"),this.elements.shadowCanvas.style.left="".concat(o.contentLeft-o.offsetX+r.x,"px"),this.elements.shadowCanvas.style.top="".concat(o.contentTop-o.offsetY+r.y,"px")}else this.elements.shadowCanvas.style.display="none"}},{key:"toggleEditMode",value:function(e){var t=this.item;t.isEditMode=!t.isEditMode,_.a.isDefaultMode()?_.a.setCropMode():_.a.setDefaultMode(),t.canIgnoreCropBox=!!e.canMoveIgnoreCropBox,this.photoCropRenderer.changeCropMode(e,this.elements,_.a.isCropMode(),this.lastRenderEditScale)}},{key:"changeNormalMode",value:function(){_.a.isCropMode()&&this.toggleEditMode({cropContentsTop:0,cropContentsLeft:0,zoomScale:0}),this.item.isEditMode=!1}},{key:"cloneImageSrcToCropImageElement",value:function(){var e=this.elements.getImageElement().src;this.photoCropRenderer.setImageSrc(e)}},{key:"updatePhoto",value:function(e,t){var n=this;pe.b.setUrlImage(e,t,pe.a.NONE,!0).then(function(e){n.renderView(n.elements.getImageElement(),n.lastRenderEditScale)})}}]),t}(le),ge=function(e){function t(e){return u()(this,t),C()(this,O()(t).call(this,e))}return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.item.props.isColorInit(),this.shadowSvgDivElement=document.createElement("div"),this.shadowSvgDivElement.id="".concat(this.item.tbpeId).concat(this.item.svgUniqueKey,"shadow"),this.shadowSvgDivElement.style.position="absolute",this.shadowSvgDivElement.style.display="none",this.shadowSvgDivElement.style.zIndex="-1",this.container.insertBefore(this.shadowSvgDivElement,this.imageElement),this.svgDivElement=document.createElement("div"),this.svgDivElement.id="".concat(this.item.tbpeId).concat(this.item.svgUniqueKey),this.svgDivElement.style.position="absolute",this.svgDivElement.style.left="0px",this.svgDivElement.style.top="0px",this.svgDivElement.style.width="100%",this.svgDivElement.style.height="100%",this.svgDivElement.style.zIndex="10",this.container.appendChild(this.svgDivElement),this.item.isResourceLoadFail()?(this.svgDivElement.style.display="none",this.imageElement.style.display="inline"):(this.svgDivElement.style.display="block",this.imageElement.style.display="none")}},{key:"removeElement",value:function(){this.shadowSvgDivElement&&this.shadowSvgDivElement.parentElement&&(this.shadowSvgDivElement.parentElement.removeChild(this.shadowSvgDivElement),this.shadowSvgDivElement=null),this.svgDivElement&&this.svgDivElement.parentElement&&(this.svgDivElement.parentElement.removeChild(this.svgDivElement),this.svgDivElement=null),y()(O()(t.prototype),"removeElement",this).call(this)}}]),t}(_e),fe=n(292),Te=function(e){function t(e){var n;return u()(this,t),(n=C()(this,O()(t).call(this,e,void 0,!0))).thumbRevision=-1,n}var n,i;return L()(t,e),m()(t,[{key:"createElements",value:function(){this.elements=new ge(this.item)}},{key:"renderView",value:(i=c()(r.a.mark(function e(t){var n,i=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:this.lastRenderEditScale,this.item.isResourceLoadFail()){e.next=9;break}return e.next=4,this.item.beforeRender(n);case 4:return this.domUpdate(n),this.updateThumbnail(),e.abrupt("return",t);case 9:return e.abrupt("return",this.renderViewElem(t,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elements.container,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale;return this.item.svgElements.updatePosition(n),y()(O()(t.prototype),"updatePosition",this).call(this,e,n),this}},{key:"renderViewElem",value:(n=c()(r.a.mark(function e(t,n){var i=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=c()(r.a.mark(function e(a,o){var s,l,c,h,u,d,m,p,_;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=i.item.getCanvasPosData(n),l=s.width,c=s.height,h=s.contentLeft,u=s.contentTop,d=s.offsetX,m=s.offsetY,p=oe.a.createCanvas(new se.a(l,c)),(_=p.getContext("2d")).translate(-h+d,-u+m),e.next=7,i.item.renderResourceLoadFailView(_,n);case 7:i.renderViewAfter(_,n),t.onload=function(){return a()},t.onerror=function(){return o()},t.src=p.toDataURL(),t.style.width=l+"px",t.style.height=c+"px",t.style.left=h-d+"px",t.style.top=u-m+"px",a(t),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),o(e.t0);case 21:case"end":return e.stop()}},e,null,[[0,18]])}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"domUpdate",value:function(e){var t=this.item.props.isFlipH()?-1:1,n=this.item.props.isFlipV()?-1:1;this.elements.shadowSvgDivElement.style.transform="scale(".concat(t,", ").concat(n,")"),this.elements.svgDivElement.style.transform="scale(".concat(t,", ").concat(n,")");var i=this.item.svgElements.shadowElements.svgShadowElement;if(this.item.props.isActiveShadow()){var a=this.item.getCanvasPosData(e),r=this.item.getShadowPosPoint(e),o=a.width*(fe.a.VALUE_TO_MULTIPLY-1)/2,s=a.height*(fe.a.VALUE_TO_MULTIPLY-1)/2;this.elements.shadowSvgDivElement.style.display="block",this.elements.shadowSvgDivElement.style.left="".concat(r.x-o,"px"),this.elements.shadowSvgDivElement.style.top="".concat(r.y-s,"px"),this.elements.shadowSvgDivElement.style.width="".concat(a.width*fe.a.VALUE_TO_MULTIPLY,"px"),this.elements.shadowSvgDivElement.style.height="".concat(a.height*fe.a.VALUE_TO_MULTIPLY,"px"),i.parentElement&&i.parentElement===this.elements.shadowSvgDivElement||this.elements.shadowSvgDivElement.appendChild(i)}else i.parentElement&&i.parentElement.removeChild(i);this.item.svgElements.svgElement.parentElement&&this.item.svgElements.svgElement.parentElement===this.elements.svgDivElement||this.elements.svgDivElement.appendChild(this.item.svgElements.svgElement),this.item.svgElements.renderView(e)}},{key:"updateThumbnail",value:function(){this.item.getStatus()!==E.g.LAZY&&(_.a.instance.editorMainVC&&this.thumbRevision!==this.item.props.getThumbnailRevision()&&_.a.instance.editorMainVC.renderLayerThumb([this.item]),this.thumbRevision=this.item.props.getThumbnailRevision())}}]),t}(le),ye=function(e){function t(e){var n;return u()(this,t),(n=C()(this,O()(t).call(this,e))).item=e,n}return L()(t,e),m()(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elements.container,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale;return y()(O()(t.prototype),"updatePosition",this).call(this,e,n),this.elements.svgDivElement.style.width="".concat(this.item.getWidth()*n,"px"),this.elements.svgDivElement.style.height="".concat(this.item.getHeight()*n,"px"),this}}]),t}(Te),Ie=function(e){function t(e){var n;return u()(this,t),(n=C()(this,O()(t).call(this,e))).item=e,n}return L()(t,e),t}(Te),Ce=function(e){function t(e){var n;return u()(this,t),(n=C()(this,O()(t).call(this,e))).item=e,n}return L()(t,e),t}(Te),Re=n(239),Oe=n(247),Se=function(e){function t(){return u()(this,t),C()(this,O()(t).call(this,!0))}return L()(t,e),m()(t,[{key:"onCreateView",value:function(){this.container=document.createElement("div"),this.container.className="image_frame_hover_view";var e=this.iconContainer=document.createElement("div"),t=new Image;t.src="https://resource.miricanvas.com/image/editor/item/imageframe/img_frame_guide.svg",e.appendChild(t),this.container.appendChild(e)}},{key:"setRotate",value:function(e){this.onCreateViewIfNotCreated(),this.iconContainer.style.transform="rotate(".concat(-e,"deg)")}}]),t}(P.a),Le=function(e){function t(e){var n;return u()(this,t),(n=C()(this,O()(t).call(this,e))).item=e,n}return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.photoItemRenderer=new ve(this.item.innerPhotoItem)}},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elements.container,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale,i=this.item.props.getWidth()*n,a=this.item.props.getHeight()*n;return this.elements.svgDivElement.style.width=i+"px",this.elements.svgDivElement.style.height=a+"px",y()(O()(t.prototype),"updatePosition",this).call(this,e,n),this.item.innerPhotoItem.isEditMode&&this.photoItemRenderer.updatePosition(e,n),this}},{key:"domUpdate",value:function(e){!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.tempChangeImageDom(this.item.innerPhotoItem.isEditMode?"":this.item.src),this.item.lastPhotoRevision=this.item.innerPhotoItem.props.getRevision(),y()(O()(t.prototype),"domUpdate",this).call(this,e)}},{key:"tempChangeImageDom",value:function(e){this.item.svgElements.imageElement.setAttributeNS(Oe.a.XLINK,"href",e)}},{key:"setImageSrcStatus",value:function(e,t){if(e!==this.item.imageSrcStatus){if(e===Re.a.SET_SRC)if(this.item.props.isFlipH()||this.item.props.isFlipV()){var n=oe.a.createCanvas(new se.a(t.width,t.height)),i=n.getContext("2d");i.translate(n.width/2,n.height/2),i.scale(this.item.props.isFlipH()?-1:1,this.item.props.isFlipV()?-1:1),i.translate(-n.width/2,-n.height/2),i.drawImage(t,0,0),this.tempChangeImageDom(n.toDataURL())}else this.tempChangeImageDom(t.src);e===Re.a.RESET_SRC&&this.tempChangeImageDom(this.item.src),this.item.imageSrcStatus=e}}},{key:"getMatchedRenderer",value:function(e){this.onCreateViewIfNotCreated();var n=y()(O()(t.prototype),"getMatchedRenderer",this).call(this,e);if(n)return n;var i=this.photoItemRenderer.getMatchedRenderer(e);return i||null}},{key:"updateHoverView",value:function(){y()(O()(t.prototype),"updateHoverView",this).call(this),this.hoverView||(this.hoverView=new Se,this.elements.container.appendChild(this.hoverView.getContainer()));var e=this.item.hover&&this.item.canInsertPhotoItem();this.hoverView.setVisibility(e),e&&this.hoverView.setRotate(this.item.props.getRotate())}}]),t}(Te),Ae=function(e){function t(e){return u()(this,t),C()(this,O()(t).call(this,e))}return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.svgBackgroundDiv=document.createElement("div"),this.svgBackgroundDiv.style.display="none",this.svgBackgroundDiv.style.position="absolute",this.svgBackgroundDiv.style.zIndex="-1",this.svgBackgroundDiv.style.left="0px",this.svgBackgroundDiv.style.top="0px",this.container.appendChild(this.svgBackgroundDiv),this.textDiv=document.createElement("div"),this.textDiv.style.zIndex="0",this.textDiv.style.position="absolute",this.textDiv.style.left="0px",this.textDiv.style.top="0px",this.container.appendChild(this.textDiv),this.svgBorderDiv=document.createElement("div"),this.svgBorderDiv.style.display="none",this.svgBorderDiv.style.zIndex="1",this.svgBorderDiv.style.position="absolute",this.svgBorderDiv.style.left="0px",this.svgBorderDiv.style.top="0px",this.svgBorderDiv.style.pointerEvents="none",this.container.appendChild(this.svgBorderDiv),this.selectedCellsDiv=document.createElement("div"),this.selectedCellsDiv.className="SELECTED_CELLS",this.selectedCellsDiv.style.backgroundColor="rgba(175, 222, 242, 0.298)",this.selectedCellsDiv.style.display="none",this.container.appendChild(this.selectedCellsDiv),this.imageElement.style.display="none"}},{key:"removeElement",value:function(){this.svgBackgroundDiv&&this.svgBackgroundDiv.parentElement&&(this.svgBackgroundDiv.parentElement.removeChild(this.svgBackgroundDiv),this.svgBackgroundDiv=null),this.textDiv&&this.textDiv.parentElement&&(this.textDiv.parentElement.removeChild(this.textDiv),this.textDiv=null),this.svgBorderDiv&&this.svgBorderDiv.parentElement&&(this.svgBorderDiv.parentElement.removeChild(this.svgBorderDiv),this.svgBorderDiv=null),y()(O()(t.prototype),"removeElement",this).call(this)}},{key:"getTextDiv",value:function(){return this.onCreateViewIfNotCreated(),this.textDiv}}]),t}(_e),Ne=n(267),Pe=function(){function e(t){u()(this,e),this.cell=t,this.makeElement()}return m()(e,[{key:"makeElement",value:function(){this.selectDiv=this.createAbsolutePositionDivElement(),this.textSVGDiv=this.createAbsolutePositionDivElement()}},{key:"removeElement",value:function(){this.selectDiv&&(this.removeDivElement(this.selectDiv),this.selectDiv=null),this.textSVGDiv&&(this.removeDivElement(this.textSVGDiv),this.textSVGDiv=null)}},{key:"createAbsolutePositionDivElement",value:function(){var e=document.createElement("div");return e.style.position="absolute",e}},{key:"removeDivElement",value:function(e){e.parentElement&&e.parentElement.removeChild(e)}}]),e}(),we=n(18),be=n(350),xe=n(168),ke=function(){function e(){u()(this,e)}return m()(e,null,[{key:"getFirstDecendant",value:function(e){return e.childNodes.length?this.getFirstDecendant(e.childNodes[0]):e}},{key:"getLastDecendant",value:function(e){return e.childNodes.length?this.getLastDecendant(e.childNodes[e.childNodes.length-1]):e}},{key:"getColOfNode",value:function(e,t){var n=0,i=!0,a=!1,r=void 0;try{for(var o,s=e.childNodes[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;if(l instanceof Text){if(l===t)return n;n+=l.textContent.length}else if(n+=this.getColOfNode(l,t),l.contains(t))return n}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}}]),e}(),De=n(285),Be=n(466),Me=n(264),Ge=n(257),Ve=n(265),Ue=n(456),Fe=n(384),We=n(327),He=function(){function e(){u()(this,e)}return m()(e,null,[{key:"extractTextLine",value:function(e,t,n,i,a){for(var r,o=this,s=[],l=new We.c(!1,"#000000",255,0,0,1,0),c=function(c){var h=e.children[c];if(0===h.innerText.length)return r=h,"continue";var u=Ge.f.fromCSSString(h.style.textAlign),d=Number(h.getAttribute("data-ls")||100),m=o.getCharsFromElement(h,l,t,n,i,a),p=Number(h.getAttribute("data-sx")||100);m.forEach(function(e){e.forEach(function(e){return e.fontdetail.scaleX=p}),s.push(new Fe.b(u,d,e))})},h=0;h<e.children.length;h++)c(h);return r&&e.removeChild(r),0===s.length&&s.push(new Fe.b(Ge.f.LEFT,100,[new Fe.a("")])),s}},{key:"getCharsFromElement",value:function(e,t,n,i,a,r){var o=[],s=[],l=!0,c=!1,h=void 0;try{for(var u,d=e.childNodes[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var m=u.value;if(m instanceof Text){var p=this.getCharStyleFromElement(e,i,t,a,n,r);if(""===m.textContent)p.char="",s.push(p);else for(var _=m.textContent.replace(Me.a.FORBIDDEN_CHAR,""),E=0;E<_.length;E++){var v=0===E?p:p.clone();v.char=_[E],s.push(v)}}else if(m instanceof HTMLBRElement){if(0===s.length){var g=this.getCharStyleFromElement(e,i,t,a,n,r);g.char="",s.push(g)}o.push(s),s=[]}else{(m instanceof HTMLDivElement||m instanceof HTMLParagraphElement)&&s.length>0&&(o.push(s),s=[]);for(var f=this.getCharsFromElement(m,t,n,i,a,r),T=0;T<f.length;T++)0===T?s=s.concat(f[T]):(o.push(s),s=f[T])}}}catch(e){c=!0,h=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw h}}if(s.length>0&&o.push(s),0===o.length&&o.push([]),1===o.length&&0===o[0].length){var y=this.getCharStyleFromElement(e,i,t,a,n,r);y.char="",o[0].push(y)}return o}},{key:"getCharStyleFromElement",value:function(e,t,n,i,a,r){var o=getComputedStyle(e),s=new Fe.a;s.size=Number(o.fontSize.replace("px",""))/a,s.filltype=t?Ge.c.GRADIENT:Ge.c.COLOR,s.backgroundColor=e.getAttribute("data-bg")||Ge.e.RGBA_TRANSPARENT,s.styles.bold=!("400"===o.fontWeight||"normal"===o.fontWeight),s.styles.italic="italic"===o.fontStyle;var l=o.fontFamily.split(",");return s.styles.family=Me.a.getOriginalFontName(l[0])||Me.a.DEFAULT_FALLBACK_FONT,s.styles.underline=o.textDecoration.includes("underline"),s.styles.strikeout=o.textDecoration.includes("line-through"),s.fontdetail.active=!0,s.fontdetail.textSpace="normal"===o.letterSpacing?0:Number(o.letterSpacing.replace("px",""))/Number(o.fontSize.replace("px",""))*100,this.readOutline(o,s.outline,s.size,a),this.readShadow(o.filter,s.shadow,n,a,i,r),s.shadow.active&&n.copyFrom(s.shadow),s.filltype===Ge.c.COLOR&&(s.color=o.color),s}},{key:"readOutline",value:function(e,t,n,i){var a=0;"300"===e.fontWeight&&(a=Me.a.getFakeBoldStroke(n)),t.active=!0,t.color=e.webkitTextStrokeColor;var r=this.getCSSNumber(e.webkitTextStrokeWidth,i)-a;r>0?(t.active=!0,t.size=200*r/n):t.active=!1}},{key:"readShadow",value:function(e,t,n,i,a,r){"none"!==e&&""!==e||n.active?"none"===e||""===e?(t.active=!0,t.copyFrom(n)):t.applyCSSStyle(e,a,r,i):t.active=!1}},{key:"getCSSNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?Math.round(Number(e.replace("px","")))/t:Number(e.replace("px",""))/t}}]),e}(),Ye=n(321),ze=function(e){function t(e,n){var i;return u()(this,t),(i=C()(this,O()(t).call(this,e,n,!0))).container.className="".concat(E.d.ITEM_CLASS," ").concat(i.item.getItemType().toLowerCase()),i.container.setAttribute("data-id",i.item.tbpeId),i}return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.imageElement=document.createElement("img"),this.container.appendChild(this.imageElement),this.elements=this}},{key:"getImageAndDivElement",value:function(){return this.onCreateViewIfNotCreated(),{element:this.imageElement,wrapper:this.container}}},{key:"createElements",value:function(){}},{key:"removeElement",value:function(){this.container&&(this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.imageElement=null)}}]),t}(le),Ke=n(360),Xe=function(){function e(){u()(this,e)}return m()(e,null,[{key:"createUuid",value:function(){for(var e="",t=0;t++<36;){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[t-1],i=16*Math.random()|0;e+="-"===n||"4"===n?n:("x"===n?i:3&i|8).toString(16)}return e}}]),e}(),je=function(e){function t(e,n,i){var a;return u()(this,t),(a=C()(this,O()(t).call(this,e,n))).effectSVG=null,a.checkBoundaryOnRender=i,a.svgID=Xe.createUuid(),a}var n,i;return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.imageElement.style.display="none",this.containerElement=document.createElement("div"),this.containerElement.classList.add("containerElement"),this.textEditLayer.appendChild(this.containerElement),this.effectSVG&&(this.containerElement.removeChild(this.effectSVG),this.effectSVG=null),this.backgroundElement&&this.containerElement.removeChild(this.backgroundElement),this.backgroundElement=document.createElement("div"),this.backgroundElement.spellcheck=!1,this.backgroundElement.classList.add("text-editable"),this.backgroundElement.style.position="absolute",this.backgroundElement.style.pointerEvents="none",this.backgroundElement.style.width="0px",this.backgroundElement.style.height="0px",this.containerElement.appendChild(this.backgroundElement),this.textElement&&this.containerElement.removeChild(this.textElement),this.textElement=document.createElement("div"),this.textElement.contentEditable="true",this.textElement.spellcheck=!1,this.textElement.classList.add("text-editable"),this.containerElement.append(this.textElement),this.effectTextElement&&this.containerElement.removeChild(this.effectTextElement),this.effectTextElement=document.createElement("div"),this.effectTextElement.spellcheck=!1,this.effectTextElement.classList.add("text-editable"),this.effectTextElement.style.position="absolute",this.effectTextElement.style.top="0px",this.effectTextElement.style.left="0px",this.effectTextElement.style.width="0px",this.effectTextElement.style.height="0px",this.effectTextElement.style.pointerEvents="none",this.containerElement.appendChild(this.effectTextElement)}},{key:"renderView",value:(i=c()(r.a.mark(function e(){var t,n=this,i=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:this.imageElement,i.length>1&&void 0!==i[1]?i[1]:this.lastRenderEditScale,this.item.lastHeight||this.item.props.isActiveCurve()||(this.item.lastHeight=this.item.props.getHeight()),this.container.style.borderRadius=this.item.props.isActiveCurve()?"100%":"",this.effectSVG){e.next=9;break}this.renderHTMLView(!0,!0,!0),this.item.props.loadFonts().then(function(){return n.renderViewSync()}),e.next=12;break;case 9:return e.next=11,this.item.props.loadFonts();case 11:this.renderViewSync();case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"shouldRerender",value:function(){var e=_.a.instance.zoomScale*_.a.instance.pageEditScale,n=this.item.props.getMinFontSize();return e=e*n<t.MIN_FONT_SIZE?t.MIN_FONT_SIZE/n:e,!this.lastZoom||this.lastZoom!==e}},{key:"renderHTMLView",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.renderContainerElement(),e){var a=_.a.instance.zoomScale*_.a.instance.pageEditScale,r=this.item.props.getMinFontSize();a=a*r<t.MIN_FONT_SIZE?t.MIN_FONT_SIZE/r:a,this.textElement.style.width="".concat(this.item.getWidth()*a,"px"),this.textElement.style.height="".concat(this.item.getHeight()*a,"px");var o=this.lastZoom;this.lastZoom=a,this.containerElement.style.display="block",this.lastRenderRevision===this.item.props.getRevision()?this.renderHTMLZoomScale(o,a):n&&this.renderTextElement(a),i&&(this.renderTextEffectElement(),this.renderTextBackground()),this.lastRenderRevision=this.item.props.getRevision()}else this.containerElement&&(this.containerElement.style.display="none")}},{key:"renderHTMLZoomScale",value:function(e,t){this.textElement.style.transform="scale(".concat(1/t,")"),this.textElement.style.transformOrigin="0% 0%";var n=this.textElement.children[0],i=this.lineLargestSize[0],a=Ge.g.getTranslateAdjustment(this.item.props.getVerticalAlign()),r=.4*i-this.item.props.getLine(0).getLineSpaceGivenCharSize(i);n.style.transform="translate(0, ".concat(r*a*t,"px)");for(var o=this.item.props.getLineLength(),s=0;s<o;s++){var l=this.item.props.getLine(s),c=n.children[s];this.renderLineZoomScale(l,c,e,t)}}},{key:"getScaledValue",value:function(e,t,n){var i=Number(n.replace("px",""));return isNaN(i)?"":"".concat(i/e*t,"px")}},{key:"renderLineZoomScale",value:function(e,t,n,i){t.style.width="".concat(this.item.getWidth()/(this.item.props.getFontDetailScaleXAcc()/100)*i,"px");getComputedStyle(t);var a=e.getLineSpaceGivenCharSize(this.maxCharSize),r="".concat(Math.abs(a)*i,"px");t.style.lineHeight=t.style.lineHeight.replace(/[0-9]*\.?[0-9]+(px)/i,r);var o=!0,s=!1,l=void 0;try{for(var c,h=t.children[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var u=c.value,d=u,m=getComputedStyle(u);d.style.fontSize=this.getScaledValue(n,i,m.fontSize),d.style.webkitTextStrokeWidth=this.getScaledValue(n,i,d.style.webkitTextStrokeWidth)}}catch(e){s=!0,l=e}finally{try{o||null==h.return||h.return()}finally{if(s)throw l}}this.renderShadows(t,i)}},{key:"renderSVGView",value:function(e){e?(this.effectSVG||(this.effectSVG=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.effectSVG.style.position="absolute",this.effectSVG.style.overflow="visible",this.container.appendChild(this.effectSVG)),this.effectSVG.style.opacity="".concat(this.item.props.getOpacity()/255),this.effectSVG.setAttributeNS(null,"width","".concat(this.item.props.getWidth(),"px")),this.effectSVG.setAttributeNS(null,"height","".concat(this.item.props.getHeight(),"px")),this.item.fillInSVG(this.effectSVG,this.item.props,this.svgID,!0,!0,!0,!0,!0)):this.effectSVG&&(this.effectSVG.style.display="none")}},{key:"renderViewSync",value:function(){this.renderContainerElement()}},{key:"updatePosition",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale;return y()(O()(t.prototype),"updatePosition",this).call(this,e,n),this.textEditLayer&&this.container&&(this.containerElement.style.transform="rotateZ(".concat(this.item.props.getRotate(),"deg)"),this.containerElement.style.top="".concat(this.item.props.getTop(),"px"),this.containerElement.style.left="".concat(this.item.props.getLeft(),"px")),this}},{key:"renderContainerElement",value:function(){this.containerElement&&(this.containerElement.style.width="".concat(this.item.getWidth(),"px"),this.containerElement.style.height="".concat(this.item.getHeight(),"px"),this.containerElement.style.opacity="".concat(this.item.props.getOpacity()/255),void 0===this.textEditLayer&&(this.containerElement.style.top=Ge.g.getTopStyle(this.item.props.getVerticalAlign()),this.containerElement.style.bottom=Ge.g.getBottomStyle(this.item.props.getVerticalAlign())),this.containerElement.style.kerning="false")}},{key:"renderTextElement",value:function(e){var t;if(this.textElement.style.transform="scale(".concat(1/e,")"),this.textElement.style.transformOrigin="0% 0%",this.textElement.style.display="flex",this.textElement.style.alignItems=Ge.g.getFlexStyle(this.item.props.getVerticalAlign()),this.textElement.style.justifyContent=Ge.f.getFlexStyle(this.item.props.getHorizontalAlign()),1===this.textElement.children.length)t=this.textElement.children[0];else{for(;this.textElement.lastChild;)this.textElement.removeChild(this.textElement.lastChild);t=document.createElement("div"),this.textElement.appendChild(t)}this.textElement.style.textTransform=this.item.props.isUpperCase()?"uppercase":"none";var n=new Set,i=!0,a=!1,r=void 0;try{for(var o,s=t.children[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;n.add(l)}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}this.maxCharSize=0,this.lineTallestChars=[],this.lineLargestSize=[];var c=this.item.props.getLineLength(),h=0,u=!0,d=!1,m=void 0;try{for(var p,_=t.childNodes[Symbol.iterator]();!(u=(p=_.next()).done);u=!0){var E=p.value;E instanceof Text&&t.removeChild(E)}}catch(e){d=!0,m=e}finally{try{u||null==_.return||_.return()}finally{if(d)throw m}}for(var v=0;v<c;v++){this.renderLine(v,t,n,e);var g=this.lineLargestSize[v],f=t.children[v],T=this.item.props.getLine(v);""!==this.lineTallestChars[v].char&&this.lineTallestChars[v].char,f.setAttribute("data-ls",T.lineSpace.toString()),0===v&&(h=g)}for(var y=0;y<c;y++){var I=this.item.props.getLine(y);t.children[y].style.lineHeight=I.lineSpace.toString(),this.renderShadows(t.children[y],e)}n.forEach(function(e){return t.removeChild(e)});var C=Ge.g.getTranslateAdjustment(this.item.props.getVerticalAlign()),R=.4*h-this.item.props.getLine(0).getLineSpaceGivenCharSize(h);t.style.transform="translate(0, ".concat(R*C*e,"px)")}},{key:"renderTextEffectElement",value:function(){this.effectTextElement.lastChild&&this.effectTextElement.removeChild(this.effectTextElement.lastChild),this.effectTextElement.appendChild(this.textElement.cloneNode(!0)),this.effectTextElement.style.display="block";for(var e=this.effectTextElement.children[0].children[0],t=0;t<e.children.length;t++){var n=e.children[t];this.rectifyChildren(n)}}},{key:"renderTextBackground",value:function(){this.backgroundElement.lastChild&&this.backgroundElement.removeChild(this.backgroundElement.lastChild),this.backgroundElement.appendChild(this.textElement.cloneNode(!0)),this.backgroundElement.style.display="block";for(var e=this.backgroundElement.children[0].children[0],t=0;t<e.children.length;t++){var n=e.children[t];this.renderSpanBackground(n)}}},{key:"renderSpanBackground",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=e.children[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;o.getAttribute("data-bg")&&(o.style.backgroundColor=o.getAttribute("data-bg"),o.style.color="rgba(0, 0, 0, 0)"),this.renderSpanBackground(o)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"rectifyChildren",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=e.children[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(o instanceof HTMLSpanElement||o instanceof HTMLFontElement){var s=Number(o.style.fontSize.replace("px",""));Me.a.isFakeBold(o.style)?(o.style.webkitTextStrokeColor=o.style.color,o.style.webkitTextStrokeWidth=Me.a.getFakeBoldStroke(s)+"px"):o.style.webkitTextStrokeWidth="",o.style.filter=""}this.rectifyChildren(o)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"renderLine",value:function(e,t,n,i){var a=this,r=this.item.props.getLine(e),o=t.children[e];o?n.delete(o):(o=document.createElement("p"),t.appendChild(o)),o.style.width="".concat(this.item.getWidth()/(this.item.props.getFontDetailScaleXAcc()/100)*i,"px");var s,l,c,h,u=0;for(o.style.background="",o.style.backgroundClip="",o.style.webkitBackgroundClip="",o.style.transformOrigin=Ge.f.getStyle(r.align),o.style.textAlign=Ge.f.getStyle(r.align);o.lastChild;)o.removeChild(o.lastChild);var d=0;r.chars.forEach(function(e){if(!(""===e.char&&r.chars.length>1)){var t=e.size,n=e.size;n>d&&(d=n,c=e),a.maxCharSize<e.size&&(a.maxCharSize=e.size),u<e.size&&(u=e.size),h=e.fontdetail.textSpace*t/100,(l=a.renderChar(e,i,l,s)).parentElement||o.appendChild(l),s=e}});var m=this.item.props.isActiveCurve()?1:this.item.props.getFontDetailScaleXAcc()/100;if(r.chars.length>0){this.lineTallestChars[e]=c;var p=Ge.f.getLetterSpaceCompensation(r.align,h),_=c.size;o.style.transform="scale(".concat(m,", 1) ")+"translate(".concat(p/_,"em, 0)"),o.setAttribute("data-sx",this.item.props.getFontDetailScaleXAcc().toString()),o.style.fontFamily=Me.a.getRegisteredFontName(c.styles.family),0===e&&(this.firstLineHeight=_)}this.lineLargestSize[e]=u}},{key:"renderChar",value:function(e,t,n,i){if(n&&i&&i.equalsAlmostWith(e))return n.textContent+=e.char,n;var a=document.createElement("span"),r=""===e.char?document.createElement("br"):document.createTextNode(e.char);a.appendChild(r),a.style.fontFamily=Me.a.getRegisteredFontName(e.styles.family)+","+Me.a.DEFAULT_FONTS_CSS,a.style.fontSize="".concat(e.size*t,"px"),a.style.letterSpacing="".concat(e.fontdetail.textSpace/100,"em"),a.style.color=this.item.props.isActiveGradient()?a.style.color=this.item.props.getGradient().getColor(1):e.color;var o=Ye.a.getFakeData(e.styles);return a.style.fontWeight=e.styles.bold?o.boldWeight.toString():"",a.style.fontStyle=e.styles.italic?"italic":"",a.style.textDecoration=e.styles.getTextDecoration(),this.renderOutline(a,e,o.fakeBold,t),this.attachNotRenderedAttributes(a,e),a}},{key:"renderOutline",value:function(e,t,n,i){if(t.outline.active&&t.outline.size>0){var a=t.outline.size/200*t.size;n&&(a+=Me.a.getFakeBoldStroke(t.size)),e.style.webkitTextStrokeColor=t.outline.color,e.style.webkitTextStrokeWidth=a*i+"px"}}},{key:"renderShadows",value:function(e,t){var n=!0,i=!1,a=void 0;try{for(var r,o=e.children[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value,l=this.readNotRenderedAttributes(s);if(l&&l.active){var c=l.angle-this.item.props.getRotate()-We.a.TEXT_SHADOW_ANGLE_FIX,h=l.spread*Me.a.SHADOW_BLUR*this.maxCharSize/Me.a.SHADOW_LENGTH/Me.a.SHADOW_BLUR_DRAW_CONST,u=l.distance/200*this.maxCharSize,d=ue.a.getPointByDistanceAngle(u,c),m=new Ke.a(l.color,l.alpha/100*255);s.style.filter="drop-shadow(".concat(d.x*t,"px ").concat(d.y*t,"px ").concat(h*t,"px ").concat(m.toRGB(),")"),this.removeNotRenderedAttributes(s)}}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}}},{key:"attachNotRenderedAttributes",value:function(e,t){e.setAttribute("data-shadow",JSON.stringify(t.shadow)),e.setAttribute("data-bg",t.backgroundColor)}},{key:"readNotRenderedAttributes",value:function(e){return JSON.parse(e.getAttribute("data-shadow"))}},{key:"removeNotRenderedAttributes",value:function(e){e.removeAttribute("data-shadow")}},{key:"renderResourceLoadingView",value:(n=c()(r.a.mark(function e(){var t,n=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.elements.imageElement,n.length>1&&void 0!==n[1]?n[1]:this.lastRenderEditScale,e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"removeElement",value:function(){y()(O()(t.prototype),"removeElement",this).call(this),this.containerElement&&(this.containerElement.parentNode&&this.containerElement.parentNode.removeChild(this.containerElement),this.containerElement=null)}}]),t}(ze);je.MIN_FONT_SIZE=10;var Ze,$e=n(297),qe=function(e){function t(e,n,i,a){var r;return u()(this,t),(r=C()(this,O()(t).call(this,e,n,i))).selectionRange=new Ve.b(new Ve.a(0,0),new Ve.a(0,0)),r.isEditing=!1,r.textEditLayer=a,r}return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.editModeContainerElement=document.createElement("div"),this.editModePosElement=document.createElement("div"),this.editModeContainerElement.appendChild(this.editModePosElement),this.lastTextElement=document.createElement("div"),this.lastTextElement.style.display="none",this.editModeContainerElement.appendChild(this.lastTextElement),this.emptyTextElement=document.createElement("div"),this.emptyTextElement.style.display="none",this.editModeContainerElement.appendChild(this.emptyTextElement),this.initializeEditElements()}},{key:"getAllTextElement",value:function(){var e,t=[],n=document.createNodeIterator(this.textElement,NodeFilter.SHOW_TEXT);do{(e=n.nextNode())&&t.push(e.parentElement)}while(e);return t}},{key:"getFilterValue",value:function(e){return e?e.style.getPropertyValue("filter"):""}},{key:"hasFilterValue",value:function(e){return this.getFilterValue(e).length>0}},{key:"backupTextStyle",value:function(){var e=window.getSelection();function t(){var t=e.anchorNode.compareDocumentPosition(e.focusNode);return e.anchorNode.isSameNode(e.focusNode)&&e.anchorOffset<=e.focusOffset||Boolean(t&Node.DOCUMENT_POSITION_FOLLOWING)}e.isCollapsed?e.anchorNode.textContent.length>0&&(this.lastTextElement.style.filter=this.getStyleFilter(e.anchorNode.parentElement),this.emptyTextElement.style.filter=""):this.emptyTextElement.style.filter=(t()?0===e.anchorOffset&&e.focusOffset===e.focusNode.textContent.length:e.anchorOffset===e.anchorNode.textContent.length&&0===e.focusOffset)?this.getFilterValue(t()?e.anchorNode.parentElement:e.focusNode.parentElement):""}},{key:"fixStrokeColorBlack",value:function(){this.getAllTextElement().forEach(function(e){(function(e){return e&&0===e.style.getPropertyValue("-webkit-text-stroke").length&&0===e.style.getPropertyValue("-webkit-text-stroke-color").length&&e.style.getPropertyValue("-webkit-text-stroke-width").length>0})(e)&&function(e){e.style.setProperty("-webkit-text-stroke-color","rgb(0,0,0)")}(e)})}},{key:"fixStyleFilter",value:function(){var e=window.getSelection();e.isCollapsed&&0===e.anchorNode.textContent.length?this.hasFilterValue(this.emptyTextElement)||(this.emptyTextElement.style.filter=this.lastTextElement.style.filter):this.hasFilterValue(this.emptyTextElement)?(this.setStyleFilter(this.emptyTextElement),this.emptyTextElement.style.removeProperty("filter")):this.hasFilterValue(this.lastTextElement)&&this.setStyleFilter(this.lastTextElement)}},{key:"getStyleFilter",value:function(e){return!e||e.isSameNode(this.textElement)?"":this.hasFilterValue(e)?this.getFilterValue(e):this.getStyleFilter(e.parentElement)}},{key:"setStyleFilter",value:function(e){var t=this;this.getAllTextElement().forEach(function(n){""===t.getStyleFilter(n)&&(n.style.filter=e.style.filter)})}},{key:"initializeEditElements",value:function(){var e=this;this.textElement.onkeypress=function(t){new xe.a(t).isSelectAllHotKey()&&(t.preventDefault(),e.selectAll())},this.textElement.oninput=function(){e.fixStrokeColorBlack(),e.fixStyleFilter(),e.correctTextElement(),e.isEditing=!0,A.a.instance.dispatch(new De.d(e.item,e.extractLineData(),!0)),e.renderTextEffectElement()},this.textElement.oncopy=function(e){var t=G.a.getBrowserType();if(G.a.isChromiumBrowser()||t===we.h.FIREFOX){var n=document.getSelection();e.clipboardData.setData("text/plain",n.toString().replace(/\n\n|\r\n\r\n/g,"\n")),e.preventDefault()}},this.textElement.onpaste=function(e){if(""!==e.clipboardData.getData("text/html")){var t=e.clipboardData.getData("text/plain");e.preventDefault(),document.execCommand("insertText",!1,t)}},G.a.isMobileDevice()&&(this.textElement.onblur=function(){e.item.isEditMode&&A.a.instance.dispatch(new De.b(e.item))}),this.textElement.onkeydown=function(t){var n=t.key.toUpperCase();if("DELETE"!==n&&"BACKSPACE"!==n||e.backupTextStyle(),"BACKSPACE"===n){var i=e.textElement.children[0],a=0,r=!0,o=!1,s=void 0;try{for(var l,c=i.children[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){a+=l.value.textContent.length}}catch(e){o=!0,s=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}0===a&&(t.preventDefault(),t.stopPropagation())}else if(e.onMoveTowardsTo){if(!e.selectionRange.isSameRange())return;var h=Ge.a.fromString(n);e.item.props.isTowardsToDirection(h,e.selectionRange.start)&&e.onMoveTowardsTo(h)}},this.item.getSelectionRange=function(){return e.selectionRange=e.extractSelRange()||e.selectionRange,e.selectionRange},this.item.setSelectionRange=function(t){return e.selectionRange=t},this.item.getSavedSelPos=function(){return e.selectionRange},this.selectionEvent||(this.selectionEvent=function(){var t=document.getSelection();if(0!==t.rangeCount){var n=t.getRangeAt(0);if(e.textElement.contains(n.startContainer)&&e.textElement.contains(n.endContainer)){var i=e.extractSelRange()||e.selectionRange;i.start.col===e.selectionRange.start.col&&i.start.row===e.selectionRange.start.row&&i.end.col===e.selectionRange.end.col&&i.end.row===e.selectionRange.end.row||A.a.instance.dispatch(new Be.a(!0)),e.backupTextStyle()}}},document.addEventListener("selectionchange",this.selectionEvent)),this.editModeContainerElement.style.transformOrigin="left top",this.editModeContainerElement.style.zIndex="10000",this.editModeContainerElement.style.position="absolute",this.editModePosElement.style.position="absolute",this.editModePosElement.style.kerning="false",this.editModePosElement.style.display="flex"}},{key:"toggleEditMode",value:function(){var e=this;this.onCreateViewIfNotCreated(),this.item.isEditMode=!this.item.isEditMode,this.item.isEditMode?(this.handlerLayer.style.pointerEvents="none",this.textElement.style.userSelect="text",this.textElement.style.webkitUserSelect="text",this.textElement.focus(),this.renderView().then(function(){G.a.isMobilePortraitSize()||e.selectAll()})):""===this.item.groupId&&this.item.props.isEmpty()?setTimeout(function(){return A.a.instance.dispatch(new $e.a([e.item],_.a.instance.renderPageIdx,!1))},100):(this.editModeContainerElement.parentElement&&this.editModeContainerElement.parentElement.removeChild(this.editModeContainerElement),this.textElement.style.userSelect="",this.textElement.style.webkitUserSelect="",this.handlerLayer.style.pointerEvents="",window.getSelection().removeAllRanges(),this.selectionRange.start.row=0,this.selectionRange.start.col=0,this.selectionRange.end.row=0,this.selectionRange.end.col=0,this.textElement.blur(),this.renderView())}},{key:"focus",value:function(){document.activeElement!==this.textElement&&this.textElement.focus()}},{key:"selectAll",value:function(){if(document.createRange&&window.getSelection){var e=document.createRange(),t=window.getSelection(),n=ke.getLastDecendant(this.textElement);e.setStart(ke.getFirstDecendant(this.textElement),0),e.setEnd(n,n.textContent.length),t.removeAllRanges(),t.addRange(e),this.selectionRange=this.extractSelRange()||this.selectionRange}}},{key:"extractSelRange",value:function(){var e=this.textElement.children[0],t=getSelection();if(1===t.rangeCount){var n=t.getRangeAt(0);try{if(!(this.textElement.contains(n.startContainer)&&this.textElement.contains(n.endContainer)))return}catch(e){return}for(var i=e.children.length,a=new Ve.a(0,0),r=new Ve.a(0,0),o=!1,s=!1,l=0;l<i;l++){var c=e.children[l];if(c.contains(n.startContainer)&&(a.row=l,a.col=ke.getColOfNode(c,n.startContainer)+n.startOffset,o=!0),c.contains(n.endContainer)&&(r.row=l,r.col=ke.getColOfNode(c,n.endContainer)+n.endOffset,s=!0),o&&s)break}return new Ve.b(a,r)}}},{key:"extractLineData",value:function(){return He.extractTextLine(this.textElement.children[0],this.lastZoom,this.item.props.isActiveGradient(),this.maxCharSize,this.item.props.getRotate())}},{key:"renderViewSync",value:function(){y()(O()(t.prototype),"renderViewSync",this).call(this),this.renderHTMLView(this.item.isEditMode,!this.isEditing,!0),this.renderSVGView(!this.item.isEditMode),this.item.isEditMode&&!this.isEditing&&be.a.isFocusableElement(document.activeElement)&&(this.editModeContainerElement.style.transform="scale(".concat(_.a.instance.zoomScale*_.a.instance.pageEditScale,")"),this.editModePosElement.style.transform="translate(".concat(this.item.props.getLeft(),"px,").concat(this.item.props.getTop(),"px) ")+"rotate(".concat(this.item.props.getRotate(),"deg)"),this.renderSelection(this.selectionRange)),this.isEditing=!1}},{key:"renderTextElement",value:function(e){y()(O()(t.prototype),"renderTextElement",this).call(this,e),this.item.isEditMode?(this.editModePosElement.style.width="".concat(this.item.props.getWidth(),"px"),this.editModePosElement.style.height="".concat(this.item.props.getHeight(),"px"),this.editModePosElement.style.alignItems=Ge.g.getFlexStyle(this.item.props.getVerticalAlign()),this.editModePosElement.style.justifyContent=Ge.f.getFlexStyle(this.item.props.getHorizontalAlign())):(this.textElement.style.zIndex="",this.textElement.style.transformOrigin="",this.textElement.style.transform="",this.textElement.blur())}},{key:"correctTextElement",value:function(){var e=this.textElement.children[0];if(e.children.length>0){var t=!0,n=!1,i=void 0;try{for(var a,r=e.children[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(""===o.style.fontSize){var s=this.findChildFontSize(o);o.style.fontSize=s}}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}else{var l,c=e.textContent.split("\n");e.textContent="";var h=!0,u=!1,d=void 0;try{for(var m,p=c[Symbol.iterator]();!(h=(m=p.next()).done);h=!0){var _=m.value,E=document.createElement("p");E.style.transformOrigin=Ge.f.getStyle(Ge.f.LEFT),E.style.textAlign=Ge.f.getStyle(Ge.f.LEFT),e.appendChild(E);var v=document.createElement("span");v.style.fontFamily=Me.a.DEFAULT_FALLBACK_FONT,v.style.fontSize="15",v.textContent=_,l=v,E.appendChild(v)}}catch(e){u=!0,d=e}finally{try{h||null==p.return||p.return()}finally{if(u)throw d}}var g=document.getSelection().getRangeAt(0);g.setStart(l,l.textContent.length),g.setEnd(l,l.textContent.length)}}},{key:"findChildFontSize",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=e.children[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(o instanceof HTMLSpanElement&&o.childElementCount>0)return this.findChildFontSize(o);if(o instanceof HTMLFontElement&&o.childElementCount>0)return o.children[0].style.fontSize}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return""}},{key:"renderSelection",value:function(){var e,t,n,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionRange,r=this.textElement.children[0];if(a.start.isAtBeginning()&&a.isSameRange()&&this.item.props.isEmptyText())e=t=r.children[0],n=i=0;else{var o=Ue.a.getNodeAndPos(r.children[a.start.row],a.start.col,!0),s=Ue.a.getNodeAndPos(r.children[a.end.row],a.end.col,!1);if(!o.node||!s.node)return;e=o.node,n=o.pos,t=s.node,i=s.pos}var l=window.getSelection();l.removeAllRanges();var c=document.createRange();c.setStart(e,n),c.setEnd(t,i),l.addRange(c)}}]),t}(je),Je=function(e){function t(e,n,i,a){var r;return u()(this,t),(r=C()(this,O()(t).call(this,!0))).cell=e,r.parentElement=n,r.handlerLayer=i,r.textEditLayer=a,r}var n,i;return L()(t,e),m()(t,[{key:"onCreateView",value:function(){var e=this;y()(O()(t.prototype),"onCreateView",this).call(this),this.textItemView=new qe(this.cell.childTextItem,this.handlerLayer,!1,this.textEditLayer),this.textItemView.onMoveTowardsTo=this.onMoveTowardsTo,this.makeElement(this.parentElement),this.cell.childTextItem.props.onBoundaryChanged=function(t){if(e.onBoundaryChanged){var n=de.a.createFromRect(t);e.onBoundaryChanged(n)}}}},{key:"setOnBoundaryChanged",value:function(e){this.onBoundaryChanged=e}},{key:"makeElement",value:function(e){this.elements=new Pe(this.cell),e.appendChild(this.elements.selectDiv),e.appendChild(this.elements.textSVGDiv)}},{key:"removeElement",value:function(){this.elements&&this.elements.removeElement(),this.textItemView&&this.textItemView.removeElement()}},{key:"renderText",value:(i=c()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.onCreateViewIfNotCreated(),this.elements.textSVGDiv.appendChild(this.textItemView.container),e.next=4,this.textItemView.renderAutoAsync(t,!0);case 4:this.updatePosition(t);case 5:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"updatePosition",value:function(e){this.onCreateViewIfNotCreated();var t=this.cell.getCellRect(e),n=Ne.c.CELL_PADDING*e,i=Math.max(t.getWidth()-2*n,1)+"px",a=Math.max(t.getHeight()-2*n,1)+"px",r=this.cell.gridItem.props.getLeft(),o=this.cell.gridItem.props.getTop(),s="translate(".concat(-r,"px, ").concat(-o,"px)");this.elements.textSVGDiv.style.display="block",this.elements.textSVGDiv.style.width=i,this.elements.textSVGDiv.style.height=a,this.elements.textSVGDiv.style.transform=s,this.textItemView.updatePosition()}},{key:"updateText",value:(n=c()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.renderText(t);case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getElements",value:function(){return this.onCreateViewIfNotCreated(),this.elements}}]),t}(P.a),Qe=function(e){function t(e,n,i){var a;return u()(this,t),(a=C()(this,O()(t).call(this,e,n,!0))).textEditLayer=i,a}var n;return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.makeCell()}},{key:"makeCell",value:function(){this.cellRenderers.length===this.item.cells.length&&this.cellRenderers[0].length===this.item.cells[0].length||this.syncCellDomRenderer()}},{key:"createElements",value:function(){this.elements=new Ae(this.item),this.cellRenderers=[]}},{key:"getImageAndDivElement",value:function(){var e=y()(O()(t.prototype),"getImageAndDivElement",this).call(this);return this.makeCell(),e}},{key:"syncCellDomRenderer",value:function(){var e=this,t=this.cellRenderers.slice();this.cellRenderers=[];var n=!0,i=!1,a=void 0;try{for(var r,o=this.item.rows[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){r.value;var s=[],l=!0,c=!1,h=void 0;try{for(var u,d=this.item.cols[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){u.value;s.push(null)}}catch(e){c=!0,h=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw h}}this.cellRenderers.push(s)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}var m=!0,p=!1,_=void 0;try{for(var E,v=t[Symbol.iterator]();!(m=(E=v.next()).done);m=!0){var g=E.value,f=!0,T=!1,y=void 0;try{for(var I,C=function(){var t=I.value,n=t.cell;if(e.item.cells.some(function(e){return e.indexOf(n)>=0})){var i=n.row,a=n.col;e.cellRenderers[i][a]=t}else t.removeElement()},R=g[Symbol.iterator]();!(f=(I=R.next()).done);f=!0)C()}catch(e){T=!0,y=e}finally{try{f||null==R.return||R.return()}finally{if(T)throw y}}}}catch(e){p=!0,_=e}finally{try{m||null==v.return||v.return()}finally{if(p)throw _}}for(var O=0;O<this.item.rows.length;O++)for(var S=0;S<this.item.cols.length;S++)this.cellRenderers[O][S]||function(){var t=e.item.cells[O][S],n=new Je(t,e.elements.getTextDiv(),e.handlerLayer,e.textEditLayer);n.onMoveTowardsTo=function(t){switch(t){case Ge.a.LEFT:e.setFocusedCell(e.item.positionTool.getPrevCellPos(e.item.selectedCells[0]));break;case Ge.a.UP:e.setFocusedCell(e.item.positionTool.getPrevCellPos(e.item.selectedCells[0],!0));break;case Ge.a.RIGHT:e.setFocusedCell(e.item.positionTool.getNextCellPos(e.item.selectedCells[0]));break;case Ge.a.DOWN:e.setFocusedCell(e.item.positionTool.getNextCellPos(e.item.selectedCells[0],!0))}},e.cellRenderers[O][S]=n,n.setOnBoundaryChanged(function(i){var a=e.item.rows[t.row],r=2*Ne.c.CELL_PADDING,o=i.getHeight()+r;a.thickness<o&&(a.thickness=o),e.item.adjustSize(),e.item.adjustRowThickness(),e.renderView(),n.textItemView.updatePosition()})}()}},{key:"setFocusedCell",value:function(e){e&&(this.toggleEditMode(-1,-1),this.item.selectCells([e]),this.toggleEditMode(-1,-1,!0))}},{key:"renderView",value:(n=c()(r.a.mark(function e(t){var n,i=this,a=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:this.lastRenderEditScale,e.abrupt("return",new Promise(function(){var e=c()(r.a.mark(function e(a,o){var s,l,c,h,u,d,m,p,_,E,v,g,f,T,y,I,C,R,O,S,L,A,N,P,w;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,s=!0,l=!1,c=void 0,e.prev=4,h=i.cellRenderers[Symbol.iterator]();case 6:if(s=(u=h.next()).done){e.next=30;break}for(d=u.value,m=!0,p=!1,_=void 0,e.prev=11,E=d[Symbol.iterator]();!(m=(v=E.next()).done);m=!0)g=v.value,f=g.cell.childTextItem,g.cell.repositionTextItem(f,n);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),p=!0,_=e.t0;case 19:e.prev=19,e.prev=20,m||null==E.return||E.return();case 22:if(e.prev=22,!p){e.next=25;break}throw _;case 25:return e.finish(22);case 26:return e.finish(19);case 27:s=!0,e.next=6;break;case 30:e.next=36;break;case 32:e.prev=32,e.t1=e.catch(4),l=!0,c=e.t1;case 36:e.prev=36,e.prev=37,s||null==h.return||h.return();case 39:if(e.prev=39,!l){e.next=42;break}throw c;case 42:return e.finish(39);case 43:return e.finish(36);case 44:T=!0,y=!1,I=void 0,e.prev=47,C=i.cellRenderers[Symbol.iterator]();case 49:if(T=(R=C.next()).done){e.next=84;break}O=R.value,S=!0,L=!1,A=void 0,e.prev=54,N=O[Symbol.iterator]();case 56:if(S=(P=N.next()).done){e.next=67;break}if(!(w=P.value).cell.isTextEditMode){e.next=62;break}w.textItemView.updatePosition(),e.next=64;break;case 62:return e.next=64,w.renderText(n);case 64:S=!0,e.next=56;break;case 67:e.next=73;break;case 69:e.prev=69,e.t2=e.catch(54),L=!0,A=e.t2;case 73:e.prev=73,e.prev=74,S||null==N.return||N.return();case 76:if(e.prev=76,!L){e.next=79;break}throw A;case 79:return e.finish(76);case 80:return e.finish(73);case 81:T=!0,e.next=49;break;case 84:e.next=90;break;case 86:e.prev=86,e.t3=e.catch(47),y=!0,I=e.t3;case 90:e.prev=90,e.prev=91,T||null==C.return||C.return();case 93:if(e.prev=93,!y){e.next=96;break}throw I;case 96:return e.finish(93);case 97:return e.finish(90);case 98:i.renderGrid(n),i.renderViewAfter(null,n),void 0===t&&null!==i.elements&&(t=i.elements.getImageElement()),a(t),e.next=107;break;case 104:e.prev=104,e.t4=e.catch(0),o(e.t4);case 107:case"end":return e.stop()}},e,null,[[0,104],[4,32,36,44],[11,15,19,27],[20,,22,26],[37,,39,43],[47,86,90,98],[54,69,73,81],[74,,76,80],[91,,93,97]])}));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"renderGrid",value:function(e){if(null!==this.elements){var t=this.item.getWidth()*e,n=this.item.getHeight()*e;this.elements.svgBackgroundDiv.innerHTML=this.item.renderGridBackground(e,!0),this.elements.svgBackgroundDiv.style.width="".concat(t,"px"),this.elements.svgBackgroundDiv.style.height="".concat(n,"px"),this.elements.svgBackgroundDiv.style.display="block",this.elements.svgBorderDiv.innerHTML=this.item.renderGridBorder(e,!0),this.elements.svgBorderDiv.style.width="".concat(t,"px"),this.elements.svgBorderDiv.style.height="".concat(n,"px"),this.elements.svgBorderDiv.style.display="block"}}},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elements.container,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale;return this.item.isTextEditMode&&this.item.endEditMode&&(this.toggleEditMode(-1,-1),this.item.endEditMode=!1),e.style.opacity="".concat(this.item.props.getOpacity()/255),y()(O()(t.prototype),"updatePosition",this).call(this,e,n)}},{key:"updateBorderStyle",value:function(e){if(null!=this.elements.container){var t=f.b.getRootGroup(this.item.groupId);!(t?t.getSelectedItem()===this.item&&this.item.select:this.item.select)&&this.item.selectedCells&&this.renderViewAfter(null,this.lastRenderEditScale)}}},{key:"toggleEditMode",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n=i?this.item.cells[this.item.selectedCells[0].row][this.item.selectedCells[0].col]:this.item.positionTool.getCell(e,t),this.item.isTextEditMode)if(n&&n===this.item.editingCell);else{var a=this.getCellRenderers(this.item.editingCell);a&&(this.item.editingCell.repositionTextItem(this.item.editingCell.childTextItem,1),a.updatePosition(1),a.textItemView.toggleEditMode()),this.item.editingCell.isTextEditMode=!1,this.item.editingCell=null,this.item.isTextEditMode=!1}else if(n){this.item.editingCell=n;var r=this.getCellRenderers(n);n.repositionTextItem(n.childTextItem,1),r.updatePosition(1),r.textItemView.toggleEditMode(),this.item.unselectAllCell(),this.item.editTextItemVC.setProps(n.textProps),n.childTextItem.customWidth=n.getWidth(),this.item.editingCell.isTextEditMode=!0,this.item.isTextEditMode=!0,this.item.selectCells(this.item.positionTool.cellsPosToArrayOfCellPos(n.childCellsPos)),this.renderView().then(function(){})}}},{key:"getCellRenderers",value:function(e){return this.onCreateViewIfNotCreated(),-1===e.row&&-1===e.col?null:e.gridItem===this.item?this.cellRenderers[e.row][e.col]:null}},{key:"renderViewAfter",value:function(e,t){var n=!0,i=!1,a=void 0;try{for(var r,o=this.cellRenderers[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value,l=!0,c=!1,h=void 0;try{for(var u,d=s[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var m=u.value,p=m.cell,_=m.getElements().selectDiv;p.visible&&m.cell.selected&&!this.item.isTextEditMode?(_.style.backgroundColor="rgba(175, 222, 242, 0.298)",_.style.display="block",_.style.position="absolute",_.style.left="".concat(p.getLeft(),"px"),_.style.top="".concat(p.getTop(),"px"),_.style.width="".concat(p.getWidth(),"px"),_.style.height="".concat(p.getHeight(),"px")):_.style.display="none"}}catch(e){c=!0,h=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw h}}}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}}},{key:"removeElement",value:function(){y()(O()(t.prototype),"removeElement",this).call(this);var e=!0,n=!1,i=void 0;try{for(var a,r=this.cellRenderers[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var o=a.value,s=!0,l=!1,c=void 0;try{for(var h,u=o[Symbol.iterator]();!(s=(h=u.next()).done);s=!0){h.value.removeElement()}}catch(e){l=!0,c=e}finally{try{s||null==u.return||u.return()}finally{if(l)throw c}}}}catch(e){n=!0,i=e}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}}}]),t}(le),et=n(48),tt=n(507),nt=n(449),it=function(e){function t(e){var n;return u()(this,t),(n=C()(this,O()(t).call(this,!0))).playState=0,n.youtubeId=e,n.youtubeIframeId="".concat(n.youtubeId,"_").concat(W.b.random()),n}var n;return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.container.classList.add("youtube_embed_view"),this.iframeContainer=et.a.createElement('<div><div id="'.concat(this.youtubeIframeId,'"></div></div>'),this.container),this.container.addEventListener("click",this.onClickContainer.bind(this))}},{key:"renderYTPlayer",value:(n=c()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(nt.a.isReadyEmbedApi){e.next=3;break}return nt.a.fetchEmbedAPI(this),e.abrupt("return");case 3:document.getElementById(this.youtubeIframeId)||(this.iframeContainer.setAttribute("style","display: none;"),document.body.appendChild(this.iframeContainer)),this.player||(t=window.YT,this.player=new t.Player(this.youtubeIframeId,{videoId:this.youtubeId,playerVars:{origin:"".concat(location.protocol,"//").concat(location.host)},events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this)}})),this.player.getIframe()&&this.player.getIframe().blur();case 6:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"onFetchAPI",value:function(){this.renderYTPlayer()}},{key:"onPlayerReady",value:function(){this.container!==this.iframeContainer.parentElement&&(this.container.appendChild(this.iframeContainer),this.iframeContainer.removeAttribute("style")),1===this.playState&&this.player.playVideo()}},{key:"onPlayerStateChange",value:function(){this.playState=this.player.getPlayerState()}},{key:"onClickContainer",value:function(e){if(e.stopPropagation(),this.player&&!this.isActive()){var t=(new Date).getTime();t-this.lastClickTime<tt.a.TIMEOUT_DURATION&&this.setActive(!0),this.lastClickTime=t}}},{key:"renderView",value:function(e){y()(O()(t.prototype),"renderView",this).call(this),this.renderYTPlayer(),this.lastClickTime=0,this.setActive(!1),void 0!==e&&(this.container.style.opacity=String(e))}}]),t}(P.a),at=function(e){function t(e,n,i){var a;return u()(this,t),(a=C()(this,O()(t).call(this))).opacity=e,a.selected=n,a.mouseAction=i,a}return L()(t,e),m()(t,[{key:"isChangedFrom",value:function(e){return void 0===e||this.opacity!==e.opacity||this.selected!==e.selected||this.mouseAction!==e.mouseAction}}]),t}(P.b),rt=function(e){function t(){return u()(this,t),C()(this,O()(t).apply(this,arguments))}var n;return L()(t,e),m()(t,[{key:"onCreateView",value:function(){y()(O()(t.prototype),"onCreateView",this).call(this),this.embedView=new it(this.item.props.youtubeId),this.container.appendChild(this.embedView.getContainer())}},{key:"renderView",value:(n=c()(r.a.mark(function e(){var t,n,i=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:this.elements.imageElement,i.length>1&&void 0!==i[1]?i[1]:this.lastRenderEditScale,i.length>2&&void 0!==i[2]&&i[2],(n=this.makeContentsStates()).isChangedFrom(this.contentsStates)){e.next=6;break}return e.abrupt("return");case 6:return this.contentsStates=n,this.embedView.renderView(this.contentsStates.opacity),e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"shouldRerender",value:function(){return void 0===this.contentsStates||this.makeContentsStates().isChangedFrom(this.contentsStates)}},{key:"makeContentsStates",value:function(){return new at(this.item.props.getOpacity()/255,this.item.select,_.a.instance.mouseAction.mode)}}]),t}(ze),ot=function(){function e(){u()(this,e)}return m()(e,null,[{key:"getItemRenderer",value:function(e,t,n){switch(e.getItemType()){case ae.b.PHOTO:return new ve(e);case ae.b.SVG_GRAPHIC:return new ye(e);case ae.b.SVG_SHAPE:return new Ie(e);case ae.b.SVG_BASIC:return new Ce(e);case ae.b.SVG_IMAGE_FRAME:return new Le(e);case ae.b.TEXT:return new qe(e,t,!0,n);case ae.b.GRID:return new Qe(e,t,n);case ae.b.YOUTUBE:return new rt(e);case ae.b.GROUP:return new st(e);default:return null}}}]),e}(),st=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=C()(this,(e=O()(t)).call.apply(e,[this].concat(a)))).memberRenderers=[],n}var n,i;return L()(t,e),m()(t,[{key:"getImageAndDivElement",value:function(){}},{key:"removeElement",value:function(){}},{key:"initMemberRenderers",value:function(e,n,i){var a=this;this.memberRenderers=[],this.item.getMembers().forEach(function(r){var o=e.find(function(e){return!!e.getMatchedRenderer(r)});o||(o=ot.getItemRenderer(r,n,i))instanceof t&&o.initMemberRenderers(e,n,i),a.memberRenderers.push(o)})}},{key:"getMemberRenderers",value:function(){return this.memberRenderers}},{key:"clearMemberRenderers",value:function(){this.memberRenderers=[]}},{key:"renderAutoAsync",value:(i=c()(r.a.mark(function e(t){var n,i,a=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],i=[],this.memberRenderers.forEach(function(){var e=c()(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,a.renderAutoAsync(t,n);case 3:e.t1=e.sent,i=e.t0.concat.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 4:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"renderLiveEdit",value:(n=c()(r.a.mark(function e(t,n){var i,a,o=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>2&&void 0!==o[2]&&o[2],a=[],this.memberRenderers.forEach(function(){var e=c()(r.a.mark(function e(o){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,o.renderLiveEdit(t,n,i);case 3:e.t1=e.sent,a=e.t0.concat.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"getMatchedRenderer",value:function(e){if(e===this.item)return this;var t=this.getMemberRenderers(),n=!0,i=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value.getMatchedRenderer(e);if(s)return s}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return null}}]),t}(re),lt=n(452),ct=function(e){function t(e){var n;return u()(this,t),(n=C()(this,O()(t).call(this,void 0,!0))).background=e,n}return L()(t,e),m()(t,[{key:"getImageAndDivElement",value:function(){}},{key:"removeElement",value:function(){this.container&&(this.container.parentElement&&this.container.parentElement.removeChild(this.container),this.container=null)}},{key:"render",value:function(e){return this.drawDefaultBackground(this.container,e),this.container}},{key:"drawDefaultBackground",value:function(e,t){e.removeAttribute("style"),e.className="tbpe_skin",e.style.position="relative",e.style.backgroundColor=this.background.color,this.setScale(t)}},{key:"setScale",value:function(e){var t=_.a.instance.size;this.container.style.width=t.pageWidth+"px",this.container.style.height=t.pageHeight+"px"}},{key:"updateColor",value:function(e){this.background.color!==e&&e&&(this.container.style.backgroundColor=e,this.background.color=e)}},{key:"initDefaultColor",value:function(){this.updateColor(lt.a.DEFAULT_COLOR)}}]),t}(re),ht=function(){function e(t,n,i){u()(this,e),this.lastItemRenderers=[],this.background=n,this.itemTree=new ut(t,i)}return m()(e,[{key:"makeItemTree",value:function(e,t){this.needUpdateDOM(e)&&(this.background.render(t),this.itemTree.makeTree([this.background].concat(e)),this.groupIds=this.getGroupIdAll(e),this.lastItemRenderers=e.slice(),this.lastScale=t),this.lastScale!==t&&(this.background.setScale(t),this.lastScale=t),this.updateElement(t)}},{key:"needUpdateDOM",value:function(e){return this.isChangeGroupStructure(e)||!this.equalItems(e)}},{key:"isChangeGroupStructure",value:function(e){var t=this.getGroupIdAll(e);if(!this.groupIds||t.length!==this.groupIds.length)return!0;for(var n=0,i=this.groupIds.length;n<i;n++)if(this.groupIds[n]!==t[n])return!0;return!1}},{key:"getGroupIdAll",value:function(e){var t=new Set;return e.forEach(function(e){e.item instanceof E.d&&!W.b.isEmpty(e.item.groupId)?t.add(e.item.groupId):e.item instanceof f.a&&e.item.getAllSingleMembers().forEach(function(e){W.b.isEmpty(e.groupId)||t.add(e.groupId)})}),Array.from(t)}},{key:"equalItems",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastItemRenderers;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){if(t[n]!==e[n])return!1;if(e[n]instanceof st){var i=this.equalItems(t[n].getMemberRenderers(),e[n].getMemberRenderers());if(!i)return!1}}return!0}},{key:"updateElement",value:function(e){this.itemTree.updateElement(e)}}]),e}(),ut=function(){function e(t,n){u()(this,e),this.hoverLayer=n,this.rootNode=new mt(null,t)}return m()(e,[{key:"makeTree",value:function(e){this.removeUnusedNodes(e).sortNodes(e).createNodes(e)}},{key:"removeUnusedNodes",value:function(e){for(var t=this,n=function(n){var a=t.rootNode.childNodes[n],r=t.getItemView(a);e.some(function(e){return e===r})||(n-=t.rootNode.removeChildNode(a)?1:0),i=n},i=0;i<this.rootNode.childNodes.length;i++)n(i);return this}},{key:"sortNodes",value:function(e){var t=this;return e.forEach(function(e,n){var i=t.findChildNode(e);i&&t.rootNode.childNodes[n]!==i&&t.rootNode.insertNode(i,n)}),this}},{key:"createNodes",value:function(e){var t=this;return e.forEach(function(e,n){t.findChildNode(e)||t.rootNode.insertNode(t.createNode(e),n)}),this}},{key:"createNode",value:function(e){return e instanceof st?this.makeGroupTree(e,this.rootNode):e instanceof le?new _t(this.rootNode,e):e instanceof ct?new pt(this.rootNode,e):null}},{key:"makeGroupTree",value:function(e,t){var n=this,i=new Et(t,e,this.hoverLayer);return e.getMemberRenderers().forEach(function(e,t){i.insertNode(n.createNode(e),t)}),i}},{key:"findChildNode",value:function(e){var t=this;return this.rootNode.childNodes.find(function(n){return t.getItemView(n)===e})}},{key:"getItemView",value:function(e){return e instanceof Et?e.groupItemView:e instanceof _t?e.itemRenderer:e instanceof pt?e.backgroundItemView:void 0}},{key:"appendNodeElement",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=e.childNodes[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;this.appendNodeElement(o)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}e.parentNode&&e.element&&e.parentNode.appendChildElement(e.element)}},{key:"updateElement",value:function(e){this.updateNodeElement(this.rootNode,e)}},{key:"updateNodeElement",value:function(e,t){var n=!0,i=!1,a=void 0;try{for(var r,o=e.childNodes[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;this.updateNodeElement(s,t)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}e.updateElement(t)}}]),e}(),dt=function(){function e(t,n){u()(this,e),this.childNodes=[],this.parentNode=t,this.type=n}return m()(e,[{key:"appendChildNode",value:function(e){var t=this.childNodes.indexOf(e);t<0?this.childNodes.push(e):this.childNodes[t]=e}},{key:"removeAllChildNode",value:function(){this.childNodes=[],this.removeAllChildElement()}},{key:"removeChildNode",value:function(e){var t=this.childNodes.indexOf(e);return!(t<0)&&(this.childNodes.splice(t,1),e.element&&e.element.parentElement===this.element&&this.element.removeChild(e.element),!0)}},{key:"insertNode",value:function(e,t){e&&(this.childNodes.includes(e)&&this.childNodes.splice(this.childNodes.indexOf(e),1),this.childNodes.splice(t,0,e),e.element&&this.element.insertBefore(e.element,this.element.childNodes[t]))}},{key:"appendChildElement",value:function(e){this.element.appendChild(e)}},{key:"removeAllChildElement",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild)}},{key:"getChildItemRenderers",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var a,r=this.childNodes[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;switch(o.type){case Ze.ITEM:e.push(o.itemRenderer);break;case Ze.GROUP:e=e.concat(o.getChildItemRenderers())}}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return e}}]),e}(),mt=function(e){function t(e,n){var i;return u()(this,t),(i=C()(this,O()(t).call(this,e,Ze.ROOT))).element=n,i}return L()(t,e),m()(t,[{key:"updateElement",value:function(e){}}]),t}(dt),pt=function(e){function t(e,n){var i;return u()(this,t),(i=C()(this,O()(t).call(this,e,Ze.ITEM))).backgroundItemView=n,i.element=n.container,i}return L()(t,e),m()(t,[{key:"updateElement",value:function(e){}}]),t}(dt),_t=function(e){function t(e,n){var i;return u()(this,t),(i=C()(this,O()(t).call(this,e,Ze.ITEM))).itemRenderer=n,i.element=n.elements.container,i}return L()(t,e),m()(t,[{key:"updateElement",value:function(e){}}]),t}(dt),Et=function(e){function t(e,n,i){var a;return u()(this,t),(a=C()(this,O()(t).call(this,e,Ze.GROUP))).groupItemView=n,a.hoverLayer=i,a.element=document.createElement("div"),a.element.style.left="0px",a.element.style.top="0px",a.element.id="tbpe_item_group",a.hoverLayer&&a.hoverLayer.appendChild(a.groupItemView.item.boxElement),a}return L()(t,e),m()(t,[{key:"updateElement",value:function(e){this.groupItemView.item.updateBoxStyle()}}]),t}(dt);!function(e){e.NONE="none",e.ROOT="root",e.ITEM="item",e.GROUP="group"}(Ze||(Ze={}));var vt=n(275),gt=function(e){function t(){return u()(this,t),C()(this,O()(t).call(this,q.a.LOADING))}var n;return L()(t,e),m()(t,[{key:"isNeedToRender",value:function(){return!this.container.classList.contains(v.a.VISIBLE)}},{key:"render",value:(n=c()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=this.container).innerHTML="",n.appendChild(t),n.setAttribute("data-arrange-type",vt.a.FIT),this.setVisible(!0);case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"hide",value:function(){this.setVisible(!1)}},{key:"setVisible",value:function(e){e?this.container.classList.add(v.a.VISIBLE):this.container.classList.remove(v.a.VISIBLE)}}]),t}(q.b),ft=n(90),Tt=n(238);n.d(t,"a",function(){return yt});var yt=function(){function e(t,n){var i=this;u()(this,e),this.itemViews=[],this.page=t,this.layerTypes=n,this.layers=new te(this.layerTypes.map(function(e){return i.createLayerView(e)})),this.backgroundRenderer=new ct(this.page.background),this.pageDOM=new ht(this.getLayerElement(q.a.ITEM),this.backgroundRenderer,this.getLayerElement(q.a.HOVER)),this.initItemRenderers(this.page.items);var a=document.createElement("div");a.className=e.PAGE_CLASS,a.id=this.page.pageId,a.innerHTML="",this.pageSettingVC=new Z(this.page),a.appendChild(this.pageSettingVC.getContainer());var r=document.createElement("div");r.className=e.PAGE_CONTENTS_CLASS+" test",a.appendChild(r),this.element=a,this.contents=r}var t,n,i,a,o;return m()(e,[{key:"getEditTextItemVCs",value:(o=c()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],this.page.items.forEach(function(e){e instanceof Tt.a?t.push(e):e instanceof f.a&&t.push.apply(t,s()(e.getEditTextItemVCs()))}),e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"setItemRenderers",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.itemViews;e.forEach(function(e,a){var r;(r=e.getItemType()===ae.b.GROUP?t.groupRenderers:t.singleRenderers).forEach(function(t,n){if(t.item===e)return i[a]=t,void r.splice(n,1)}),i[a]||(i[a]=n.getItemRenderer(e));var o=i[a];e instanceof f.a&&o instanceof st?n.setItemRenderers(e.getMembers(),t,o.getMemberRenderers()):e instanceof E.d&&e.props.updateRevision()})}},{key:"getItemRenderer",value:function(e){var t=this.getLayerElement(q.a.HANDLER),n=this.getLayerElement(q.a.TEXT_EDIT),i=ot.getItemRenderer(e,t,n);return i instanceof st&&i.initMemberRenderers(this.itemViews,t,n),i}},{key:"getDividedRenderers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.itemViews,n=[],i=[];return t.forEach(function(t){if(t instanceof le)n.push(t);else if(t instanceof st){var a=e.getDividedRenderers(t.getMemberRenderers());n=n.concat(a.singleRenderers),i=i.concat(a.groupRenderers,t)}}),{singleRenderers:n,groupRenderers:i}}},{key:"initItemRenderers",value:function(e){var t=this.getDividedRenderers();this.itemViews=[],t.groupRenderers.forEach(function(e){e.clearMemberRenderers()}),this.setItemRenderers(e,t),t.singleRenderers.forEach(function(e){e.removeElement()}),t.groupRenderers.forEach(function(e){e.item.removeBoxElement()})}},{key:"needToSyncItemRenderers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page.items,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.itemViews;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++){var i=e[n],a=t[n];if(i!==a.item)return!0;if(i instanceof f.a&&t instanceof st){var r=this.needToSyncItemRenderers(i.getMembers(),t.getMemberRenderers());if(r)return!0}}return!1}},{key:"syncItemRenderers",value:function(){this.needToSyncItemRenderers()&&this.initItemRenderers(this.page.items)}},{key:"getAllSingleRenderers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.itemViews,n=[];return t.forEach(function(t){t instanceof le?n.push(t):t instanceof st&&(n=n.concat(e.getAllSingleRenderers(t.getMemberRenderers())))}),n}},{key:"render",value:(a=c()(r.a.mark(function e(){var t,n,i,a,o,s,l,c,h,u=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:this.lastRenderEditScale,n=u.length>1&&void 0!==u[1]?u[1]:this.lastRenderTime,i=u.length>2&&void 0!==u[2]?u[2]:_.a.instance.zoomScale,this.lastRenderEditScale=t,this.lastRenderTime=n,this.page.lastRenderEditScale=t,a=this.needToSyncItemRenderers(),this.appendLayers(),this.backgroundRenderer.container&&this.backgroundRenderer.setScale(t),o=this.element,s=this.contents,this.syncItemRenderers(),l=this.page.sheetSize.clone(),c=i*t,l.scale(c),this.layers.changeSizeStyle(this.page.sheetSize,c),this.pageSettingVC.container.style.width=l.width+"px",s.style.width=l.width+"px",s.style.height=l.height+"px",!(h=a||this.page.getStatus()!==p.b.LOADING_WITH_COVER||!this.page.thumbnailPath)){e.next=23;break}return e.next=23,this.renderItemTree(n);case 23:return this.element=o,this.contents=s,this.updateRenderPage(_.a.instance.renderPageIdx),e.next=28,this.renderEx(h,this.lastRenderTime===n);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"renderItemTree",value:(i=c()(r.a.mark(function e(t){var n,i,a,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:!1,n=this.getAllSingleRenderers(),i=0,a=n.length;case 3:if(!(i<a)){e.next=13;break}return(o=n[i]).item.props.zIndex=i,e.next=8,o.renderAutoAsync(1);case 8:(e.sent&&t===this.lastRenderTime||o.item.getStatus()===E.g.NEW)&&(o.item.setStatus(E.g.STABLE),!0);case 10:i++,e.next=3;break;case 13:this.pageDOM.makeItemTree(this.itemViews,1);case 14:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"renderElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.a.instance.zoomScale;this.lastRenderEditScale=e,this.page.lastRenderEditScale=e;var n=this.element,i=this.contents,a=this.getScaleSize(t);return i.style.width="".concat(a.width,"px"),i.style.height="".concat(a.height,"px"),n}},{key:"getScaleSize",value:function(e){var t=e*this.lastRenderEditScale;return{width:this.page.sheetSize.width*t,height:this.page.sheetSize.height*t}}},{key:"renderItems",value:(n=c()(r.a.mark(function e(t){var n,i,a,o,s,l,c,h,u,d,m,p,_,E,v,g=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:g.length>1&&void 0!==g[1]?g[1]:this.lastRenderEditScale,n=g.length>2&&void 0!==g[2]&&g[2],g.length>3&&void 0!==g[3]&&g[3],i=f.b.convertSinglesToItems(t.slice()),a=!0,o=!1,s=void 0,e.prev=7,l=this.itemViews[Symbol.iterator]();case 9:if(a=(c=l.next()).done){e.next=43;break}h=c.value,u=!0,d=!1,m=void 0,e.prev=14,p=i[Symbol.iterator]();case 16:if(u=(_=p.next()).done){e.next=26;break}if(E=_.value,!(v=h.getMatchedRenderer(E))){e.next=23;break}return v.renderLiveEdit(1,n),i.splice(i.indexOf(E),1),e.abrupt("break",26);case 23:u=!0,e.next=16;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(14),d=!0,m=e.t0;case 32:e.prev=32,e.prev=33,u||null==p.return||p.return();case 35:if(e.prev=35,!d){e.next=38;break}throw m;case 38:return e.finish(35);case 39:return e.finish(32);case 40:a=!0,e.next=9;break;case 43:e.next=49;break;case 45:e.prev=45,e.t1=e.catch(7),o=!0,s=e.t1;case 49:e.prev=49,e.prev=50,a||null==l.return||l.return();case 52:if(e.prev=52,!o){e.next=55;break}throw s;case 55:return e.finish(52);case 56:return e.finish(49);case 57:case"end":return e.stop()}},e,this,[[7,45,49,57],[14,28,32,40],[33,,35,39],[50,,52,56]])})),function(e){return n.apply(this,arguments)})},{key:"getLayerElement",value:function(e){var t=this.layers.getLayerView(e);return t?t.container:null}},{key:"removeElement",value:function(){this.removeLayers(),this.element&&(this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.element=null)}},{key:"appendLayers",value:function(){this.layers.container.parentElement!==this.contents&&this.contents.appendChild(this.layers.makeElement())}},{key:"removeLayers",value:function(){this.layers.detachContainer()}},{key:"showHeader",value:function(){this.pageSettingVC.container.classList.remove(v.a.HIDE)}},{key:"hideHeader",value:function(){this.pageSettingVC.container.classList.add(v.a.HIDE)}},{key:"isInRange",value:function(e,t){var n=this.contents.getBoundingClientRect();return n.left<=e&&e<=n.right&&n.top<=t&&t<=n.bottom}},{key:"getPagePosition",value:function(e,t){var n=this.contents.getBoundingClientRect();return new ft.a(e-n.left,t-n.top)}},{key:"getInRangeGroup",value:function(e,t){var n=this.getInRangeGroups(e,t,e,t,1);return 1===n.length?n[0]:null}},{key:"getInRangeGroups",value:function(e,t,n,i){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,r=[],o=this.getOffsetLTRB(e,t,n,i),s=0,l=this.page.items.length;l>0;l--){var c=this.page.items[l-1];if(c instanceof f.a&&(g.a.isCollisionAABB(c.getLTRBCoordinate(),o)&&(r.push(c),s++),a>0&&a===s))return r}return r}},{key:"getOffsetLTRB",value:function(e,t,n,i){var a=this.contents.getBoundingClientRect(),r=_.a.instance.pageEditScale,o=Math.min(e,n)-a.left/_.a.instance.zoomScale,s=Math.max(e,n)-a.left/_.a.instance.zoomScale,l=Math.min(t,i)-a.top/_.a.instance.zoomScale,c=Math.max(t,i)-a.top/_.a.instance.zoomScale;return new de.a(o,l,s,c).changeScaleReverse(r)}},{key:"getInRangeItems",value:function(e,t,n,i){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,r=[],o=this.page.getAllSingleItems(),s=this.getOffsetLTRB(e,t,n,i),l=o.length;l>0;l--){var c=o[l-1];if(c.isInRange(s)&&r.push(c),a>0&&a===r.length)return r}return r}},{key:"getInRangeItem",value:function(e,t){var n=this.getInRangeItems(e,t,e,t,1);return 1===n.length?n[0]:null}},{key:"isPageInRange",value:function(e,t,n,i){var a=Math.min(e,n),r=Math.max(e,n),o=Math.min(t,i),s=Math.max(t,i),l=this.contents.getBoundingClientRect();return!(r<l.left||s<l.top||a>l.right||o>l.bottom)}},{key:"updateRenderPage",value:function(e){if(this.element){var t=e===this.page.pageIdx,n=this.page.borderLine,i=_.a.instance.activeItems.length>0,a=F.a.getExecutionMode().isBizhowsChannel();this.element.classList.toggle(v.a.RENDER_PAGE,t),t&&n&&!i&&!a?this.element.classList.add("border_line"):this.element.classList.remove("border_line")}}},{key:"getListener",value:function(){return this.pageSettingVC.getPagePopup()}},{key:"createLayerView",value:function(e){return e===q.a.HYPERLINK?new ie(this.page,_.a.instance.zoomScale*this.lastRenderEditScale):e===q.a.LOADING?new gt:new q.b(e)}},{key:"fadeIn",value:function(){var e=this;this.element.classList.remove("transition"),this.element.classList.add("transparent"),setTimeout(function(){e.element.classList.add("transition"),e.element.classList.remove("transparent")},0)}},{key:"fadeOut",value:(t=c()(r.a.mark(function e(){var t=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){try{t.element.classList.add("transition"),t.element.classList.add("transparent"),t.element.classList.add("scale_in"),setTimeout(function(){return e()},500)}catch(t){console.error(t),e()}}));case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})}]),e}();yt.PAGE_CLASS="tbpe_page",yt.PAGE_CONTENTS_CLASS="page_contents"},504:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(6),l=n.n(s),c=n(3),h=n.n(c),u=n(7),d=n.n(u),m=function(e){function t(e){var n;return a()(this,t),(n=l()(this,h()(t).call(this,!0))).container.className=e,n}return d()(t,e),o()(t,[{key:"changeSizeScaled",value:function(e,t){var n=e.clone();n.scale(t),this.changeSize(n)}},{key:"changeSize",value:function(e,t){var n=this.container.style;n.width=e.width+"px",n.height=e.height+"px",t&&(n.transform="scale(".concat(t,")"))}}]),t}(n(31).a)},505:function(e,t,n){"use strict";var i=n(2),a=n.n(i),r=n(4),o=n.n(r),s=n(0),l=n.n(s),c=n(1),h=n.n(c),u=n(225),d=n(229),m=n(279),p=n(81),_=n(112),E=n(252),v=n(226),g=n(224),f=function(){function e(){l()(this,e),this.notificationPusher=new _.a({allowSameType:!1})}return h()(e,[{key:"notifyCannotAddPage",value:function(){this.notificationPusher.pushNotification({type:p.b.ERROR,title:"페이지를 추가할 수 없어요.",content:"최대 ".concat(d.a.getEditorOpenOption().getPageCount().max,"페이지까지 제작이 가능해요.")},5e3)}},{key:"notifyCannotRemovePage",value:function(){this.notificationPusher.pushNotification({type:p.b.ERROR,title:"페이지를 삭제할 수 없어요.",content:"최소 ".concat(d.a.getEditorOpenOption().getPageCount().min,"페이지부터 제작이 가능해요.")},5e3)}},{key:"canAddPage",value:function(){return d.a.getEditorOpenOption().getPageCount().canAddPage(E.a.getPageCount())}},{key:"canRemovePage",value:function(){return d.a.getEditorOpenOption().getPageCount().canRemovePage(E.a.getPageCount())}},{key:"canChangePageOrder",value:function(){return d.a.getEditorOpenOption().canChangePageOrder}},{key:"addBlankPage",value:function(e){this.canAddPage()?u.a.instance.dispatch(new m.a(e)):this.notifyCannotAddPage()}},{key:"addCopiedPage",value:function(e){this.canAddPage()?u.a.instance.dispatch(new m.b(e)):this.notifyCannotAddPage()}},{key:"removePage",value:function(e){this.canRemovePage()?u.a.instance.dispatch(new g.c(function(){var t=o()(a.a.mark(function t(n){var i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=v.a.instance.pageController.getPageRenderer(n.pages[e]))){t.next=4;break}return t.next=4,i.fadeOut();case 4:u.a.instance.dispatch(new m.e(e));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())):this.notifyCannotRemovePage()}}]),e}();t.a=new f},506:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){function t(e){return e.requestFullscreen}e.isEnableFullScreen=t,e.isFullScreen=function(){return null!=document.fullscreenElement},e.showFullScreen=function(e,n,i){if(!e)throw new Error("잘못된 파라미터입니다.");if(!t(e))throw new Error("지원하지 않는 브라우저입니다.");$(document).on("fullscreenchange",function e(){document.fullscreenElement?n&&n():(document.removeEventListener("fullscreenchange",e),i&&i())}),e.requestFullscreen()},e.exitFullScreen=function(){$(document).off("fullscreenchange"),this.isFullScreen()&&document.exitFullscreen&&document.exitFullscreen()}}(i||(i={}))},507:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(345),l=n(90),c=function(){function e(){a()(this,e),this.DOUBLE_CLICK_TOLERANCE=3,this.DOUBLE_TAB_TOLERANCE=20,this.downCount=0,this.mouseV=new l.a(0,0),this.isMultipleDown=!1}return o()(e,[{key:"downMouse",value:function(t,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.isPointEquals(t,n,this.mouseV.x,this.mouseV.y,a)||this.clear(),this.mouseV.x=t,this.mouseV.y=n,this.downCount++,this.isMultipleDown=this.downCount>1,this.timeoutEvent&&this.timeoutEvent.setExecCallBack(!1),this.timeoutEvent=new s.a(e.TIMEOUT_DURATION,function(){i.clear()})}},{key:"clear",value:function(){this.downCount=0,this.isMultipleDown=!1}},{key:"isDoubleClick",value:function(){return this.isMultipleDown}},{key:"isPointEquals",value:function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=a?this.DOUBLE_TAB_TOLERANCE:this.DOUBLE_CLICK_TOLERANCE;return Math.abs(e-n)<r&&Math.abs(t-i)<r}}]),e}();c.TIMEOUT_DURATION=300},509:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n(2),a=n.n(i),r=n(4),o=n.n(r),s=n(0),l=n.n(s),c=n(1),h=n.n(c),u=n(51),d=n(100),m=function(){function e(){l()(this,e)}var t;return h()(e,null,[{key:"openCopyDesignWindow",value:(t=o()(a.a.mark(function e(t,n){var i,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t>0){e.next=2;break}throw Error("디자인 복사 요청 실패 : ".concat(t));case 2:return e.next=4,u.a.getSelectedTeamIndex(n);case 4:return i=e.sent,e.next=7,u.a.getSelectedTeamScope();case 7:r=e.sent,window.open(d.a.getCopyDesignUrl(t,i,r));case 9:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})}]),e}()},510:function(e,t,n){"use strict";n.d(t,"a",function(){return T});var i=n(2),a=n.n(i),r=n(4),o=n.n(r),s=n(0),l=n.n(s),c=n(1),h=n.n(c),u=n(6),d=n.n(u),m=n(3),p=n.n(m),_=n(7),E=n.n(_),v=n(316),g=n(439),f=n(166),T=function(e){function t(e){var n;return l()(this,t),(n=d()(this,p()(t).call(this,e,[v.a.LOADING,v.a.TEXT_EDIT,v.a.HYPERLINK]))).element.classList.add("viewer"),n}var n;return E()(t,e),h()(t,[{key:"renderEx",value:(n=o()(a.a.mark(function e(t,n){var i,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=this.layers.getLayerView(v.a.LOADING),!t){e.next=7;break}i.hide(),e.next=13;break;case 7:if(!i.isNeedToRender()){e.next=13;break}return e.next=10,f.b.loadImageAsync(this.page.thumbnailPath);case 10:return r=e.sent,e.next=13,i.render(r);case 13:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})}]),t}(g.a)},511:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(8),l=function(){function e(){a()(this,e),this.doTimeout=!0,this.element=document.createElement("div"),this.element.className=s.a.DESIGN_VIEWER_PROGRESS_BAR,this.wrap=document.createElement("div"),this.container=document.createElement("div"),this.container.className=s.a.CONTAINER,this.wrap.appendChild(this.container),this.focusBar=document.createElement("div"),this.focusBar.className=s.a.FOCUS_BAR,this.wrap.appendChild(this.focusBar),this.element.appendChild(this.wrap),this.bindEvent()}return o()(e,[{key:"bindEvent",value:function(){var e=this;this.element.addEventListener("mouseenter",function(){e.doTimeout=!1,e.show()}),this.element.addEventListener("mouseleave",function(){e.doTimeout=!0,e.show()}),this.element.addEventListener("click",function(e){return e.stopPropagation()})}},{key:"init",value:function(e){e>1?this.enable():this.disable(),this.container.innerHTML="";for(var t=0;t<e;t++)this.container.appendChild(this.makePartitionBox(t))}},{key:"enable",value:function(){this.element.classList.remove(s.a.DISABLE)}},{key:"disable",value:function(){this.element.classList.add(s.a.DISABLE)}},{key:"makePartitionBox",value:function(e){var t=this,n=document.createElement("div");return n.addEventListener("click",function(){t.activePageIdx!==e&&t.focusPage(e)}),n}},{key:"setPage",value:function(e){if(!(e<0||e>this.container.childElementCount-1)){var t=this.activePageIdx;this.activePageIdx=e,this.moveFocusBar(),this.activePageIdx!==t&&this.show()}}},{key:"moveFocusBar",value:function(){var e=this.container.childNodes[this.activePageIdx];if(!e)throw new Error("인덱스가 잘못되었습니다.");var t=e.getBoundingClientRect();this.focusBar.style.transform="translateX(calc(".concat(t.right,"px - 100%))")}},{key:"show",value:function(){var e=this;this.wrap.classList.remove(s.a.HIDDEN);var t=(new Date).getTime();this.lastShowTime=t,this.doTimeout&&setTimeout(function(){e.lastShowTime===t&&e.wrap.classList.add(s.a.HIDDEN)},3e3)}}]),e}()},514:function(e,t,n){"use strict";var i=n(2),a=n.n(i),r=n(4),o=n.n(r),s=n(0),l=n.n(s),c=n(1),h=n.n(c),u=n(8),d=n(10),m=n(99),p=n(11),_=240,E=function(){function e(t){l()(this,e),this.parent=t,this.element=document.createElement("div"),this.element.className=u.a.DESIGN_PRESENTATION_PAGE_MENU,this.activePageLabel=document.createElement("span"),this.lastPageLabel=document.createElement("span"),this.button=this.makeButton(),this.menuList=document.createElement("ul"),this.menuBackground=document.createElement("div"),this.menuBackground.className=u.a.BACKGROUND,this.element.appendChild(this.button),this.element.appendChild(this.menuBackground),this.scrollElement=new m.a(!1,!0,"".concat(_,"px")),this.element.appendChild(this.scrollElement.render(this.menuList)),this.bindEvent()}return h()(e,[{key:"setView",value:function(e){return this.view=e,this}},{key:"bindEvent",value:function(){var e=this;this.button.addEventListener("click",function(){return e.open()}),this.menuBackground.addEventListener("click",function(){return e.close()}),$(this.menuList).on("click","li",function(){var t=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.close(),e.view.stopAutoPlay(),t.next=4,e.view.setPage($(n.currentTarget).index(),!1);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.menuBackground.addEventListener("touchmove",function(e){return e.stopPropagation()})}},{key:"makeButton",value:function(){var e=document.createElement("button");e.appendChild(this.activePageLabel);var t=document.createElement("span");return t.innerText="/",e.appendChild(t),e.appendChild(this.lastPageLabel),e}},{key:"init",value:function(e){var t=e.pages.map(function(e){return e.title});this.initMenu(t),this.initButtons(e.pages.length),this.setActivePage(0)}},{key:"initMenu",value:function(e){this.menuList.innerHTML="";var t=document.createDocumentFragment();e.forEach(function(e,n){var i="${idx}페이지".replace("${idx}",String(n+1));p.b.isEmpty(e)||(i+=" - ".concat(e));var a=document.createElement("li");t.appendChild(a);var r=document.createElement("span");r.innerText=i,a.appendChild(r)}),this.menuList.appendChild(t)}},{key:"initButtons",value:function(e){this.lastPageLabel.innerText=String(e)}},{key:"setActivePage",value:function(e){this.activePageLabel.innerText=String(e+1),this.menuList.childNodes.forEach(function(t,n){var i=t;e===n?i.classList.add(u.a.SELECTED):i.classList.remove(u.a.SELECTED)})}},{key:"open",value:function(){this.button.classList.add(u.a.ACTIVE),this.parent.show(!0),this.scrollElement.setMaxHeight("".concat(Math.min(this.menuList.clientHeight,_),"px"))}},{key:"close",value:function(){this.button.classList.remove(u.a.ACTIVE),this.parent.hide()}}]),e}(),v=function(){function e(t){l()(this,e),this.element=document.createElement("div"),this.element.className=u.a.DESIGN_PRESENTATION_PAGE_NAVIGATOR,this.prevButton=g(d.ToolsIcon.GREATER_THAN),this.prevButton.classList.add(u.a.PREV),this.nextButton=g(d.ToolsIcon.GREATER_THAN),this.nextButton.classList.add(u.a.NEXT),this.pageMenu=new E(t),this.element.appendChild(this.prevButton),this.element.appendChild(this.pageMenu.element),this.element.appendChild(this.nextButton),this.bindEvent()}return h()(e,[{key:"bindEvent",value:function(){var e=this;this.prevButton.addEventListener("click",o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.view.movePrev();case 2:case"end":return t.stop()}},t)}))),this.nextButton.addEventListener("click",o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.view.moveNext();case 2:case"end":return t.stop()}},t)}))),this.element.addEventListener("click",function(e){return e.stopPropagation()})}},{key:"init",value:function(e){this.pageMenu.init(e),this.lastPageIdx=e.pages.length-1,this.setButtonEnable()}},{key:"setActivePage",value:function(e){this.activePageIdx=e,this.pageMenu.setActivePage(e),this.setButtonEnable()}},{key:"setView",value:function(e){return this.view=e,this.pageMenu.setView(e),this}},{key:"setButtonEnable",value:function(){0===this.activePageIdx?this.prevButton.classList.add(u.a.DISABLE):this.prevButton.classList.remove(u.a.DISABLE),this.activePageIdx===this.lastPageIdx?this.nextButton.classList.add(u.a.DISABLE):this.nextButton.classList.remove(u.a.DISABLE)}},{key:"clear",value:function(){this.pageMenu.close()}}]),e}();function g(e){var t=document.createElement("button");return Object(d.setToolsIcon)(t,e),t}var f,T,y=function(){function e(){l()(this,e),this.option=e.DEFAULT_OPTION,this.element=document.createElement("div"),this.element.className=u.a.DESIGN_PRESENTATION_PLAY_CONTROLLER,this.playButton=this.makePlayButton(),this.element.appendChild(this.playButton),this.repeatButton=this.makeRepeatButton(),this.element.appendChild(this.repeatButton),this.bindEvent()}return h()(e,[{key:"bindEvent",value:function(){var e=this;this.playButton.addEventListener("click",function(){var t=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.option.autoPlaying){t.next=5;break}return t.next=3,e.view.stopAutoPlay();case 3:t.next=7;break;case 5:return t.next=7,e.view.playAuto();case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.repeatButton.addEventListener("click",function(){var t=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setRepeat(!e.option.repeat);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.element.addEventListener("click",function(e){return e.stopPropagation()})}},{key:"makePlayButton",value:function(){var e=document.createElement("button");return e.className=u.a.BUTTON_PLAY,Object(d.setToolsIcon)(e,d.ToolsIcon.PLAY),Object(d.setToolsIcon)(e,d.ToolsIcon.PAUSE),e}},{key:"makeRepeatButton",value:function(){var e=document.createElement("button");return e.className=u.a.BUTTON_REPEAT,Object(d.setToolsIcon)(e,d.ToolsIcon.REPEAT),e}},{key:"setView",value:function(e){return this.view=e,this}},{key:"setAutoPlay",value:function(e){this.option.autoPlaying=e,this.option.autoPlaying?this.playButton.classList.add(u.a.PLAYING):this.playButton.classList.remove(u.a.PLAYING)}},{key:"setRepeat",value:function(e){this.option.repeat=e,this.option.repeat?this.repeatButton.classList.add(u.a.ACTIVE):this.repeatButton.classList.remove(u.a.ACTIVE)}},{key:"clear",value:function(){this.setAutoPlay(!1)}}]),e}();y.DEFAULT_OPTION={repeat:!1,autoPlaying:!1},function(e){e.SLIDE="SLIDE",e.SCALE="SCALE"}(f||(f={})),function(e){e.NONE="NONE",e.HORIZON="HORIZON",e.VERTICAL="VERTICAL"}(T||(T={}));var I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l()(this,e),this.element=document.createElement("div"),this.element.className=u.a.TOGGLE_BUTTON_SWITCH,this.valueCheckbox=this.makeValueCheckbox(t),this.element.appendChild(this.valueCheckbox),this.element.appendChild(this.makeSlider())}return h()(e,[{key:"setChangeListener",value:function(e){return this.changeListener=e,this}},{key:"getValue",value:function(){return this.valueCheckbox.checked}},{key:"setValue",value:function(e){this.valueCheckbox.checked!==e&&(this.valueCheckbox.checked=e,this.changeListener&&this.changeListener(this.valueCheckbox.checked))}},{key:"makeValueCheckbox",value:function(e){var t=document.createElement("input");return t.type="checkbox",t.checked=e,t}},{key:"makeSlider",value:function(){var e=this,t=document.createElement("div");return t.className=u.a.SWITCH_SLIDER,t.addEventListener("click",function(){return e.setValue(!e.getValue())}),t}}]),e}(),C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b.random();l()(this,e),this.radioInputList=[],this.radioFormName=t,this.element=this.makeElement()}return h()(e,[{key:"makeElement",value:function(){var e=document.createElement("div");return e.className=u.a.BUTTON_RADIO,e}},{key:"addOption",value:function(e,t,n){return this.element.appendChild(this.makeRadioButton(e,t,n)),this}},{key:"makeRadioButton",value:function(e,t,n){var i=this,a=document.createElement("div"),r=document.createElement("input");r.type="radio",r.name=this.radioFormName,r.value=t,r.checked=n,a.appendChild(r),this.radioInputList.push(r);var o=document.createElement("button");return o.innerText=e,o.addEventListener("click",function(){return i.setValue(r.value)}),a.appendChild(o),a}},{key:"setChangeListener",value:function(e){return this.changeListener=e,this}},{key:"getValue",value:function(){var e=this.radioInputList.find(function(e){return e.checked});if(!e)throw new Error("선택된 버튼이 없습니다.");return e.value}},{key:"setValue",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=this.radioInputList[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(o.value===e&&!o.checked){o.checked=!0,this.changeListener&&this.changeListener(e);break}}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}}]),e}(),R=n(350),O=function(){function e(){l()(this,e),this.element=document.createElement("div"),this.element.className=u.a.EDITABLE_SELECT,this.element.tabIndex=0,this.input=document.createElement("input"),this.optionLayer=document.createElement("div"),this.optionLayer.className="".concat(u.a.OPTION_LAYER," ").concat(u.a.HIDDEN),Object(d.setToolsIcon)(this.element,d.ToolsIcon.GREATER_THAN),this.element.appendChild(this.input),this.element.appendChild(this.optionLayer),this.bindEvent()}return h()(e,[{key:"setInputListener",value:function(e){this.inputListener=e}},{key:"bindEvent",value:function(){var e=this;this.input.addEventListener("focus",function(){R.a.selectAll(e.input),e.open()}),this.input.addEventListener("blur",function(t){e.close()}),this.input.addEventListener("change",function(t){var n=e.inputListener?e.inputListener(e.input.value):null;if(n){var i=e.setValue(n.value);e.input.value=n.label,!i&&e.changeListener&&e.changeListener(e.selectedValue)}else e.setValue(e.selectedValue);$(e.input).trigger("blur")}),this.element.addEventListener("focus",function(){e.open()}),$(this.element).on("click",".".concat(u.a.OPTION_ELEMENT),function(t){e.close(),e.setValue(t.currentTarget.getAttribute("data-value"))})}},{key:"close",value:function(){this.optionLayer.classList.add(u.a.HIDDEN)}},{key:"open",value:function(){this.optionLayer.classList.remove(u.a.HIDDEN)}},{key:"addOption",value:function(e,t,n){var i=document.createElement("div");return i.className=u.a.OPTION_ELEMENT,i.setAttribute("data-value",t),i.innerText=e,this.optionLayer.appendChild(i),n&&this.setValue(t),this}},{key:"getValue",value:function(){return this.selectedValue}},{key:"setChangeListener",value:function(e){return this.changeListener=e,this}},{key:"setValue",value:function(e){if(this.selectedValue===e)return!1;this.selectedValue=e;var t=!1,n=!0,i=!1,a=void 0;try{for(var r,o=this.optionLayer.childNodes[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;s.getAttribute("data-value")===e?(s.classList.add(u.a.SELECTED),this.input.value=s.innerText,t=!0):s.classList.remove(u.a.SELECTED)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return t&&this.changeListener&&this.changeListener(this.selectedValue),t}}]),e}(),S=[1,3,5,8,10],L=function(){function e(t){l()(this,e),this.config=e.DEFAULT_CONFIG,this.parent=t,this.element=document.createElement("div"),this.element.className=u.a.DESIGN_PRESENTATION_CONFIG_MANAGER,this.toggleFadeButton=this.makeToggleFadeButton(),this.directionRadio=this.makeDirectionRadio(),this.styleRadio=this.makeStyleRadio(),this.intervalTimeSelect=this.makeIntervalTimeSelect(),this.menuButton=document.createElement("button"),Object(d.setToolsIcon)(this.menuButton,d.ToolsIcon.SETTINGS),this.menuLayer=this.makeLayer(),this.menuBackground=document.createElement("div"),this.menuBackground.className=u.a.BACKGROUND,this.element.appendChild(this.menuButton),this.element.appendChild(this.menuBackground),this.element.appendChild(this.menuLayer),this.bindEvent()}return h()(e,[{key:"setView",value:function(e){this.view=e}},{key:"makeToggleFadeButton",value:function(){var e=this;return new I(this.config.fade).setChangeListener(function(t){return e.config.fade=t})}},{key:"makeDirectionRadio",value:function(){var e=this;return(new C).addOption("없음",T.NONE,this.config.direction===T.NONE).addOption("좌/우",T.HORIZON,this.config.direction===T.HORIZON).addOption("상/하",T.VERTICAL,this.config.direction===T.VERTICAL).setChangeListener(function(t){return e.config.direction=t})}},{key:"makeStyleRadio",value:function(){var e=this;return(new C).addOption("슬라이드",f.SLIDE,this.config.style===f.SLIDE).addOption("스케일",f.SCALE,this.config.style===f.SCALE).setChangeListener(function(t){return e.config.style=t})}},{key:"makeIntervalTimeSelect",value:function(){var e=this,t=new O;return S.forEach(function(n){var i=String(n);t.addOption("${sec}초".replace("${sec}",i),i,n===e.config.playInterval)}),t.setChangeListener(function(t){e.config.playInterval=Number(t)}).setInputListener(function(e){if(!e)return null;e=e.replace("초","").trim();var t=Number(e);return isNaN(t)?null:(t=Number(t.toFixed(1)),t=Math.max(t,1),t=Math.min(t,20),{value:e=String(t),label:"${sec}초".replace("${sec}",e)})}),t}},{key:"makeLayer",value:function(){var e=document.createElement("div");return e.className=u.a.LAYER,e.appendChild(this.makeLayerHeader()),e.appendChild(this.makeEffectOptionSection()),e.appendChild(this.makePlayOptionSection()),e}},{key:"makeLayerHeader",value:function(){var e=this,t=document.createElement("div");t.className=u.a.HEADER;var n=document.createElement("span");n.innerText="설정",t.appendChild(n);var i=document.createElement("button");return i.addEventListener("click",function(){return e.close()}),Object(d.setToolsIcon)(i,d.ToolsIcon.CLOSE),t.appendChild(i),t}},{key:"makeEffectOptionSection",value:function(){var e=document.createElement("section");return e.appendChild(this.makeOptionSectionTitle("화면전환 효과")),e.appendChild(this.makeOption("페이드 효과",this.toggleFadeButton.element,!0)),e.appendChild(this.makeOption("방향",this.directionRadio.element,!1)),e.appendChild(this.makeOption("스타일",this.styleRadio.element,!1)),e}},{key:"makePlayOptionSection",value:function(){var e=document.createElement("section");return e.appendChild(this.makeOptionSectionTitle("재생")),e.appendChild(this.makeOption("화면전환 시간",this.intervalTimeSelect.element,!0)),e}},{key:"makeOptionSectionTitle",value:function(e){var t=document.createElement("p");return t.className=u.a.TITLE,t.innerText=e,t}},{key:"makeOption",value:function(e,t,n){var i=document.createElement("div");i.className=u.a.OPTION,n&&i.classList.add(u.a.ROW);var a=document.createElement("span");a.className=u.a.OPTION_NAME,a.innerText=e,i.appendChild(a);var r=document.createElement("div");return r.className=u.a.OPTION_ELEMENT,r.appendChild(t),i.appendChild(r),i}},{key:"bindEvent",value:function(){var e=this;this.menuButton.addEventListener("click",function(){return e.open()}),this.menuBackground.addEventListener("click",function(){return e.close()}),this.menuLayer.addEventListener("click",function(e){return e.stopPropagation()}),this.element.addEventListener("click",function(e){return e.stopPropagation()}),this.menuBackground.addEventListener("touchmove",function(e){return e.stopPropagation()})}},{key:"open",value:function(){this.view.stopAutoPlay(),this.menuButton.classList.add(u.a.ACTIVE),this.parent.show(!0)}},{key:"close",value:function(){this.menuButton.classList.remove(u.a.ACTIVE),this.parent.hide()}}]),e}();L.DEFAULT_CONFIG={fade:!0,direction:T.HORIZON,style:f.SLIDE,playInterval:3};var A,N=n(67),P=function(){function e(){l()(this,e),this.element=document.createElement("div"),this.element.className="".concat(u.a.DESIGN_PRESENTATION_CONTROLLER," ").concat(u.a.HIDDEN),this.playController=new y,this.pageNavigator=new v(this),this.configManager=new L(this),this.buildComponents(),this.bindEvent()}return h()(e,[{key:"bindEvent",value:function(){var e=this;N.a.isMobileDevice()||$(this.element).on("mouseenter",function(){e.isMouseOn=!0,e.show(!0)}).on("mouseleave",function(){e.isMouseOn=!1,e.show(!1)})}},{key:"show",value:function(e){var t=this;this.element.classList.remove(u.a.HIDDEN);var n=(new Date).getTime();this.lastShowTime=n,e||this.isMouseOn||setTimeout(function(){t.lastShowTime===n&&t.hide()},3e3)}},{key:"hide",value:function(){this.element.classList.add(u.a.HIDDEN)}},{key:"toggle",value:function(e){!this.element.classList.contains(u.a.HIDDEN)?this.hide():this.show(e)}},{key:"buildComponents",value:function(){this.buildPlayController().buildPageNavigator().buildConfigManager()}},{key:"buildPlayController",value:function(){return this.element.appendChild(this.playController.element),this}},{key:"buildPageNavigator",value:function(){return this.element.appendChild(this.pageNavigator.element),this}},{key:"buildConfigManager",value:function(){return this.element.appendChild(this.configManager.element),this}},{key:"setView",value:function(e){return this.pageNavigator.setView(e),this.playController.setView(e),this.configManager.setView(e),this}},{key:"clear",value:function(){this.pageNavigator.clear(),this.playController.clear(),this.configManager.close()}},{key:"init",value:function(e){e.pages.length>1?(this.enable(),this.pageNavigator.init(e),this.show(!1)):this.disable()}},{key:"enable",value:function(){this.element.classList.remove(u.a.DISABLE)}},{key:"disable",value:function(){this.element.classList.add(u.a.DISABLE)}}]),e}();!function(e){function t(){return(t=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){setTimeout(function(){e()},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}(A||(A={})).sleep=function(e){return t.apply(this,arguments)}}();var w,b=n(510),x=function(){function e(t,n){l()(this,e),this.isFullscreen=n,this.pageRenderer=new b.a(t),t.editScale=this.getEditScale(t),this.element=this.makePageWrap(this.pageRenderer)}var t,n,i,r,s,c;return h()(e,[{key:"resize",value:(c=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pageRenderer.page.editScale=this.getEditScale(this.pageRenderer.page),this.pageRenderer.renderElement(this.pageRenderer.page.editScale,1),e.next=4,this.renderTbpePage();case 4:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"renderTbpePage",value:(s=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pageRenderer.render(void 0,void 0,1);case 2:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"hide",value:(r=o()(a.a.mark(function e(t){var n,i=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){i.element.classList.remove(u.a.SHOW),i.element.classList.add(u.a.HIDE)},!t){e.next=16;break}return this.initPosition(),e.next=5,this.enableTransition();case 5:if(n(),t.style!==f.SLIDE){e.next=14;break}e.t0=t.direction,e.next=e.t0===T.HORIZON?10:e.t0===T.VERTICAL?12:14;break;case 10:return this.element.classList.add(t.reverse?u.a.RIGHT:u.a.LEFT),e.abrupt("break",14);case 12:return this.element.classList.add(t.reverse?u.a.BOTTOM:u.a.TOP),e.abrupt("break",14);case 14:e.next=18;break;case 16:this.initPosition(),n();case 18:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"show",value:(i=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this.readyShow(t);case 3:e.next=6;break;case 5:this.initPosition();case 6:this.element.classList.remove(u.a.HIDE),this.element.classList.add(u.a.SHOW);case 8:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"readyShow",value:(n=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.initPosition(),this.element.classList.remove(u.a.HIDE),e.t0=t.direction,e.next=e.t0===T.HORIZON?5:e.t0===T.VERTICAL?7:9;break;case 5:return this.element.classList.add(t.reverse?u.a.LEFT:u.a.RIGHT),e.abrupt("break",9);case 7:return this.element.classList.add(t.reverse?u.a.TOP:u.a.BOTTOM),e.abrupt("break",9);case 9:return e.next=11,this.enableTransition();case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"initPosition",value:function(){this.element.classList.add(u.a.PREVENT_TRANSITION),this.element.classList.remove(u.a.LEFT),this.element.classList.remove(u.a.TOP),this.element.classList.remove(u.a.RIGHT),this.element.classList.remove(u.a.BOTTOM)}},{key:"complete",value:function(){this.initPosition(),this.element.classList.remove(u.a.HIDE)}},{key:"enableTransition",value:(t=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.sleep(50);case 2:this.element.classList.remove(u.a.PREVENT_TRANSITION);case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"makePageWrap",value:function(e){var t=document.createElement("div");return t.className=u.a.PAGE_WRAP,t.appendChild(e.renderElement(e.page.editScale,1)),t}},{key:"getEditScale",value:function(e){var t=this.getScreenSize(),n=e.sheetSize;return t.width/t.height>n.width/n.height?t.height/n.height:t.width/n.width}},{key:"getScreenSize",value:function(){return this.isFullscreen?{width:screen.width,height:screen.height}:{width:window.outerWidth,height:window.outerHeight}}}]),e}(),k=n(30),D=function(){function e(){var t=this;l()(this,e),this.viewPages=[],this.reservedAnimationComplete={},this.element=document.createElement("div"),this.element.className="".concat(u.a.DESIGN_PRESENTATION_VIEW," ").concat(u.a.DESIGN_VIEWER),this.element.tabIndex=0,this.pageContainer=document.createElement("div"),this.pageContainer.className=u.a.PAGE_CONTAINER,this.element.appendChild(this.pageContainer),this.pageEndView=this.makePageEndView(),this.element.appendChild(this.pageEndView),window.addEventListener("resize",function(){return t.resize()})}var t,n,i,r,s,c,d,m,p;return h()(e,[{key:"resize",value:(p=o()(a.a.mark(function e(){var t,n,i,r,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.viewPages.length){e.next=2;break}return e.abrupt("return");case 2:t=!0,n=!1,i=void 0,e.prev=5,r=this.viewPages[Symbol.iterator]();case 7:if(t=(o=r.next()).done){e.next=14;break}return s=o.value,e.next=11,s.resize();case 11:t=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),n=!0,i=e.t0;case 20:e.prev=20,e.prev=21,t||null==r.return||r.return();case 23:if(e.prev=23,!n){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,this,[[5,16,20,28],[21,,23,27]])})),function(){return p.apply(this,arguments)})},{key:"makePageEndView",value:function(){var e=this,t=document.createElement("div");t.className="".concat(u.a.PAGE_END_VIEW," ").concat(u.a.HIDDEN);var n=document.createElement("button");n.addEventListener("click",function(){var t=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),t.next=3,e.setPage(0,!1);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),t.appendChild(n);var i=document.createElement("img");return i.src="".concat(k.a.RESOURCE_DOMAIN,"image/presentation/replay.png"),n.appendChild(i),t}},{key:"setController",value:function(e){return this.controller=e,this}},{key:"setProgressBar",value:function(e){return this.progressBar=e,this}},{key:"init",value:(m=o()(a.a.mark(function e(t,n){var i,r,o,s,l,c,h,u,d,m,p,_,E;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(this.activePageIdx=-1,this.lastPageIdx=t.length-1,this.stopAutoPlay(),this.viewPages=[],i=!0,r=!1,o=void 0,e.prev=7,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0)c=l.value,h=new x(c,n),this.viewPages.push(h),this.pageContainer.appendChild(h.element);e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),r=!0,o=e.t0;case 15:e.prev=15,e.prev=16,i||null==s.return||s.return();case 18:if(e.prev=18,!r){e.next=21;break}throw o;case 21:return e.finish(18);case 22:return e.finish(15);case 23:return e.next=25,this.setPage(0);case 25:u=!0,d=!1,m=void 0,e.prev=28,p=this.viewPages[Symbol.iterator]();case 30:if(u=(_=p.next()).done){e.next=37;break}return E=_.value,e.next=34,E.renderTbpePage();case 34:u=!0,e.next=30;break;case 37:e.next=43;break;case 39:e.prev=39,e.t1=e.catch(28),d=!0,m=e.t1;case 43:e.prev=43,e.prev=44,u||null==p.return||p.return();case 46:if(e.prev=46,!d){e.next=49;break}throw m;case 49:return e.finish(46);case 50:return e.finish(43);case 51:case"end":return e.stop()}},e,this,[[7,11,15,23],[16,,18,22],[28,39,43,51],[44,,46,50]])})),function(e,t){return m.apply(this,arguments)})},{key:"moveNext",value:(d=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t||this.stopAutoPlay(),!(this.activePageIdx<this.lastPageIdx)){e.next=6;break}return e.next=4,this.setPage(this.activePageIdx+1);case 4:e.next=12;break;case 6:if(!this.controller.playController.option.repeat){e.next=11;break}return e.next=9,this.setPage(0,!0,!0);case 9:e.next=12;break;case 11:this.showReplayView();case 12:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"movePrev",value:(c=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stopAutoPlay(),!(this.activePageIdx>0)){e.next=6;break}return e.next=4,this.setPage(this.activePageIdx-1);case 4:e.next=9;break;case 6:if(!this.controller.playController.option.repeat){e.next=9;break}return e.next=9,this.setPage(this.lastPageIdx,!0,!0);case 9:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"moveFirst",value:(s=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopAutoPlay(),e.next=3,this.setPage(0,!1);case 3:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"moveLast",value:(r=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopAutoPlay(),e.next=3,this.setPage(this.lastPageIdx,!1);case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"setPage",value:(i=o()(a.a.mark(function e(t){var n,i,r,o=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(o.length>1&&void 0!==o[1])||o[1],i=o.length>2&&void 0!==o[2]&&o[2],this.activePageIdx!==t){e.next=4;break}return e.abrupt("return");case 4:if(this.hideReplayView(),this.isChangeConfig()&&this.applyConfig(),r=this.activePageIdx,this.activePageIdx=t,this.controller.pageNavigator.setActivePage(this.activePageIdx),this.progressBar.setPage(this.activePageIdx),!n){e.next=15;break}return e.next=13,this.movePageAnimation(r,this.activePageIdx,i);case 13:e.next=17;break;case 15:this.viewPages[r].hide(),this.viewPages[this.activePageIdx].show();case 17:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"movePageAnimation",value:(n=o()(a.a.mark(function e(t,n,i){var r,o,s,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.completeAnimation(),r={direction:this.controller.configManager.config.direction,style:this.controller.configManager.config.style,fade:this.controller.configManager.config.fade,reverse:!i&&t>n||i&&t<n,overflow:i},o=this.viewPages[n],s=this.viewPages[t],l=[o.show(r)],s&&l.push(s.hide(r)),e.next=8,Promise.all(l);case 8:return s&&this.reserveAnimationComplete(function(){return s.complete()},800),e.next=11,A.sleep(800);case 11:case"end":return e.stop()}},e,this)})),function(e,t,i){return n.apply(this,arguments)})},{key:"reserveAnimationComplete",value:function(e,t){this.reservedAnimationComplete.callback=e,this.reservedAnimationComplete.timeoutId=setTimeout(e,t)}},{key:"completeAnimation",value:function(){this.reservedAnimationComplete.callback&&(clearTimeout(this.reservedAnimationComplete.timeoutId),this.reservedAnimationComplete.callback())}},{key:"clear",value:function(){this.pageContainer.innerHTML="",this.viewPages=[]}},{key:"showReplayView",value:function(){this.pageEndView.classList.remove(u.a.HIDDEN)}},{key:"hideReplayView",value:function(){this.pageEndView.classList.add(u.a.HIDDEN)}},{key:"playAuto",value:(t=o()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.controller.playController.setAutoPlay(!0),t=(new Date).getTime(),this.playAutoStartTime=t,n=!0;case 4:if(this.playAutoStartTime!==t){e.next=23;break}return e.next=7,A.sleep(1e3*this.controller.configManager.config.playInterval);case 7:if(this.playAutoStartTime===t&&this.controller.playController.option.autoPlaying){e.next=9;break}return e.abrupt("return");case 9:if(!n){e.next=15;break}if(n=!1,this.activePageIdx!==this.lastPageIdx){e.next=15;break}return e.next=14,this.setPage(0,!0,!0);case 14:return e.abrupt("continue",4);case 15:if(this.activePageIdx!==this.lastPageIdx||this.controller.playController.option.repeat){e.next=19;break}return this.showReplayView(),this.stopAutoPlay(),e.abrupt("return");case 19:return e.next=21,this.moveNext(!0);case 21:e.next=4;break;case 23:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"stopAutoPlay",value:function(){this.controller.playController.setAutoPlay(!1)}},{key:"applyConfig",value:function(){var e=this.controller.configManager.config;this.lastConfig=Object.assign({},e),this.element.setAttribute(w.DIRECTION,e.direction),this.element.setAttribute(w.STYLE,e.style),this.element.setAttribute(w.FADE,e.fade?"ON":"OFF")}},{key:"isChangeConfig",value:function(){if(!this.lastConfig)return!0;var e=this.controller.configManager.config;return this.lastConfig.direction!==e.direction||(this.lastConfig.style!==e.style||this.lastConfig.fade!==e.fade)}}]),e}();!function(e){e.DIRECTION="data-direction",e.STYLE="data-style",e.FADE="data-fade"}(w||(w={}));var B,M,G=n(6),V=n.n(G),U=n(3),F=n.n(U),W=n(9),H=n.n(W),Y=n(7),z=n.n(Y),K=function(e){function t(){return l()(this,t),V()(this,F()(t).apply(this,arguments))}return z()(t,e),h()(t,[{key:"init",value:function(e){H()(F()(t.prototype),"init",this).call(this,e),this.show()}},{key:"focusPage",value:function(e){this.view.stopAutoPlay(),this.view.setPage(e,!1).catch(function(e){return console.error(e)})}},{key:"setView",value:function(e){this.view=e}}]),t}(n(511).a),X=n(506),j=n(168);!function(e){function t(){var e=location.hash.substr(1);if(!e)return new Map;var t=new Map;return e.split("&").forEach(function(e){var n=e.split("=");2===n.length&&n[0]&&n[1]&&t.set(n[0].trim(),n[1].trim())}),t}function n(e){var t="";if(e.forEach(function(e,n){t+="&".concat(n,"=").concat(e)}),(t=t.substr(1))!==location.hash.substr(1)){var n=location.href.substr(0,location.href.indexOf("#"));t&&(n+="#".concat(t)),location.href=n}}e.setParam=function(e,i){var a=t();a.set(e,i),n(a)},e.deleteParam=function(e){var i=t();i.has(e)&&(i.delete(e),n(i))},e.getValue=function(e){var n=t();if(n.has(e))return n.get(e)}}(B||(B={})),function(e){e.PRESENTATION_MODE="pt"}(M||(M={})),n.d(t,"a",function(){return Z});var Z=function(){function e(){l()(this,e),this.element=document.createElement("div"),this.element.className=u.a.DESIGN_PRESENTATION_PLAYER,this.view=new D,this.controller=new P,this.progressBar=new K,this.buildComponents()}var t,n;return h()(e,[{key:"buildComponents",value:function(){this.buildView().buildController().buildProgressBar()}},{key:"buildView",value:function(){return this.view.setController(this.controller).setProgressBar(this.progressBar),this.element.appendChild(this.view.element),this}},{key:"buildController",value:function(){return this.controller.setView(this.view),this.element.appendChild(this.controller.element),this}},{key:"buildProgressBar",value:function(){return this.progressBar.setView(this.view),this.element.appendChild(this.progressBar.element),this}},{key:"play",value:(n=o()(a.a.mark(function e(t){var n,i=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=X.a.isEnableFullScreen(this.element)&&!N.a.isMobileDevice(),this.clear(),document.body.appendChild(this.element),e.prev=3,n){e.next=14;break}return B.setParam(M.PRESENTATION_MODE,"y"),this.showLoading(),this.element.classList.add(u.a.SHOW),this.openCallback&&this.openCallback(),e.next=11,this.init(t,n);case 11:this.hideLoading(),e.next=15;break;case 14:X.a.showFullScreen(this.element,function(){i.showLoading(),i.element.classList.add(u.a.SHOW),i.openCallback&&i.openCallback(),setTimeout(o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.init(t,n);case 2:i.hideLoading();case 3:case"end":return e.stop()}},e)})),0)},function(){return i.hide()});case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),console.error(e.t0),this.hide();case 21:case"end":return e.stop()}},e,this,[[3,17]])})),function(e){return n.apply(this,arguments)})},{key:"setOpenCallback",value:function(e){this.openCallback=e}},{key:"setCloseCallback",value:function(e){this.closeCallback=e}},{key:"init",value:(t=o()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.controller.init(t),this.progressBar.init(t.pages.length),e.next=4,this.view.init(t.pages.map(function(e){return e.clone()}),n);case 4:this.bindDefaultEvent(),t.pages.length>1&&this.bindActionEvent();case 6:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"bindDefaultEvent",value:function(){var e=this;if(N.a.isMobileDevice())$(window).on("hashchange.DESIGN_PRESENTATION_PLAYER",function(){B.deleteParam(M.PRESENTATION_MODE),e.hide()});else{var t=X.a.isEnableFullScreen(this.element);$(this.element).on("click",function(){t&&!X.a.isFullScreen()&&X.a.showFullScreen(e.element,void 0,function(){return e.hide()})})}$(document).on("keydown.DESIGN_PRESENTATION_PLAYER",function(t){t.key!==j.b.ESC&&t.key!==j.b.ESCAPE||e.hide()})}},{key:"bindActionEvent",value:function(){var e,t,n=this;if(N.a.isMobileDevice())$(this.element).on("click",o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.controller.toggle(!0);case 1:case"end":return e.stop()}},e)})));else{var i=X.a.isEnableFullScreen(this.element);$(this.element).on("click",o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&!X.a.isFullScreen()){e.next=3;break}return e.next=3,n.view.moveNext();case 3:case"end":return e.stop()}},e)}))).on("mousemove",function(e){e.pageX>n.element.clientWidth/2&&e.pageY>n.element.clientHeight/2&&n.controller.show(!1)}).on("mouseleave",function(){return n.controller.hide()})}$(this.element).on("touchstart",function(i){e=t=n.getTouchPosition(i.touches[0])}).on("touchmove",function(e){t=n.getTouchPosition(e.touches[0])}).on("touchend",o()(a.a.mark(function i(){var r;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(r=t-e,!(Math.abs(r)>50)){i.next=9;break}if(!(r<0)){i.next=7;break}return i.next=5,n.view.moveNext();case 5:i.next=9;break;case 7:return i.next=9,n.view.movePrev();case 9:case"end":return i.stop()}},i)}))),$(document).on("keydown.DESIGN_PRESENTATION_PLAYER",function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!j.a.isLeftKey(t.key)&&!j.a.isUpKey(t.key)&&t.key!==j.b.PAGE_UP){e.next=6;break}return e.next=4,n.view.movePrev();case 4:e.next=19;break;case 6:if(!j.a.isRightKey(t.key)&&!j.a.isDownKey(t.key)&&t.key!==j.b.PAGE_DOWN&&t.key!==j.b.SPACE_BAR&&t.key!==j.b.ENTER){e.next=11;break}return e.next=9,n.view.moveNext();case 9:e.next=19;break;case 11:if(t.key!==j.b.HOME){e.next=16;break}return e.next=14,n.view.moveFirst();case 14:e.next=19;break;case 16:if(t.key!==j.b.END){e.next=19;break}return e.next=19,n.view.moveLast();case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},{key:"getTouchPosition",value:function(e){return this.controller.configManager.config.direction===T.VERTICAL?e.pageY:e.pageX}},{key:"unbindEvent",value:function(){$(this.element).off(),$(document).off("keydown.DESIGN_PRESENTATION_PLAYER"),$(window).off("hashchange.DESIGN_PRESENTATION_PLAYER")}},{key:"hide",value:function(){this.element.classList.remove(u.a.SHOW),this.hideLoading(),this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.closeCallback&&this.closeCallback(),this.unbindEvent()}},{key:"showLoading",value:function(){this.element.classList.add(u.a.LOADING_PRESENTATION)}},{key:"hideLoading",value:function(){this.element.classList.remove(u.a.LOADING_PRESENTATION)}},{key:"clear",value:function(){this.view.clear(),this.controller.clear()}}]),e}()},522:function(e,t,n){"use strict";var i,a,r=n(166);(a=i||(i={})).createProgram=function(e){for(var t=e.createProgram(),n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(i.forEach(function(n){e.attachShader(t,n)}),e.linkProgram(t),e.getProgramParameter(t,e.LINK_STATUS))return t;console.log("프로그램 만들다가 오류남",e.getProgramInfoLog(t)),e.deleteProgram(t)},a.createShader=function(e,t,n){var i=e.createShader(t);if(e.shaderSource(i,n),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))return i;console.log("쉐이더 만들다가 오류남;;;",e.getShaderInfoLog(i)),e.deleteShader(i)},a.setRectangle=function(e,t,n,i,a){var r=t,o=t+i,s=n,l=n+a;e.bufferData(e.ARRAY_BUFFER,new Float32Array([r,s,o,s,r,l,r,l,o,s,o,l]),e.STATIC_DRAW)},a.createAndSetupTexture=function(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),t},a.getVertexShader=function(){return"\n            attribute vec2 a_position;\n            attribute vec2 a_texCoord;\n\n            uniform vec2 u_resolution;\n            uniform vec2 u_flip;\n            \n            varying vec2 v_texCoord;\n            \n            void main() {\n                vec2 zeroToOne = a_position / u_resolution;\n                vec2 zeroToTwo = zeroToOne * 2.0;\n                vec2 clipSpace = zeroToTwo - 1.0;\n                gl_Position = vec4(clipSpace * u_flip, 0, 1);\n                v_texCoord = a_texCoord;\n            }\n        "},a.getFragmentShader=function(){return"\n            precision highp float;\n                \n            uniform sampler2D u_image;\n            uniform vec2 u_viewLT;\n            uniform vec2 u_viewSize;\n            uniform vec2 u_originSize;\n            uniform int u_filterIdx;\n            uniform float u_filterValue;\n            uniform int u_graDirection;\n            uniform float u_itemAlpha;\n\n            varying vec2 v_texCoord;\n\n            void adjustNormal() {\n                gl_FragColor = texture2D(u_image, v_texCoord);\n                gl_FragColor.a *= u_itemAlpha;\n                gl_FragColor.rgb *= gl_FragColor.a;\n            }\n\n            void adjustBrightness() {\n                vec4 color = texture2D(u_image, v_texCoord);\n\n                if (color.a > 0.0) {\n                    float correctRatio = 300.0;\n                    float ratio = u_filterValue / correctRatio;\n                    \n                    float contrastValue = ((u_filterValue > 0.0) ? u_filterValue : -u_filterValue) * 0.5;\n                    float factor = (259.0 * (contrastValue + 255.0)) / (255.0 * (259.0 - contrastValue));\n                    \n                    color.r = (factor * (color.r - 0.5) + 0.5) + ratio;\n                    color.g = (factor * (color.g - 0.5) + 0.5) + ratio;\n                    color.b = (factor * (color.b - 0.5) + 0.5) + ratio;\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n\n                gl_FragColor = color;\n            }\n\n            void adjustContrast() {\n                vec4 color = texture2D(u_image, v_texCoord);\n\n                if (color.a > 0.0) {\n                    float factor = (259.0 * (u_filterValue + 255.0)) / (255.0 * (259.0 - u_filterValue));\n\n                    color.r = (factor * (color.r - 0.5) + 0.5);\n                    color.g = (factor * (color.g - 0.5) + 0.5);\n                    color.b = (factor * (color.b - 0.5) + 0.5);\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n\n                gl_FragColor = color;\n            }\n\n            void adjustLightness() {\n                vec4 color = texture2D(u_image, v_texCoord);\n\n                if (color.a > 0.0) {\n                    float factor = u_filterValue / 100.0;\n\n                    if (u_filterValue < 0.0)\n                    {\n                        color.r = color.r + color.r * factor;\n                        color.g = color.g + color.g * factor;\n                        color.b = color.b + color.b * factor;\n                    } else if (u_filterValue > 0.0)\n                    {\n                        color.r = color.r + (1.0 - color.r) * factor;\n                        color.g = color.g + (1.0 - color.g) * factor;\n                        color.b = color.b + (1.0 - color.b) * factor;\n                    }\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n\n                gl_FragColor = color;\n            }\n\n            void adjustSaturation() {\n                vec4 color = texture2D(u_image, v_texCoord);\n\n                if (color.a > 0.0) {\n                    float convertedSaturation = u_filterValue / 100.0;\n                    float gray = 0.2989 * color.r + 0.5870 * color.g + 0.1140 * color.b;\n\n                    color.r = -gray * convertedSaturation + color.r * (1.0 + convertedSaturation);\n                    color.g = -gray * convertedSaturation + color.g * (1.0 + convertedSaturation);\n                    color.b = -gray * convertedSaturation + color.b * (1.0 + convertedSaturation);\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n\n                gl_FragColor = color;\n            }\n\n            void adjustHue() {\n                vec4 color = texture2D(u_image, v_texCoord);\n                \n                if (color.a > 0.0) {\n                    float angle = u_filterValue / 100.0 * 3.14159265;\n                    float s = sin(angle);\n                    float c = cos(angle);\n                    vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;\n\n                    color.rgb = vec3(\n                        dot(color.rgb, weights.xyz),\n                        dot(color.rgb, weights.zxy),\n                        dot(color.rgb, weights.yzx)\n                    );\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n                \n                gl_FragColor = color;\n            }\n\n            void adjustColorTone() {\n                vec4 color = texture2D(u_image, v_texCoord);\n                \n                if (color.a > 0.0) {\n                    vec3 hsv = vec3((u_filterValue + 100.0) / 200.0, 1, 1);\n                    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n                    vec3 p = abs(fract(hsv.xxx + K.xyz) * 6.0 - K.www);\n                    vec3 tone =  hsv.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), hsv.y);\n                    \n                    color.r = (color.r + tone.r * 0.1) / 1.1;\n                    color.g = (color.g + tone.g * 0.1) / 1.1;\n                    color.b = (color.b + tone.b * 0.1) / 1.1;\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n                \n                gl_FragColor = color;\n            }\n            \n            void adjustTemperature() {\n                vec4 color = texture2D(u_image, v_texCoord);\n                \n                if (color.a > 0.0) {\n                    float temperatureValue = u_filterValue * 0.001;\n                    \n                    color.r += temperatureValue;\n                    color.b -= temperatureValue;\n                    color.g += (temperatureValue > 0.0) ? temperatureValue : -temperatureValue;\n                    \n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n                \n                gl_FragColor = color;\n            }\n            \n            void adjustSharpen() {\n                vec4 color = texture2D(u_image, v_texCoord);\n                float sharpen = abs(u_filterValue) / 40.0;\n                vec2 offset[4];\n                vec2 step = 1.0 / u_originSize;\n                float step_w = step.x;\n                float step_h = step.y;\n                \n                offset[0] = vec2(0.0, -step_h);\n                offset[1] = vec2(-step_w, 0.0);\n                offset[2] = vec2(step_w, 0.0);\n                offset[3] = vec2(0.0, step_h);\n                \n                vec4 sum = color * 5.0;\n                \n                for (int i = 0; i < 4; i++) {\n                    vec4 color = texture2D(u_image, v_texCoord + offset[i]);\n                    sum += color * -1.0;\n                }\n                \n                gl_FragColor = mix(color, sum, sharpen);\n            }\n            \n            float random(vec3 scale, float seed) {\n                return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n            }\n\n            void adjustBlur(vec2 direction) {\n                float width = u_originSize.x;\n                float height = u_originSize.y;\n                vec2 delta = u_filterValue * direction * (width + height) / 1400.0;\n                vec4 color = vec4(0.0);\n                float total = 0.0;\n                float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n                for (float t = -30.0; t <= 30.0; t++) {\n                    float percent = (t + offset - 0.5) / 30.0;\n                    float weight = 1.0 - abs(percent);\n                    vec4 sample = texture2D(u_image, v_texCoord + delta * percent);\n\n                    sample.rgb *= sample.a;\n\n                    color += sample * weight;\n                    total += weight;\n                }\n\n                gl_FragColor = color / total;\n                gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n            }\n\n            void adjustVignette() {\n                vec4 color = texture2D(u_image, v_texCoord);\n\n                if (color.a > 0.0) {\n                    vec2 ratio = u_originSize / u_viewSize;\n                    float dist = distance(v_texCoord * ratio, (u_viewLT + u_viewSize / u_originSize / 2.0) * ratio);\n                    float size = 0.5;\n                    float amount = u_filterValue / 100.0;\n                    color.rgb *= smoothstep(0.8, size * 0.799, dist * (amount + size));\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n\n                gl_FragColor = color;\n            }\n\n            void adjustGradationMask() {\n                vec4 color = texture2D(u_image, v_texCoord);\n                float length = u_filterValue / 100.0;\n                float start;\n                float end;\n                float weight;\n\n                if (u_graDirection == 1) {\n                    start = u_viewLT.x;\n                    end = start + u_viewSize.x / u_originSize.x * length;\n                    weight = max(start, min(v_texCoord.x, end));\n                }\n                else if (u_graDirection == 2) {\n                    start = u_viewLT.x + u_viewSize.x / u_originSize.x;\n                    end = abs(u_viewSize.x / u_originSize.x * length - start);\n                    weight = max(end, min(v_texCoord.x, start));\n                }\n                else if (u_graDirection == 3) {\n                    start = u_viewLT.y;\n                    end = start + u_viewSize.y / u_originSize.y * length;\n                    weight = max(start, min(v_texCoord.y, end));\n                }\n                else if (u_graDirection == 4) {\n                    start = u_viewLT.y + u_viewSize.y / u_originSize.y;\n                    end = abs(u_viewSize.y / u_originSize.y * length - start);\n                    weight = max(end, min(v_texCoord.y, start));\n                }\n                else {\n                    start = 0.0;\n                    end = abs(length - start);\n                    weight = end;\n                }\n\n                float alpha = (weight - start) / (end - start);\n                color.a *= alpha;\n\n                gl_FragColor = color;\n            }\n\n            void main() {\n                if (u_filterIdx == 0) {\n                    adjustNormal();\n                } else if (u_filterIdx == 1) {\n                    adjustBrightness();\n                } else if (u_filterIdx == 2) {\n                    adjustContrast();\n                } else if (u_filterIdx == 3) {\n                    adjustLightness();\n                } else if (u_filterIdx == 4) {\n                    adjustSaturation();\n                } else if (u_filterIdx == 5) {\n                    adjustHue();\n                } else if (u_filterIdx == 6) {\n                    adjustColorTone();\n                } else if (u_filterIdx == 7) {\n                    adjustTemperature();\n                } else if (u_filterIdx == 8) {\n                    adjustSharpen();\n                } else if (u_filterIdx == 9) {\n                    adjustBlur(vec2(1.0 / u_originSize.x, 0.0));\n                } else if (u_filterIdx == 10) {\n                    adjustBlur(vec2(0.0, 1.0 / u_originSize.y));\n                } else if (u_filterIdx == 11) {\n                    adjustVignette();\n                } else if (u_filterIdx == 12) {\n                    adjustGradationMask();\n                }\n            }\n        "};var o,s=n(240);n.d(t,"a",function(){return o}),function(e){var t,n,a,o,l,c,h,u,d,m,p,_,E,v,g,f,T,y,I,C,R,O,S,L,A,N,P,w,b,x,k,D,B,M,G,V;function U(){return t||(t=s.a.createCanvas()),t}function F(){if(!n){var e=U();if(n=e.getContext("webgl")||e.getContext("experimental-webgl"))try{o=i.createShader(n,n.VERTEX_SHADER,i.getVertexShader()),l=i.createShader(n,n.FRAGMENT_SHADER,i.getFragmentShader()),a=i.createProgram(n,o,l)}catch(e){n=null,console.log(e)}}}function W(e,t,i){n.bindFramebuffer(n.FRAMEBUFFER,e),n.uniform2f(d,t,i),n.uniform2f(p,x,k),n.uniform2f(_,t,i),n.uniform2f(E,L,A),n.viewport(0,0,t,i)}function H(e){n.uniform1i(v,e),n.uniform1f(g,R[e]),n.uniform1i(f,D),n.drawArrays(n.TRIANGLES,0,6)}e.isEnableWebGL=function(){var e=U();return null!=(e.getContext("webgl")||e.getContext("experimental-webgl"))},e.getCanvas=U,e.renderWebGL=function(e,t,o,s,l){var U=e.props;(R=[0]).push(U.getBrightness()),R.push(U.getContrast()),R.push(U.getLightness()),R.push(U.getSaturation()),R.push(U.getTint()),R.push(U.getColorTone()),R.push(U.getTemperature());var Y=U.getBlur();if(Y<0?(R.push(Y),R.push(0),R.push(0)):(R.push(0),R.push(Y),R.push(Y)),R.push(U.getVignette()),D=0,U.isActiveGradationMask()){R.push(U.getGradationMaskDepth());var z=U.getGradationMaskDirection();"R"===z?D=U.isFlipH()?2:1:"L"===z?D=U.isFlipH()?1:2:"B"===z?D=U.isFlipV()?4:3:"T"===z&&(D=U.isFlipV()?3:4)}else R.push(0);B=e.isUnsupported()?.5:U.getOpacity()/255,M=e.props.isFlipH(),G=e.props.isFlipV();var K=t.getWidth(),X=t.getHeight(),j=-t.left/K,Z=-t.top/X,$=s/K,q=l/X;(V!==e.tbpeId||L!==K||A!==X||N!==s||P!==l||w!==$||b!==q||x!==j||k!==Z)&&(V=e.tbpeId,L=K,A=X,N=s,P=l,w=$,b=q,x=j,k=Z,function(e){F(),c=r.b.getData(e.props.getPhotoKey()),h=n.getAttribLocation(a,"a_position"),u=n.getAttribLocation(a,"a_texCoord"),d=n.getUniformLocation(a,"u_resolution"),m=n.getUniformLocation(a,"u_flip"),p=n.getUniformLocation(a,"u_viewLT"),_=n.getUniformLocation(a,"u_viewSize"),E=n.getUniformLocation(a,"u_originSize"),v=n.getUniformLocation(a,"u_filterIdx"),g=n.getUniformLocation(a,"u_filterValue"),f=n.getUniformLocation(a,"u_graDirection"),T=n.getUniformLocation(a,"u_itemAlpha"),y=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,y),i.setRectangle(n,0,0,N,P),I=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,I),i.setRectangle(n,0,0,1,1),C=i.createAndSetupTexture(n),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,c),O=[],S=[];for(var t=0;t<2;++t){var o=i.createAndSetupTexture(n);O.push(o),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,N,P,0,n.RGBA,n.UNSIGNED_BYTE,null);var s=n.createFramebuffer();S.push(s),n.bindFramebuffer(n.FRAMEBUFFER,s),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,o,0)}}(e)),function(){n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.useProgram(a),n.enableVertexAttribArray(h),n.bindBuffer(n.ARRAY_BUFFER,y),n.vertexAttribPointer(h,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(u),n.bindBuffer(n.ARRAY_BUFFER,I),i.setRectangle(n,0,0,1,1),n.vertexAttribPointer(u,2,n.FLOAT,!1,0,0),n.bindTexture(n.TEXTURE_2D,C),n.uniform2f(m,1,1);var e=0;R.forEach(function(t,i){(t<0||t>0)&&(W(S[e%2],N,P),H(i),n.bindTexture(n.TEXTURE_2D,O[e%2]),++e)}),n.uniform2f(m,M?-1:1,G?1:-1),W(null,N,P),i.setRectangle(n,x,k,w,b),n.uniform1f(T,B),H(0)}()},e.createProgram=F}(o||(o={}))},8:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.MOBILE_TUTORIAL="mobile_tutorial",e.MOBILE_TUTORIAL_READY="mobile_tutorial_ready",e.CONTENTEDITABLE="contenteditable",e.SINGLE="single",e.RENDER_PAGE="render_page",e.BUTTON_SAVE_MOCKUP="btn_save_mockup",e.BUTTON_SAVE_DEFAULT_TEXT="btn_save_default_text",e.BUTTON_EDIT_SIZE="btn_edit_size",e.USER_MESSAGE_MODAL="modal_user_message",e.NEW_MESSAGE_COUNT="new_message_count",e.ROW_TITLE="row_title",e.RAINBOW_LINE="rainbow_line",e.TEMPERATURE_LINE="temperature_line",e.LIBRARY_OPTION="lib_option",e.LIBRARY_PRESET="lib_preset",e.LIBRARY_ITEM="lib_item",e.LIBRARY_ITEM_ALL_TYPE="lib_item_all_type",e.LIBRARY_LINE="lib_line",e.LIBRARY_FIGURE="lib_figure",e.LIBRARY_ILLUST="lib_illust",e.LIBRARY_SVG="lib_svg",e.LIBRARY_PHOTO="lib_photo",e.LIBRARY_STICKER_PHOTO="lib_sticker_photo",e.LIBRARY_TEMPLATE="lib_template",e.LIBRARY_BIZ_TEMPLATE="lib_biz_template",e.LIBRARY_DESIGN="lib_design",e.LIBRARY_DESIGN_FOLDER="lib_design_folder",e.LIBRARY_DESIGN_BIZHOWS="lib_design_bizhows",e.LIBRARY_TEXT="lib_text",e.LIBRARY_UPLOAD="lib_upload",e.LIBRARY_FAVORITES="lib_favorites",e.LIBRARY_STICKER="lib_sticker",e.LIBRARY_BITMAP="lib_bitmap",e.LIBRARY_FRAME="lib_frame",e.LIBRARY_GRID="lib_grid",e.LIBRARY_ITEM_COMBINATION="lib_item_combination",e.LIBRARY_TEXT_COMBINATION="lib_text_combination",e.LIBRARY_TEXT_STYLE="lib_text_style",e.LIBRARY_LAYOUT="lib_layout",e.LIBRARY_BACKGROUND="lib_background",e.LIBRARY_BACKGROUND_PATTERN="lib_background_pattern",e.LIBRARY_BACKGROUND_PHOTO="lib_background_photo",e.LIBRARY_MY="lib_my",e.LIBRARY_ADMIN_TOOL="lib_admin_tool",e.LIBRARY_IMAGE_DOWNLOAD="lib_image_download",e.LIBRARY_IMAGE_SEARCH="lib_image_search",e.LIBRARY_VIDEO_PANEL="lib_video_panel",e.ITEM_SUFFIX="item_suffix",e.PHOTO_GUIDE="photo_guide",e.DESIGN_GUIDE="design_guide",e.DESIGN_GUIDE_ON="design_guide_on",e.EDGE_ROUNDING_ON="edge_rounding_on",e.UNICORN_SETTINGS_VIEW="unicorn_settings_view",e.UNICORN_SETTINGS="unicorn_settings",e.PAGE_NAVIGATOR_BUTTONS="page_navigator_buttons",e.MENU_AND_POPUP_CONTAINER="menu_and_popup_container",e.DESIGN_SETTINGS="menu_and_popup_container",e.DESIGN_HISTORY="design_history",e.USER_INFO="user_info",e.ZENDESK="zendesk",e.EDITING="editing",e.TOOLTIP="tooltip",e.PRINTOUT_TOOLTIP_CONTENT_ITEM="tooltip_content_item",e.PRINTOUT_TOOLTIP_ICON_AREA="tooltip_icon_area",e.LEFT_FLOATING_BUTTON="left_floating_button",e.LEFT_FLOATING_MENU_SHOW_PRINTOUT_OPTION="left_floating_menu_show_printout_option",e.PRINTOUT_TOOL_WRAPPER="printout_tool_wrapper",e.SHOW_PRINTOUT_FACTOR_REVIEW_POPUP="show_printout_factor_review_popup",e.SHOW_PRINTOUT_GUIDE_ICON="show_printout_guide_icon",e.PRINTOUT_SHOW_GUIDE_ON="show_guide_on",e.LOGIN_USER="login_user",e.ADMIN_USER="admin_user",e.ADMIN_BUTTON="admin_button",e.ADMIN_UI="admin_ui",e.DEV_BUTTON="dev_button",e.DEV_UI="dev_ui",e.BACKGROUND_TAB="background_tab",e.TOOLBOX_HEADER_MODE="toolbox_header_mode",e.COL_TEXT_COLOR="col_text_color",e.TOGGLE_EASY_TEXT_PRESET="toggle_easy_text_preset",e.ACTIVE_ROW_PRESET="active_row_preset",e.ROW_IMAGE_FILTER="row_image_filter",e.ROW_FONT_SIZE="row_font_size",e.ACCORDION_EFFECT_ROW="accordion_effect_row",e.COLOR_PICKER_ROW="color_picker_row",e.ROW_FONT_DETAIL="row_font_detail",e.ACTIVE_ROW_TEXT_DEFAULT="active_row_text_default",e.ROW_FILTER="row_filter",e.ROW_TEXT_DEFAULT="row_text_default",e.ACTIVE_ROW_ALIGN="active_row_align",e.ROW_EASY_ONLY="row_easy_only",e.ROW_TEXT_ALIGN="row_text_align",e.ROW_ITEM_ALIGN="row_item_align",e.ROW_ITEM_COMMON="row_item_common",e.ROW_ITEM_SIZE="row_item_size",e.ROW_OPACITY="row_opacity",e.ROW_GROUP="row_group",e.ROW_TEXT_COLOR="row_text_color",e.ROW_GRID_COLOR="row_grid_color",e.ROW_MULTI_COLOR="row_multi_color",e.ROW_MULTI_COLORS="row_multi_colors",e.MULTI_COLOR_PICKER="multi_color_picker",e.ROW_FLIP="row_flip",e.ROW_PHOTO_EDIT="row_photo_edit",e.ROW_BACKGROUND_SOLID_COLOR="row_background_solid_color",e.ROW_BACKGROUND_DELETE="row_background_delete",e.ROW_WRAP="row_wrap",e.QUICK_PREV="quick_prev",e.QUICK_NEXT="quick_next",e.TOOLBOX_ANIMATE="toolbox_animate",e.REDO_Q="redo_q",e.ACTION_Q="action_q",e.ENABLE="enable",e.DISABLE="disabled",e.ITEM_LOCKED="item_locked",e.GROUP_ITEM="group_item",e.LINE_RIGHT="line_right",e.PAGE_DOT="page_dot",e.PAGE_REMOVE="page_remove",e.PAGE_ADD_CONTROL="page_add_control",e.PAGE_CONTROL="page_control",e.ADD_PAGE_BUTTONS="add_page_buttons",e.ADD_PAGE_CLONE="add_page_clone",e.ADD_PAGE_BLANK="add_page_blank",e.ROW_TEXT_EXTRA="row_text_extra",e.VALUE_ELEMENT="value_element",e.COLOR_ELEMENT="color_element",e.PAGE_THUMBNAIL="page_thumbnail",e.PAGE_LIST_ITEM="page_list_item",e.PAGE_LIST_ITEMS="page_list_items",e.PAGE_LIST_HEADER="page_list_header",e.PAGE_LIST="page_list",e.PAGE_TOOLBOX="pageToolbox",e.WORK_COMPLETE="work_complete",e.WORK_COMPLETE_VIEW="work_complete_view",e.ROW_CELL_MANAGEMENT="row_cell_management",e.ROW_CELL_BORDER="row_cell_border",e.NON_PADDING="non_padding",e.GRID_MANAGER="grid_manager",e.HIDDEN_LABEL="hidden_label",e.UPSIDE_DOWN="upside_down",e.SCREEN_LAYER="screen_layer",e.FILE_INFO_LAYER="file_info_layer",e.FILE_INFO="file_info",e.FILE_MENU="file_menu",e.DDDOT_INFO_LAYER="dddot_info_layer",e.KEYWORD_LAYER="keyword_layer",e.KEYWORD_WRAP="keyword_wrap",e.BTN_KEYWORD_MORE="btn_keyword_more",e.BTN_KEYWORD_SHORT="btn_keyword_short",e.PIXABAY_INFO_LAYER="pixabay_info_layer",e.PIXABAY_UPLOAD_USER_ID="pixabay_upload_user_id",e.PIXABAY_IMG_SIZE_INFO="pixabay_img_size_info",e.UPLOAD_INFO_LAYER="upload_info_layer",e.STORAGE_GUIDANCE="storage_guidance",e.STORAGE_INFO="storage_info",e.FILE_GUIDE="file_guide",e.FILE_GUIDE_WRAP="file_guide_wrap",e.ITEM_TOOLS="item_tools",e.TOOLBOX_FOOTER="toolbox_footer",e.TOOLBOX_BODY="toolbox_body",e.TOOLBOX_HEADER="toolbox_header",e.GRID_TAB_MENU="grid_tab_menu",e.GRID_TAB_MENU_ITEM="grid_tab_menu_item",e.GRID_MANAGER_COL="grid_manager_col",e.GRID_FIRST_COL="first_col",e.GRID_SECOND_COL="second_col",e.GRID_LAST_COL="last_col",e.GRID_FIRST_LINE="second_line",e.GRID_SECOND_LINE="first_line",e.GRID_SECOND_ROW="second_row",e.FULL_WIDTH="full_width",e.TIGHT="tight",e.FILE_MENU_VIEW="file_menu_view",e.SETTINGS_MENU_VIEW="settings_menu_view",e.RESIZE_SHEET_VIEW="resize_sheet_view",e.NEW_DESIGN_SIZE_VIEW="new_design_size_view",e.SHORTCUT="shortcut",e.SHORT="short",e.DESIGN_HISTORY_VIEW="design_history_view",e.DESIGN_HISTORY_LOG_CONTAINER="history-log-container",e.DESIGN_HISTORY_LAYER="design-history-layer",e.DESIGN_HISTORY_HEADER="history-header",e.DESIGN_HISTORY_FOOTER="history-footer",e.DESIGN_HISTORY_ROW="design-history-row",e.DESIGN_HISTORY_USER_PROFILE="user-profile",e.DESIGN_HISTORY_USER_PHOTO="user-photo",e.DESIGN_HISTORY_USER_NAME="user-name",e.DESIGN_HISTORY_DESIGN_LOG="design-log",e.DESIGN_HISTORY_BOX="history-box",e.DESIGN_HISTORY_FUNCTION="function-box",e.BUTTON_TOOL_TAB_TOGGLE="button_tools_tab_toggle",e.ADMIN_MODE="admin_mode",e.DEV_MODE="dev_mode",e.UPDATE_MODE="update_mode",e.STYLE_TEMPLATE_SELECTOR="style_template_selector",e.STYLE_TEMPLATE_SAVE="style_template_save",e.DESIGN_SAVE_STATUS="design_save_status",e.RING_LOADER="ring-loader",e.SAVE_REQUIRE="save_require",e.SAVE_FAILED="save_failed",e.SAVE_REQUEST="save_request",e.SAVE_COMPLETE="save_complete",e.SAVE_WAIT="save_wait",e.BTN_SAVE_ITEM_COMBINATION="btn_save_item_combination",e.BTN_SAVE_ITEM_EFFECT="btn_save_item_effect",e.INLINE_BUTTON="inline_button",e.INLINE="inline",e.TOOLS_TAB="tools_tab",e.TOOLS_ITEM_TITLE="tools_item_title",e.SELECTED_VALUE="selected_value",e.ACTIVE="active",e.INACTIVE="inactive",e.HIDDEN="hidden",e.SHOWN="shown",e.VISIBLE="visible",e.PREVENT_TRANSITION="prevent_transition",e.OPEN="open",e.SHOW="show",e.HIDE="hide",e.HOVER="hover",e.SWITCH="switch",e.SLIDER="slider",e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom",e.WARNING="warning",e.MOBILE="mobile",e.MOBILE_HIDE="mobile_hide",e.FLOATING_TOP="floating_top",e.EFFECT_TOOLS="effect_tools",e.HYPERLINK_TOOLS="hyperlink_tools",e.SCROLL_ELEMENT_CONTENTS="scroll_contents",e.SCROLL_ELEMENT="scroll_element",e.SCROLL_ELEMENT_WRAPPER="scroll_element_wrapper",e.SCROLL_TRACK_HOR="scroll_track_hor",e.SCROLL_TRACK_HOR_BAR="scroll_track_hor_bar",e.SCROLL_TRACK_HOR_INNER="scroll_track_hor_inner",e.SCROLL_TRACK_VER="scroll_track_ver",e.SCROLL_TRACK_VER_BAR="scroll_track_ver_bar",e.SCROLL_TRACK_VER_INNER="scroll_track_ver_inner",e.SCROLL_OFF="scroll_off",e.SCROLL_SECTION="scroll_section",e.CIRCLE_RANGE_VALUE_LINE="value_line",e.CIRCLE_RANGE_POINT="circle_range_point",e.CIRCLE_RANGE_WRAP="circle_range_wrap",e.BORDER_RIGHT="border_right",e.BORDER_LEFT="border_left",e.CUSTOM_RANGE_WRAP="custom_range_wrap",e.CUSTOM_RANGE_LINE="custom_range_line",e.CUSTOM_RANGE_BACKGROUND_LINE="background_line",e.CUSTOM_RANGE_VALUE_LINE="value_line",e.ACTION_LIST="action_list",e.ITEM_ORDER_LIST="item_order_list",e.IMAGE_LIST_HAS_TITLE="has_title",e.IMAGE_LIST_COL2="col2",e.ACCORDION_ITEM="tools_accordion_item",e.ACCORDION_LIST="accordion_list",e.ACCORDION_CONTENTS_WRAP="accordion_contents_wrap",e.ACCORDION_TITLE="accordion_title",e.ACCORDION_VISIBLE="accordion_visible",e.ACCORDION_ACTIVE="accordion_active",e.ITEM_RADIO_GROUP="item_radio_group",e.CHECKBOX_EXPAND="checkbox_expand",e.TOOLS_TITLE="tools_title",e.TOOLS_ICON="tools_icon",e.TOOLS_ICON_CONTAINER="tools_icon_container",e.OPTION="option",e.GRADATION_VALUE_LINE="value_line",e.GRADATION_COLOR_VALUE="color_value",e.GRADATION_COLOR_LINE="color_line",e.GRADATION_COLOR_VIEW_BOX="gradation_color_view_box",e.GRADATION_COLOR_PICKER_ITEM="item_gradation_color_picker",e.GRADATION_MASK="gradation_mask",e.TOGGLE_BUTTON_FIRST="item_first_toggle",e.TOGGLE_BUTTON_SECOND="item_second_toggle",e.TOGGLE_BUTTON_ENABLED="item_toggle_enabled",e.TOGGLE_BUTTON_DISABLED="item_toggle_disabled",e.SVG_COLOR_PICKER_ITEM="svg_color_picker",e.COLOR_BUTTON="color_button",e.ACCORDION_ROW_COLOR="accordion_row_color",e.SVG_SETTING_TOOL="svg_setting_tool",e.SVG_INFO_TOOL="svg_info_tool",e.SVG_CATEGORY="svg_category",e.IMAGE_CROP="image_crop",e.IMAGE_WRAP="image_wrap",e.IMAGE_LIST_WRAP="image_list_wrap",e.CROP_BUTTON="crop_button",e.IMAGE_BACKGROUND="image_background",e.PHOTO_TO_BACKGROUND_BUTTON="photo_to_background_button",e.BACKGROUND_SOLID_COLOR_PICKER="background_solid_color_picker",e.COLOR_CONTROL_ITEM="item_color_control",e.COLOR_PICKER_ITEM="item_color_picker",e.CIRCLE_RANGE_ITEM="item_circle_range",e.IMAGE_LIST_ITEM="item_image_list",e.RANGE_ITEM="item_range",e.EXPAND_ITEM="item_expand",e.EFFECT_ITEM="item_effect",e.RADIO_ITEM="item_radio",e.SELECT_ITEM="item_select",e.TOGGLE_ITEM="item_toggle",e.LABEL_ITEM="item_label",e.ICON_LABEL_ITEM="item_icon_label",e.PLUS_MINUS_ITEM="item_plus_minus",e.INPUT_ITEM="item_input",e.SIZE_INPUT_ITEM="item_input_size",e.PRESET_ITEM="item_preset",e.TOOLS_ITEM="tools_item",e.SVG_ADMIN_VIEW="svg_admin_view",e.SVG_ADMIN_VIEW_BUTTON="svg_admin_view_button",e.REGIST_SVG_WARN="regist_svg_warn",e.ROW_MARGIN_BOTTOM="margin_bottom",e.ROW_MARGIN_TOP="margin_top",e.ROW_BORDER_TOP="border_top",e.ROW_BORDER_BOTTOM="border_bottom",e.ROW_FLEX="flex_group",e.ROW_FLEX_UNSET="unset",e.TOOLS_ROW="tools_row",e.TOOLS_COLUMN="tools_column",e.TOOLS_ACCORDION_ROW="tools_accordion_row",e.TOOLS_CONTENTS_WRAPPER="tools",e.TOOLS_FOOTER="tools_footer",e.TOOLS_HEADER="tools_header",e.TOOLS_BODY="tools_body",e.TOOLS_SECTION_BUTTONS_WRAP="tools_section_buttons_wrap",e.TOOLS_SECTION_BUTTON="tools_section_button",e.TOOLS_SECTION="tools_section",e.TOOLS_FILTER="tools_filter",e.TOOLS_PRESET_FILTER_ROW="preset_filter_row",e.TOOLS_DIRECT_FILTER_ROW="direct_filter_row",e.DRAG_ITEM="drag_item",e.MENU_ITEM="menu_item",e.CONTENTS_ITEM="contents_item",e.TAB_MENU="tab_menu",e.TAB_MENU_ITEM="tab_menu_item",e.TAB_CONTENTS="tab_contents",e.TAB_CONTENTS_ITEM="tab_contents_item",e.MENU_CONTENTS_HEADER="menu_contents_header",e.MENU_CONTENTS_BODY="menu_contents_body",e.FORM="form",e.FORM_ITEM="form_item",e.ACCORDION="accordion",e.TABLE="table",e.TABLE_HEADER="table_header",e.TABLE_BODY="table_body",e.TABLE_ROW="table_row",e.TEMPLATE_TYPE_SELECT_TABLE="template_type_select_table",e.TABLE_ROW_CHECKBOX="table_row_checkbox",e.READ_ONLY="read_only",e.PAGINATION="pagination",e.PAGE_INPUT="page_input",e.TEMPLATE_PROJECT_CREATE_MENU="template_project_create_menu",e.TEMPLATE_PROJECT_MANAGEMENT_MENU="template_project_management_menu",e.TEMPLATE_PROJECT_SEARCH_MENU="template_project_search_menu",e.PROJECT_VIEW="project_view",e.TEMPLATE_PAGE_LIST_VIEW="template_page_list_view",e.TEMPLATE_LIST_VIEW="template_list_view",e.TEMPLATE_VIEW="template_view",e.PROJECT_SEARCH_VIEW="project_search_view",e.VIEW_CONTENTS="view_contents",e.TEXT_AREA_ROW="text_area_row",e.INFO_SECTION="info_section",e.BUTTON_SECTION="button_section",e.ARRANGE_TYPE_SECTION="arrange_type_section",e.ARRANGE_TYPE_DESC="arrange_type_desc",e.TEMPLATE_TYPE_SECTION="template_type_section",e.SEARCH_FORM_SECTION="search_form_section",e.LIST_SECTION="list_section",e.CANCEL="cancel",e.SUBMIT="submit",e.UPDATE="update",e.SEARCH="search",e.LOAD="load",e.DELETE="delete",e.FOOTER="footer",e.HEADER="header",e.BODY="body",e.CONTENTS="contents",e.INSIDE_CONTENTS="inside_contents",e.NUMBER_LABEL="number_label",e.DISABLED_ITEM_CNT="disabled_item_cnt",e.USED="used",e.SORT_TYPE="sort_type",e.PAGE_SIZE="page_size",e.PAGE_TITLE="page_title",e.PAGE_TITLE_WRAP="page_title_wrap",e.PAGE_TITLE_ICON="page_title_icon",e.PAGE="page",e.PAGING_RESULT="paging_result",e.POINTER="pointer",e.LINKED="linked",e.LINKED_MESSAGE="linked_message",e.TEMPLATE_LINK_POPUP_CONTENTS="template_link_popup_contents",e.THUMB="thumb",e.THUMBNAIL="thumbnail",e.LOCK="lock",e.HIGHLIGHT="highlight",e.TEMPLATE_PAGE_ACCORDION_ITEM="template_page_accordion_item",e.TITLE_WRAP="title_wrap",e.BREADCRUMB="breadcrumb",e.HAS_BREADCRUMB="has_breadcrumb",e.BTN_RECYCLE_BIN="btn_recycle_bin",e.BTN_RECOVERY="btn_recovery",e.BTN_BACK="btn_back",e.BTN_CLEAR="btn_clear",e.TEMPLATE_PAGE_RECYCLE_BIN="template_page_recycle_bin",e.PREVIEW_SECTION="preview_section",e.PREVIEW_WRAP="preview_wrap",e.LIST_ROW="list_row",e.IMG_WRAP="img_wrap",e.CURRENT_PAGE="current_page",e.BTN_ADD_PAGE="btn_add_page",e.BTN_DELETE_MODE="btn_delete_mode",e.BTN_DELETE_PAGE="btn_delete_page",e.SELECT_TOOL="select_tool",e.SELECT_EDIT="select_edit",e.TWO_LAYER_SELECT_TOOL="two_layer_select_tool",e.IMAGE_SELECT_TOOL="image_select_tool",e.SEARCH_TOOL="search_tool",e.SEARCH_DETAIL="search_detail",e.LAYER_TAB_TOOL="layer_tab_tool",e.PAGINATION_TOOL="pagination_tool",e.RADIO_TOOL="radio_tool",e.ITEM_MENU_RADIO_TOOL="item_menu_radio_tool",e.TEMPLATE_TYPE_TOOL="template_type_tool",e.SUB_PAGES_TOOL="sub_pages_tool",e.MULTI_TYPE_RESOURCE_LIST_TOOL="multi_type_resource_list_tool",e.HIDDEN_HEADER="hidden_header",e.MULTI_TYPE="multi_type",e.MULTI_TYPE_ITEM="multi_type_item",e.SEARCH_MODE="search_mode",e.HAS_MORE="has_more",e.BTN_MORE="btn_more",e.PRINT_OPTION="print_option",e.HIDDEN_TO_USER="hidden_to_user",e.BUTTON_MODE="button_mode",e.TEMPLATE_TYPE_SELECT="template_type_select",e.PRIVATE="private",e.LIB_TAB_NAV="lib_tab_nav",e.LIB_TAB_CONTENTS="lib_tab_contents",e.BTN_SELECT="btn_select",e.SELECT_LIST_WRAP="select_list_wrap",e.SEARCH_WRAP="search_wrap",e.LAYER_TAB_NAV="layer_tab_nav",e.LAYER_TAB_CONTENTS="layer_tab_contents",e.LIST_WRAP="list_wrap",e.LIST_CONTAINER="list_container",e.JUSTIFIED="justified",e.EMPTY_MESSAGE="empty_message",e.HAS_CATE="has_cate",e.RESOURCE_FILTER_TOOL="resource_filter_wrapper",e.COLLECTION_FILTER="category_filter",e.SEARCH_WRAPPER="search_wrapper",e.PAGINATION_WRAPPER="pagination_wrapper",e.PREV="prev",e.NEXT="next",e.HIDE_LAST_PAGE_NO="hide_last_page_no",e.BTN_LAYER="btn_layer",e.MY_COLLECTION="my_collection",e.BOTTOM_WRAP="bottom_wrap",e.BORDER_DASHED="border_dashed",e.BTN_ADD_TEXT="btn_add_text",e.MULTI_COLOR="multi_color",e.FONT_COLOR="font_color",e.BTN_IMAGE_UPLOAD="image_upload",e.BTN_CAPACITY_INFO="capacity_info",e.BTN_IMAGE_SEARCH_INFO="image_search_info",e.USER_IMAGE_HANDLE="user_image_handle",e.PROGRESS_BAR_HOR="progress_bar_hor",e.CONTENTS_WRAP="contents_wrap",e.LOGIN_NOTI_LAYER="login_noti_layer",e.EMPTY_LIST_NOTI_LAYER="empty_list_noti_layer",e.DRAG_TO_UPLOAD_LAYER="drag_to_upload_layer",e.RECOMMEND_LIST="recommend_list",e.MENU_LAYER="menu_layer",e.TITLE="title",e.SUB_TITLE="sub_title",e.URL="url",e.ICON="icon",e.ICON_WRAP="icon_wrap",e.TITLE_SECTION="title_section",e.DESC="desc",e.DATE="date",e.CLEAR_BOTH="clear_both",e.BUTTON_WRAP="button_wrap",e.RADIO_WRAP="radio_wrap",e.NEW_TAB="new_tab",e.TEMPLATE_MANAGER="template_manager",e.NEW_TEMPLATE_MANAGER="new_template_manager",e.TEMPLATE_MANAGER_CONTENTS="template_manager_contents",e.THUMB_ROW="thumb_row",e.KEYWORD_ROW="keyword_row",e.LINK_ROW="link_row",e.LAST_ROW="last_row",e.BTN_CANCEL="btn_cancel",e.BORDER_NONE="border_none",e.SIZE_LABEL="size_label",e.CHECKBOX_WRAP="checkbox_wrap",e.CUSTOM_SIZE="custom_size",e.FIX_RATIO="fix_ratio",e.DDDOT_WRAP="dddot_wrap",e.DESIGNER_ID="designer_id",e.KEYWORDS="keywords",e.UPDATE_DATE="update_date",e.LIMIT_HEIGHT="limit_height",e.KEYWORD_NONE="keyword_none",e.WORD_WRAP="word_wrap",e.PAGE_CNT="page_cnt",e.POSITION_EVEN="position_even",e.SUB_PAGE_OPENED="sub_page_opened",e.BUTTON_BIZ="button_biz",e.POPUP="popup",e.OFFSET_POPUP="offset_popup",e.POPUP_CONTENTS_WRAP="popup_contents_wrap",e.UP_SIDE="up_side",e.LEFT_SIDE="left_side",e.RIGHT_SIDE="right_side",e.POPUP_TITLE="popup_title",e.POPUP_TEMPLATE_DESIGN_SAVE="popup_template_design_save",e.POPUP_DESIGN_SAVE="popup_design_save",e.SAVE_TYPE_RADIO_WRAP="save_type_radio_wrap",e.POPUP_DESIGN_LOAD="popup_design_load",e.BTN_INIT_DESIGN="btn_init_design",e.BTN_ADD_DESIGN="btn_add_design",e.POPUP_LOADING="popup_loading",e.LOADING_WRAP="loading_wrap",e.LOADING_BOX="loading_box",e.LOADING="loading",e.POPUP_TEMPLATE_STYLE_SAVE="popup_template_style_save",e.POPUP_MSG="popup_msg",e.BTN_CREATE="btn_create",e.BTN_UPDATE="btn_update",e.UPDATABLE="updatable",e.POPUP_WARNING="warning_popup",e.POPUP_WARNING_ICON_WRAP="icon_wrap",e.POPUP_WARNING_TITLE="title",e.POPUP_WARNING_SUB_TITLE="sub_title",e.POPUP_WARNING_DESCRIPTION="description",e.POPUP_WARNING_BTN_WRAP="btn_wrap",e.POPUP_WARNING_BTN_CANCEL="btn_cancel",e.POPUP_WARNING_BTN_CONFIRM="btn_confirm",e.POPUP_DOWNLOAD_WAITING="download_waiting_popup",e.POPUP_DOWNLOAD_WAITING_BACKGROUND="background",e.POPUP_DOWNLOAD_WAITING_CONTENTS="contents",e.RIGHT_MENU_POPUP="right_menu_popup",e.LEFT_MENU_POPUP="left_menu_popup",e.LAYER_SELECT_INFO="layer_select_Info",e.LAYER_WRAP="layer_wrap",e.LAYER="layer",e.NOT_DEEP="not_deep",e.DEEP="deep",e.FOLD="fold",e.FOLDABLE="foldable",e.VERY_DEEP="very_deep",e.SELECTED="selected",e.GROUP="group",e.BACKGROUND="background",e.LAST="last",e.BTN_GROUP="btn_group",e.BTN_LOCK="btn_lock",e.BTN_DELETE="btn_delete",e.SPECIAL="special",e.COLOR_CONTROL_POPUP="color_control_popup",e.DEFAULT_MODE="default_mode",e.DIRECT_MODE="direct_mode",e.CUSTOM_MODE="custom_mode",e.EDIT_MODE="edit_mode",e.COLOR_CONTROL_HEADER="color_control_header",e.COLOR_CONTROL_BODY="color_control_body",e.COLOR_CONTROL_FOOTER="color_control_footer",e.COLOR_CONTROL_TITLE="color_control_title",e.COLOR_CONTROL_BACK="color_control_back",e.COLOR_CONTROL_MORE="color_control_more",e.COLOR_CONTROL_CLOSE="color_control_close",e.COLOR_CONTROL_NUMBER_TO_DELTE="color_control_number_to_delete",e.COLOR_CONTROL_QUANTITY_TO_DELETE="color_control_quantity_to_delete",e.PALETTE_WRAPPER="palette_wrapper",e.PICKER_WRAPPER="picker_wrapper",e.USER_PALETTE_WRAPPER="user_palette_wrapper",e.USED_COLORS_AREA="used_colors_area",e.BASIC_PALETTE_AREA="basic_palette_area",e.USER_PALETTE_AREA="user_palette_area",e.PALETTE_SET="palette_set",e.PALETTE_HEADER="palette_header",e.PALETTE_NAME="palette_name",e.PALETTE="palette",e.ADD_COLOR="add_color",e.ADD_NEW_PALETTE="add_new_palette",e.COLOR_TABS="color_tabs",e.MAIN_CONTENT="main_content",e.PALETTE_MENU="palette_menu",e.PALETTE_MENU_LAYER="palette_menu_layer",e.SCROLL_WRAP="scroll_wrap",e.SCROLL_CONTENT="scroll_content",e.BASIC_PALETTE="basic_palette",e.CUSTOM_PALETTE="custom_palette",e.CUSTOM_LONG_PALETTE="custom_long_palette",e.SCROLL_BAR_WRAP="scroll_bar_wrap",e.SCROLL_BAR="scroll_bar",e.PALETTE_LIST_WRAP="palette_list_wrap",e.PALETTE_LIST="palette_list",e.PALETTE_LIST_BOTTOM_BAR="palette_list_bottom_bar",e.PALETTE_POPUP="palette_popup",e.PALETTE_POPUP_LAYER="palette_popup_layer",e.PALETTE_POPUP_TITLE="palette_popup_title",e.PALETTE_POPUP_INPUT="palette_popup_input",e.PALETTE_POPUP_DESCRIPTION="palette_popup_description",e.PALETTE_POPUP_CANCEL="palette_popup_cancel",e.PALETTE_POPUP_CONFIRM="palette_popup_confirm",e.PALETTE_POPUP_DELETE="palette_popup_delete",e.COLOR_CONTENT="color_content",e.COLOR_CHIP="color_chip",e.HIDDEN_CHIP="hidden_chip",e.TRANSPARENT="transparent",e.TRANSPARENT_PALETTE="transparent_palette",e.TRANSPARENT_CHIP="transparent_chip",e.TRANSPARENT_TEXT="transparent_text",e.TRANSPARENT_AREA="transparent_area",e.TRANSPARENT_LINE="transparent_line",e.COLOR_TEXT="color_text",e.ADD_COLOR_POPUP="add_color_popup",e.SELECTION_COMPLETE="selection_complete",e.COLOR_TAB_CONTENT="color_tab_content",e.COLOR_TAB_PALETTE_CONTENT="color_tab_palette_content",e.COLOR_TAB_DIRECT_SET_CONTENT="color_tab_direct_set_content",e.COLOR_SPECTRUM="color_spectrum",e.WHITE_SPECTRUM="white_spectrum",e.BLACK_SPECTRUM="black_spectrum",e.BORDER_SPECTRUM="border_spectrum",e.COLOR_SELECTOR="color_selector",e.COLOR_SPECTRUM_SELECTOR="color_spectrum_selector",e.COLOR_BAR="color_bar",e.COLOR_BAR_SELECTOR="color_bar_selector",e.DELETE_COLOR_BUTTONS="delete_color_buttons",e.CANCEL_TO_DELETE="cancel_to_delete",e.COMPLETE_TO_DELETE="complete_to_delete",e.DELETE_COLOR_BAR="delete_color_bar",e.DELETE_COLOR_MODE="delete_color_mode",e.DELETE_COLOR_DESCRIPTION="delete_color_description",e.DELETE_COLOR="delete_color",e.LINE="line",e.USED_COLOR_TEXT="used_color_text",e.COLOR_STATUS="color_status",e.COLOR_DISPLAY="color_display",e.PAGE_SPOID="page_spoid",e.SPOID_CANVAS="spoid_canvas",e.SPOID="spoid",e.MAGNIFIER="magnifier",e.RECT="rect",e.SPOID_COLOR_INFO="spoid_color_info",e.SPOID_COLOR="spoid_color",e.SPOID_COLOR_CODE="spoid_color_code",e.HEX_AREA="hex_area",e.HEX_INPUT="hex_input",e.CHANGE_TO_RIGHT="change_to_right",e.CHANGE_SAME_COLORS="change_same_colors",e.CHANGE_SAME_COLORS_CONTENT="change_same_colors_content",e.CHANGE_SAME_COLORS_CHECK="change_same_colors_check",e.CHANGE_SAME_COLORS_TEXT="change_same_colors_text",e.SOCIAL_LOGIN_BOX="social_login_box",e.SOCIAL_LOGIN_BTN="btn-social-login",e.SOCIAL_LOGIN_IMG="social-login-logo",e.SOCIAL_LOGIN_GOOGLE="google-logo",e.SOCIAL_LOGIN_FACEBOOK="facebook-logo",e.SOCIAL_LOGIN_NAVER="naver-logo",e.SOCIAL_LOGIN_KAKAO="kakao-logo",e.SOCIAL_LOGIN_BIZHOWS="bizhows-logo",e.INFO_WRAP="info_wrap",e.BITMAP_INFO="bitmap_info",e.BITMAP_THUMB="sticker_thumb",e.MOCKUP_INFO="mockup_info",e.MOCKUP_THUMB="mockup_thumb",e.BTN_REGIST_MOCKUP="btn_regist_mockup",e.HELP_CENTER="help_center",e.PROGRESS_WRAP="progress_wrap",e.PROGRESS_BAR="progress_bar",e.PROGRESS_CURRENT="progress_current",e.PROGRESS_CANCEL="progress_cancel",e.DESIGN_SHARE_HEADER="design_share_header",e.DESIGN_SHARE_TAB="share_tab",e.DESIGN_SHARE_DETAIL="share_detail_container",e.DESIGN_SHARE_PUB_TAB="public_share",e.DESIGN_SHARE_PRI_TAB="private_share",e.DESIGN_SHARE_LINK_WRAP="share_link_wrap",e.DESIGN_SHARE_LINK_WRAP_HEADER="share_link_header",e.DESIGN_SHARE_LINK_WRAP_FORM="share_link_form",e.DESIGN_SHARE_VISIBILITY_SETTER="share_visibility",e.DESIGN_SHARE_VISIBILITY_OPTION_BOX="visibility_option_box",e.DESIGN_SHARE_VISIBILITY_OPTION="visibility_option",e.DESIGN_SHARE_DESCRIPTION_FLASH="share_description_flash",e.DESIGN_SHARE_LABELED_OPTION="labeled_switch_wrap",e.DESIGN_SHARE_PUB_TAB_BTN_WRAP="public_share_btn_wrap",e.DESIGN_SHARE_PUB_TAB_BTN="btn_share_confirm",e.DESIGN_SHARE_PRI_SHARED_USER_LIST_WRAP="share_with_user_wrap",e.DESIGN_SHARE_PRI_SHARED_USER_LIST_HEADER="share_with_user_header",e.DESIGN_SHARE_PRI_BTN_UNSHARE_ALL="btn_toggle_unshare_all",e.DESIGN_SHARE_PRI_SHARED_USER_LIST="shared_user_list",e.DESIGN_SHARE_PRI_SHARED_USER_LIST_ROW="row_shared_user",e.DESIGN_SHARE_PRI_INVITE_USER_WRAP="invite_with_mail_wrap",e.DESIGN_SHARE_PRI_MAIL_LIST_WRAP="mail_list_wrap",e.DESIGN_SHARE_PRI_MAIL_LIST_CONTAINER="user_mail_container",e.DESIGN_SHARE_PRI_USER_MAIL_WRAP="user_mail_wrap",e.DESIGN_SHARE_PRI_TAB_BTN_WRAP="private_share_btn_wrap",e.DESIGN_SHARE_PRI_CHANGE_NOTI="change_notification_wrap",e.DESIGN_SHARE_PRI_TAB_BTN_SHARE="ps_btn_share",e.DESIGN_SHARE_PRI_TAB_BTN_CANCEL="ps_btn_cancel",e.DESIGN_PREVIEW_HEADER="new_preview_header",e.DESIGN_PREVIEW_HEADER_LEFT="header_left",e.DESIGN_PREVIEW_HEADER_DESIGN_INFO="design_info",e.DESIGN_PREVIEW_HEADER_RIGHT="header_right",e.DESIGN_PREVIEW_HEADER_RIGHT_PREVIEW_BTN="preview_btn",e.DESIGN_PREVIEW_HEADER_RIGHT_PROFILE="preview_user_profile",e.DESIGN_PREVIEW_BODY="new_preview_body",e.DESIGN_PREVIEW_LOWER_BAR="lower_bar",e.DESIGN_PREVIEW_LOWER_BAR_WEST="west_container",e.DESIGN_PREVIEW_LOWER_BAR_WEST_SCALE_CONTROLLER="scale_controller",e.DESIGN_PREVIEW_LOWER_BAR_WEST_SC_PERCENTAGE_INDICATOR="percentage_indicator",e.DESIGN_PREVIEW_LOWER_BAR_EAST="east_container",e.DESIGN_PREVIEW_LOWER_BAR_EAST_PAGE_INDICATOR="page_indicator",e.DESIGN_PREVIEW_LOWER_BAR_EAST_PI_CURRENT_PAGE="current_page",e.DESIGN_PREVIEW_LOWER_BAR_EAST_ROUND_BTN="round_btn",e.DESIGN_PREVIEW_PROFILE_INFO_BOX="profile-info-box",e.DESIGN_PREVIEW_PROFILE_INFO_BOX_UPPER="upper-wrap",e.DESIGN_PREVIEW_PROFILE_INFO_BOX_LOWER="lower-wrap",e.ITEM_HOVER_BOX="item_hover_box",e.DESIGN_PROJECT_ITEM="design_project_item",e.CONTENT_EDITABLE_ELEMENT="content_editable_element",e.TYPE_NAME="type_name",e.DESIGN_LIST="design_list",e.DESIGN_TYPE_SELECTOR="design_type_selector",e.DESIGN_PROJECT_ITEM_DDDOT_POPUP_CONTENTS="design_project_item_dddot_popup_contents",e.RIGHT_FLOATING_MENU_LAYER_BTN="right_floating_menu_layer_btn",e.RIGHT_FLOATING_MENU_GUIDELINE_BTN="right_floating_menu_guideline_btn",e.RIGHT_FLOATING_MENU_SHEET_SIZE_BTN="right_floating_menu_sheet_size_btn",e.CONTOUR="contour",e.PIXABAY_PHOTO="pixabay_photo",e.PIXABAY_INIT_LAYER="pixabay_init_layer",e.PIXABAY_INIT_TITLE="pixabay_init_title",e.PIXABAY_RECOMMEND_WRAP="pixabay_recommend_wrap",e.PIXABAY_RECOMMEND_TITLE="pixabay_recommend_title",e.PIXABAY_RECOMMENT_KEYWORDS="pixabay_recommend_keywords",e.PRINTOUT_INFO_PRINT_AREA_ON="print_area_on",e.PRINTOUT_RESTRICTION_LEVEL_WARNING="level_warning",e.PRINTOUT_RESTRICTION_LEVEL_CAUTION="level_caution",e.PRINTOUT_RESTRICTION_LEVEL_RECOMMEND="level_recommend",e.PRINTOUT_RESTRICTION_LEVEL_HOLD="level_hold",e.THEME_MIRIDI="theme_miridi",e.THEME_BIZHOWS="theme_bizhows",e.SHARED_DESIGN_VIEWER="shared_design_viewer",e.CONTAINER="container",e.DESIGN_VIEWER="design_viewer",e.BTN_HOME="btn_home",e.TOGGLE_BUTTON="toggle_button",e.DESIGN_PRESENTATION_PLAYER="design_presentation_player",e.DESIGN_PRESENTATION_VIEW="design_presentation_view",e.SLIDE_VIEW="slide_view",e.PAGE_CONTAINER="page_container",e.PAGE_WRAP="page_wrap",e.LOADING_PRESENTATION="loading_presentation",e.PAGE_END_VIEW="page_end_view",e.DESIGN_PRESENTATION_CONTROLLER="design_presentation_controller",e.DESIGN_PRESENTATION_CONFIG_MANAGER="design_presentation_config_manager",e.DESIGN_PRESENTATION_PLAY_CONTROLLER="design_presentation_play_controller",e.DESIGN_PRESENTATION_PAGE_NAVIGATOR="design_presentation_page_navigator",e.PLAYING="playing",e.BUTTON_PLAY="button_play",e.BUTTON_REPEAT="button_repeat",e.DESIGN_PRESENTATION_PAGE_MENU="design_presentation_page_menu",e.OPTION_NAME="option_name",e.OPTION_ELEMENT="option_element",e.ROW="row",e.DESIGN_VIEWER_PROGRESS_BAR="design_viewer_progress_bar",e.FOCUS_BAR="focus_bar",e.TOGGLE_BUTTON_SWITCH="toggle_button_switch",e.SWITCH_SLIDER="switch_slider",e.GUIDE_SCROLL="guide_scroll",e.BUTTON_RADIO="button_radio",e.EDITABLE_SELECT="editable_select",e.OPTION_LAYER="option_layer",e.MULTIPLE_LIST="multiple_list",e.TOOL_WINDOW_LIST="tool_window_list",e.ALL_TYPE_TEMPLATE_LIST="all_type_template_list",e.EMPTY_LIST="empty_list",e.FONT_FAMILY_SELECT="font_family_select",e.FONT_FAMILY_SEARCH_VIEW="font_family_search_view",e.FONT_FAMILY_SEARCH_VIEW_CONTAINER="font_family_search_view_container",e.FONT_FAMILY_KEYWORD_INPUT="font_family_keyword_input",e.FONT_FAMILY_CATEGORY_SELECT="font_family_category_select",e.FONT_FAMILY_LIST="font_family_list",e.FONT_FAMILY_LIST_ITEM="font_family_list_item",e.FONT_FAMILY_FOOTER="font_family_footer",e.FONT_FAMILY_FOOTER_INFO_TEXT="font_family_footer_info_text",e.SCROLLABLE="scrollable",e.HORIZON_HIDDEN="horizon_hidden",e.INPUT_CONTAINER="input_container",e.USER_PROFILE_CARD="user_profile_card",e.SUBSCRIBE_TYPE="subscribe_type",e.USER_PROFILE_ICON="user_profile_icon",e.USER_NAME="user_name";e.USER_EMAIL="user_email",e.BUTTON="button",e.NAME="name",e.USER_LINK_MENU="user_link_menu",e.WELCOME="welcome",e.SEARCH_KEYWORD_PRESET_VIEW="search_keyword_preset_view",e.SEARCH_KEYWORD_LIST_VIEW="search_keyword_list_view",e.RECENT="recent",e.RECOMMEND="recommend",e.SEARCH_AUTO_COMPLETE_VIEW="search_auto_complete_view",e.FOCUSING="focusing",e.SEARCH_FILTER="search_filter",e.SEARCH_FILTER_MENU="search_filter_menu",e.TEMPLATE_PANEL="template_panel",e.ELEMENT_PANEL="element_panel",e.RADIO_BUTTON="radio_button",e.YOUTUbE_URL="youtube_url"}(i||(i={}))}}]);